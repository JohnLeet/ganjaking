jQuery(function(e){e(document).ready(function(l){l(document.body).on("ywcmas_init_pp",function(e,n){l(".ywcmas_shipping_address_button_new, .ywcmas_shipping_address_button_edit").each(function(e,a){l(a).prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1,modal:!0,keyboard_shortcuts:!1,changepicturecallback:function(){l(document.body).trigger("ywcmas_shipping_address_form_created",n)}})}),l(".ywcmas_shipping_address_button_delete").each(function(e,a){l(a).prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,default_height:100,deeplinking:!1,modal:!0,keyboard_shortcuts:!1,changepicturecallback:function(){l(document.body).trigger("ywcmas_delete_shipping_address_window_created",n)}})})}),l(document.body).on("ywcmas_shipping_address_form_created",function(e,i){l(document.body).trigger("scroll.prettyphoto");var r=l("div.pp_content_container"),_=l("a.pp_close"),a=l("div.pp_inline div.woocommerce form"),n=a.find(".woocommerce-address-fields__field-wrapper"),o=a.find("#shipping_country").val();l(document.body).trigger("country_to_state_changing",[o,n]),l(document.body).trigger("country_to_state_changed"),a.find("#shipping_country").on("select2:select",function(){l(this).selectWoo("open"),l(this).selectWoo("close")}),a.on("submit",function(e){e.preventDefault();var a,n,o=l(this).find("#address_id").val(),t=l(this).find("#_wpnonce").val(),c=l(this).find("#ywcmas_current_address_id").val(),d=l("div.woocommerce-address-fields p.validate-required :input").not(".hidden"),s=!1;d.each(function(e,a){""===l(a).val()&&(s=!0)}),s?alert(ywcmas_frontend_params.fill_fields):((a=l(this).serializeArray()).push({name:"action",value:"ywcmas_save_address"},{name:"security",value:t},{name:"location",value:i},{name:"address_id",value:o},{name:"current_address_id",value:c}),n={url:ywcmas_frontend_params.ajax_url,data:a,complete:function(){r.unblock(),_.show(),"my-account"===i&&(window.location.href=window.location.href),"checkout"===i&&(_.click(),l("select.ywcmas_addresses_manager_address_select").trigger("change",o),l("#ywcmas_manage_addresses_cb").trigger("change"))}},r.block({message:null,overlayCSS:{background:"#f1f1f1",opacity:.7}}),_.hide(),l.post(n))})}),l(document.body).on("ywcmas_delete_shipping_address_window_created",function(e,t){var c=l("div.pp_content_container"),d=l("a.pp_close"),a=c.find("#ywcmas_delete_address_yes"),n=c.find("#ywcmas_delete_address_no");a.on("click",function(e){e.preventDefault();var a,n=l("#ywcmas_current_address_id").val(),o=l("#ywcmas_delete_all").val();(n||o)&&(a={url:ywcmas_frontend_params.ajax_url,data:{action:"ywcmas_delete_shipping_address",security:ywcmas_frontend_params.delete_shipping_address,current_address_id:n,delete_all:o},complete:function(){c.unblock(),d.show(),"my-account"===t&&(window.location.href=window.location.href),"checkout"===t&&(d.click(),l("select.ywcmas_addresses_manager_address_select").trigger("change","_no-address"),l("#ywcmas_manage_addresses_cb").trigger("change"))}},c.block({message:null,overlayCSS:{background:"#f1f1f1",opacity:.7}}),d.hide(),l.post(a))}),n.on("click",function(e){e.preventDefault(),d.click()})})})});