jQuery(function(a){a(document).ready(function(a){function b(b,c,d){b&&c&&(dialog_window=d.closest("div.ui-dialog"),dialog_window.block({message:null,overlayCSS:{background:"#f1f1f1",opacity:.7},baseZ:2e5}),data={action:"ywcmas_admin_get_user_address",address_id:b,order_id:a("#post_ID").val()},a.post(ywcmas_admin.ajax_url,data,function(c){dialog_window.unblock();var e=c.data?c.data:"";if(e){var f="billing_address"==b?"billing_":"shipping_";a(d).find(".ywcmas_destination_shipping_first_name").val(e[f+"first_name"]),a(d).find(".ywcmas_destination_shipping_last_name").val(e[f+"last_name"]),a(d).find(".ywcmas_destination_shipping_company").val(e[f+"company"]),a(d).find(".ywcmas_destination_shipping_country").val(e[f+"country"]).trigger("change"),a(d).find(".js_field-state").val(e[f+"state"]).trigger("change"),a(d).find(".ywcmas_destination_shipping_address_1").val(e[f+"address_1"]),a(d).find(".ywcmas_destination_shipping_address_2").val(e[f+"address_2"]),a(d).find(".ywcmas_destination_shipping_city").val(e[f+"city"]),a(d).find(".ywcmas_destination_shipping_postcode").val(e[f+"postcode"])}}))}function c(b){var c=a(b).closest("div.ui-dialog"),d=a(b).closest(".ywcmas_edit_shipping_item_dialog").data("shipping_id");c.block({message:null,overlayCSS:{background:"#f1f1f1",opacity:.7},baseZ:2e5});var e={action:"ywcmas_save_shipping_item_address",shipping_id:d,order_id:a("#post_ID").val(),address:{first_name:a(b).find(".ywcmas_destination_shipping_first_name").val(),last_name:a(b).find(".ywcmas_destination_shipping_last_name").val(),company:a(b).find(".ywcmas_destination_shipping_company").val(),country:a(b).find(".ywcmas_destination_shipping_country").val(),address:a(b).find(".ywcmas_destination_shipping_address_1").val(),address_2:a(b).find(".ywcmas_destination_shipping_address_2").val(),city:a(b).find(".ywcmas_destination_shipping_city").val(),state:a(b).find(".js_field-state").val(),postcode:a(b).find(".ywcmas_destination_shipping_postcode").val()}};a.post(ywcmas_admin.ajax_url,e,function(){c.unblock()})}function d(b){return{first_name:a(b).find(".ywcmas_destination_shipping_first_name").val(),last_name:a(b).find(".ywcmas_destination_shipping_last_name").val(),company:a(b).find(".ywcmas_destination_shipping_company").val(),country:a(b).find(".ywcmas_destination_shipping_country").val(),address:a(b).find(".ywcmas_destination_shipping_address_1").val(),address_2:a(b).find(".ywcmas_destination_shipping_address_2").val(),city:a(b).find(".ywcmas_destination_shipping_city").val(),state:a(b).find(".js_field-state").val(),postcode:a(b).find(".ywcmas_destination_shipping_postcode").val()}}function f(b,c){a.each(b,function(a,b){a="address"===a?"address_1":a,c.find(".ywcmas_destination_shipping_"+a).val(b)}),c.find(".ywcmas_destination_shipping_country").trigger("change")}var g=a("table.woocommerce_order_items tbody#order_shipping_line_items tr.shipping td.name div.ywcmas_shipping_address");0<g.length&&a("div.order_data_column_container div.order_data_column:eq( 2 )").hide();var h=[];a(".ywcmas_edit_shipping_item_dialog").each(function(e,g){a.ui.dialog.prototype._allowInteraction=function(){return!0};//////////////////////////////////////////////////////////////////////////////////
var i=a(g),j=i.data("shipping_id");i.find(".js_field-state").addClass("ywcmas_destination_shipping_state"),h[j]=i;var k=d(i),l=i.find(".ywcmas_edit_shipping_item_load_button"),m=i.find(".ywcmas_edit_shipping_item_revert_button");l.on("click",function(a){a.preventDefault();var c=i.find(".ywcmas_edit_shipping_item_addresses_select").val();b(c,j,i)}),m.on("click",function(a){a.preventDefault(),f(k,i)});var n={autoOpen:!1,show:{effect:"scale",duration:300},hide:{effect:"scale",duration:300},modal:!0,width:450,fluid:!0,buttons:[{text:ywcmas_admin.save_button,click:function(){c(i),k=d(i),$cancel_button=a(".wc-order-add-item .cancel-action"),$cancel_button.attr("data-reload",!0),$cancel_button.click()}},{text:ywcmas_admin.cancel_button,click:function(){f(k,i),a(this).dialog("close")}}]};i.dialog(n)}),a("#woocommerce-order-items").on("click",".ywcmas_edit_shipping_address_button",function(b){b.preventDefault(),b.stopPropagation();var c=a(this).data("shipping_id");h[c].dialog("open")})})});