jQuery(document).ready(function(a){var e=a("#yith_wcac_active_campaign_list, #yith_wcac_shortcode_active-campaign_list, #yith_wcac_widget_active-campaign_list, #yith_wcac_register_active-campaign_list, #yith_wcac_export_list"),h=a('#yith_wcac_active_campaign_tags, #yith_wcac_shortcode_active-campaign_tags, #yith_wcac_shortcode_active-campaign_show_tags, #yith_wcac_widget_active-campaign_tags, #yith_wcac_widget_active-campaign_show_tags, #yith_wcac_register_active-campaign_tags, #yith_wcac_register_active-campaign_show_tags, [id^="yith_wcac_tags_order"], #yith_wcaf_product_tags'),
    k=a("#yith_wcac_export_field_waiting_products");e.after(a("<a>").addClass("button button-secondary ajax-active-campaign-updater ajax-active-campaign-updater-list").attr("id","yith_wcac_active_campaign_list_updater").attr("href","#").text(yith_wcac.labels.update_list_button));h.after(a("<a>").addClass("button button-secondary ajax-active-campaign-updater ajax-active-campaign-updater-tags").attr("id","yith_wcac_active_campaign_tags_updater").attr("href","#").text(yith_wcac.labels.update_group_button));
    k.after(a("<a>").addClass("button button-secondary ajax-active-ampaign-updater ajax-active-campaign-updater-field update-fields").attr("id","yith_wcac_active_campaign_field_updater").attr("href","#").text(yith_wcac.labels.update_field_button));var l=function(c){var b=a(this),d=a(this).closest("td").find("select"),f=d.find("option:selected").val();c.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.unblock()},data:{request:"lists",
            force_update:!0,action:yith_wcac.actions.wcac_do_request_via_ajax_action,yith_wcac_ajax_request_nonce:yith_wcac.ajax_request_nonce},dataType:"json",method:"POST",success:function(a){a="undefined"!=typeof a.lists?a.lists:[];var c="",b=0;if(a.length)for(;"undefined"!=typeof a[b];)c+='<option value="'+a[b].id+'" '+(f===a[b].id?'selected="selected"':"")+" >"+a[b].name+"</option>",b++;d.html(c);c.length?d.removeProp("disabled"):d.prop("disabled",!0)},url:ajaxurl})},m=function(c){var b=a(this),d=a(this).closest("tr").find("select"),
        f=[];d.find("option:selected").each(function(b){f.push(a(this).val())});c.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.unblock()},data:{request:"tags",force_update:!0,action:yith_wcac.actions.wcac_do_request_via_ajax_action,yith_wcac_ajax_request_nonce:yith_wcac.ajax_request_nonce},dataType:"json",method:"POST",success:function(b){b="undefined"!=typeof b.tags?b.tags:[];var c="",g=0;if(b)for(;"undefined"!=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   typeof b[g];)c+='<option value="'+b[g].id+'" '+(0<=a.inArray(b[g].id,f)?'selected="selected"':"")+" >"+b[g].tag+"</option>",g++;d.html(c);c.length?d.removeProp("disabled"):d.prop("disabled",!0)},url:ajaxurl})},n=function(c){var b=a(this).hasClass("ajax-active-campaign-updater-field")?a(this).parent().find("select"):a(this).parents("tr").next().find("select"),d=b.closest("td").find(".update-fields"),f=b.closest("tr").siblings().find(".list-select").find("option:selected").val(),e=b.parent().find("select"),
        h=e.val();c.preventDefault();0===f.length?b.prop("disabled"):b.removeProp("disabled");a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{force_update:!0,action:yith_wcac.actions.wcac_get_fields_via_ajax_action,yith_wcac_ajax_request_nonce:yith_wcac.ajax_request_nonce},dataType:"json",method:"POST",success:function(a){var b="";jQuery.each(a,function(a,c){b+='<option value="'+a+'" '+(h==a?'selected="selected"':
            "")+" >"+c.title+"</option>"});e.html(b);0===b.length?e.prop("disabled"):e.removeProp("disabled")},url:ajaxurl})};e=function(){a(document).off("click",".ajax-active-campaign-updater-list");a(document).off("click",".ajax-active-campaign-updater-tags");a(document).off("click",".ajax-active-campaign-updater-field");a(document).off("change",".list-select");a(document).on("click",".ajax-active-campaign-updater-list",l);a(document).on("click",".ajax-active-campaign-updater-tags",m);a(document).on("click",
        ".ajax-active-campaign-updater-field",n);a(document).on("change",".list-select",function(){a(this).parents().find(".ajax-active-campaign-updater-tags").click();a(this).parents().find(".ajax-active-campaign-updater-field").click()})};a("body").on("add_updater_handler",e).on("woocommerce_variations_loaded",function(){a('[id^="yith_wcaf_variable_product_tags"]').parent().append(a("<a>").addClass("button button-secondary ajax-active-campaign-updater ajax-active-campaign-updater-tags").attr("id","yith_wcac_active_campaign_tags_updater").attr("href",
        "#").text(yith_wcac.labels.update_group_button))});e();(function(){a("#yith_wcac_panel_deep-data").on("click",".send-request",function(){var c=a(this).data("url");console.log(c);window.location.href=c})})();a("#yith_wcac_checkout_trigger").on("change",function(){var c=a(this),b=a("#yith_wcac_checkout_subscription_checkbox"),d=a("#yith_wcac_contact_status");"never"!=c.val()?(b.parents("tr").show(),d.parents("tr").show(),a("#yith_wcac_checkout_subscription_checkbox_label").parents("tr").show(),a("#yith_wcac_checkout_subscription_checkbox_position").parents("tr").show(),
        a("#yith_wcac_checkout_subscription_checkbox_default").parents("tr").show(),b.change(),d.change()):(b.parents("tr").hide(),d.parents("tr").hide(),a("#yith_wcac_checkout_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcac_checkout_subscription_checkbox_position").parents("tr").hide(),a("#yith_wcac_checkout_subscription_checkbox_default").parents("tr").hide())}).change();a("#yith_wcac_checkout_subscription_checkbox").add("#yith_wcac_register_subscription_checkbox").on("change",function(){var c=
        a(this);c.is(":visible")&&(c.is(":checked")?(a("#yith_wcac_checkout_subscription_checkbox_label, #yith_wcac_register_subscription_checkbox_label").parents("tr").show(),a("#yith_wcac_checkout_subscription_checkbox_position").parents("tr").show(),a("#yith_wcac_checkout_subscription_checkbox_default, #yith_wcac_register_subscription_checkbox_default").parents("tr").show()):(a("#yith_wcac_checkout_subscription_checkbox_label, #yith_wcac_register_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcac_checkout_subscription_checkbox_position").parents("tr").hide(),
        a("#yith_wcac_checkout_subscription_checkbox_default, #yith_wcac_register_subscription_checkbox_default").parents("tr").hide()))}).change();a("#yith_wcac_store_integration_abandoned_cart_enable").on("change",function(){var c=a("#yith_wcac_store_integration_abandoned_cart_enable_guest"),b=a("#yith_wcac_store_integration_abandoned_cart_delay");a(this).is(":checked")?(c.closest("tr").show().end().change(),b.closest("tr").show()):(c.closest("tr").hide().end().change(),b.closest("tr").hide())}).change();
    a("#yith_wcac_store_integration_abandoned_cart_enable_guest").on("change",function(){var c=a("#yith_wcac_store_integration_abandoned_cart_enable_guest_after_tc");a(this).is(":checked")&&a(this).is(":visible")?c.closest("tr").show():c.closest("tr").hide()}).change();a("#yith_wcac_deep_data_delete_connection").on("click",function(c){var b=a(this);c.preventDefault();window.confirm(yith_wcac.labels.confirm_connection_delete)&&a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",
                opacity:.6}})},data:{action:yith_wcac.actions.wcac_delete_connection_via_ajax_action,yith_wcac_ajax_request_nonce:yith_wcac.ajax_request_nonce},success:function(){window.location.reload()},url:ajaxurl})});h.select2({allowClear:!0,minimumResultsForSearch:Infinity,tokenSeparators:[","," "]});a("#yith_wcac_store_connection_name").length&&(a("#plugin-fw-wc-reset").hide(),a("#plugin-fw-wc").find('input[type="submit"]').val(yith_wcac.labels.connect_store_button))});