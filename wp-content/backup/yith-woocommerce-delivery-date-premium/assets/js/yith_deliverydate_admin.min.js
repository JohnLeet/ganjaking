jQuery(document).ready(function(h){h.fn.checkRequiredFields=function(){var e=h(this).find(":input.yith-required-field"),a="yes";return h.each(e,function(e,d){var t=h(d).val();""===t||null===t?(h(d).hasClass("wc-enhanced-select")||h(d).hasClass("yith-post-search")||h(d).hasClass("yith-term-search")?h(d).parent().find(".select2.select2-container").addClass("ywcdd_required_field"):h(d).addClass("ywcdd_required_field"),a="no"):h(d).hasClass("wc-enhanced-select")||h(d).hasClass("yith-post-search")||h(d).hasClass("yith-term-search")?h(d).parent().find(".select2.select2-container").removeClass("ywcdd_required_field"):h(d).removeClass("ywcdd_required_field")}),a},h('.ywcdd_processing_type input[type="radio"]').on("change",function(e){var a=h(this);h.each(["ywcdd_delivery_mode","ywcdd_fee_is_taxable","yith_delivery_date_format"],function(e,d){var t=h("#"+d).parents("tr");"product"===a.val()&&a.is(":checked")?t.addClass("yith-disabled"):t.removeClass("yith-disabled")}),("product"!==a.val()||!a.is(":checked"))&&h("#ywcdd_fee_is_taxable").is(":checked")?h("#ywcdd_fee_tax_class").parents("tr").removeClass("yith-disabled"):h("#ywcdd_fee_tax_class").parents("tr").addClass("yith-disabled"),h.each(["ywcdd_delivery_settings_title-description","ywcdd_timeslot_settings_title-description"],function(e,d){"product"===a.val()&&a.is(":checked")?h("#"+d).show():h("#"+d).hide()})}).trigger("change"),h("#ywcdd_ddm_enable_shipping_message").on("change",function(e){var d=h("#ywcdd_ddm_enable_delivery_message"),t=h("#ywcdd_ddm_where_show_delivery_message");"no"===h(this).val()&&"no"===d.val()?t.parents("tr").addClass("yith-disabled"):t.parents("tr").removeClass("yith-disabled")}),h("#ywcdd_ddm_enable_delivery_message").on("change",function(e){var d=h("#ywcdd_ddm_enable_shipping_message"),t=h("#ywcdd_ddm_where_show_delivery_message");"no"===h(this).val()&&"no"===d.val()?t.parents("tr").addClass("yith-disabled"):t.parents("tr").removeClass("yith-disabled")}),h("#yith_delivery_date_panel_processing-method").length&&(h(document).on("yith-toggle-change-counter",function(e,d,t){var a,i,n=t.attr("id");"yith_new_shipping_day_prod_add_box"===n?(a=t.find("#new_product").val(),d.val(a)):"yith_new_shipping_day_cat_add_box"===n&&(i=t.find("#new_category").val(),d.val(i))}),h(document).on("click",".ywcdd_add_range",function(e){e.preventDefault();var d=h(this).parent().parent(),t=d.find(".ywcdd_quantity_row"),a=t.find(".ywcdd_quantity_item").size(),i=d.data("row"),n=(i=h(i)).html().replace(/index/g,a);i.html(n),i.appendTo(t)}),h(document).on("click",".ywcdd_delete_range",function(e){e.preventDefault(),h(this).parents(".ywcdd_quantity_item").remove()}),h(document).on("yith-toggle-element-item-before-add",function(e,s,c,d){var t,a,r,l,i,o,n,_=s.checkRequiredFields(),y=s.attr("id");d.val(_),"yes"==_&&(t=s.find(".ywcdd_quantity_row .ywcdd_quantity_item"),r=0,i=l=a="","yith_new_shipping_day_cat_add_box"===y?(a="yith_new_shipping_day_cat",l=s.find("#new_category").val(),i="category"):"yith_new_shipping_day_prod_add_box"===y&&(a="yith_new_shipping_day_prod",l=s.find("#new_product").val(),i="product"),o=["from","to","day"],h.each(t,function(e,d){var n=a+"["+l+"][need_process_day]["+r+"]",_=h(t[0]).clone();h.each(o,function(e,d){var t,a=d+"_"+r+"_need_process_day_"+l,i=n+"["+d+"]";c.find("#"+a).length||(t="","from"==d?(_.find(".ywcdd_from").attr("id",a).attr("name",i),t=s.find("#from_"+r+"_new_need_process_day").val(),_.find(".ywcdd_from").val(t)):"to"==d?(_.find(".ywcdd_to").attr("id",a).attr("name",i),t=s.find("#to_"+r+"_new_need_process_day").val(),_.find(".ywcdd_to").val(t)):(_.find(".ywcdd_day").attr("id",a).attr("name",i),t=s.find("#day_"+r+"_new_need_process_day").val(),_.find(".ywcdd_day").val(t)),_.appendTo(c.find(".ywcdd_quantity_row")))}),r++}),n={field_selected:l,action:yith_delivery_parmas.actions.update_custom_processing_title,custom_type_title:i},h.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:n,dataType:"json",success:function(e){"undefined"!=typeof e.title&&c.find("h3 .title").html(e.title)}}))}),h(document).on("yith-toggle-element-item-before-update",function(e,d,t){var a=d.checkRequiredFields();t.val(a)}))});