jQuery(document).ready(function(r){var n=function(e){var t=e.find(":input.yith-required-field"),i="yes";return r.each(t,function(e,t){var d=r(t).val();""===d||null===d?(r(t).hasClass("wc-enhanced-select")||r(t).hasClass("yith-post-search")||r(t).hasClass("yith-term-search")?r(t).parent().find(".select2.select2-container").addClass("ywcdd_required_field"):r(t).addClass("ywcdd_required_field"),i="no"):r(t).hasClass("wc-enhanced-select")||r(t).hasClass("yith-post-search")||r(t).hasClass("yith-term-search")?r(t).parent().find(".select2.select2-container").removeClass("ywcdd_required_field"):r(t).removeClass("ywcdd_required_field")}),i},d=function(){r(document).find(".yith_timepicker").timepicker({timeFormat:yith_delivery_parmas.timeformat,step:yith_delivery_parmas.timestep})},l=function(e){var t=e.find(".ywcdd_timeslot_name").val(),d=e.find(".yith_timepicker_from").val(),i=e.find(".yith_timepicker_to").val(),a=e.find("span.title").html(),n=e.find("div.subtitle").html(),l=a.replace("%%slot_name%%",t),r=(r=n.replace("%%timefrom%%",d)).replace("%%timeto%%",i);e.find("span.title").html(l),e.find("div.subtitle").html(r)};r(document).on("click",".yith_delivery_date_fields_container a.ywcdd_add_new_day",function(e){e.preventDefault();var t=r(".ywcdd_estimated_day_row").length,d=r(".ywcdd_field_list");template=wp.template("ywcdd-carrier-estimated-days"),template=r(template({index:t})),d.append(template)}),r(document).on("click",".ywcdd_field_list a.ywcdd_delete_range",function(e){e.preventDefault(),r(this).parents(".ywcdd_estimated_day_row").remove()}),r(document).on("yith-toggle-change-counter",function(e,t,d){var i,a,n,l;"_ywcdd_addtimeslot_add_box"===d.attr("id")&&(i=r("#post_ID").val(),(n="ywcdd_carrier_"+i+"_timeslot_")===undefined&&(n="_"),l===undefined&&(l=13),a=n+Math.random().toString(l).substr(2,l),t.val(a))}),r(document).on("yith-toggle-element-item-before-update",function(e,t,d,i){var a=n(d);i.val(a),"yes"===a&&l(d)}),r(document).on("yith-toggle-element-item-before-add",function(e,t,d,i){var a=n(t);i.val(a),"yes"===a&&l(d)}),d(),r(document).on("yith-add-box-button-toggle",function(e,t){d()}).on("yith_save_toggle_element_done",function(e,t){d()}),yith_delivery_parmas.disable_timeslot_metabox&&r("#yit-carrier-time-slot-metaboxes #_ywcdd_addtimeslot").addClass("yith-disabled")});