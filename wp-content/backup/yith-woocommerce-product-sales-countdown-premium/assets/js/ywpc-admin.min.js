jQuery(function(s){s(".ywpc-dates input").datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(e){var t=s(this).is(".ywpc_sale_price_dates_from")?"minDate":"maxDate",a=s(this).data("datepicker"),i=s.datepicker.parseDate(a.settings.dateFormat||s.datepicker._defaults.dateFormat,e,a.settings),c=s(this).val();"minDate"==t?s(".ywpc_sale_price_dates_to").datetimepicker("option",t,i):s(".ywpc_sale_price_dates_from").datetimepicker("option",t,i),s("#_ywpc_variations_global_countdown").is(":checked")||(s(this).is("#_ywpc_sale_price_dates_from")?s(".ywpc_sale_price_dates_from").val(c):s(".ywpc_sale_price_dates_to").val(c),s(".woocommerce_variation").addClass("variation-needs-update"),s(".save-variation-changes").removeAttr("disabled"),s(".cancel-variation-changes").removeAttr("disabled"))}});var c=s("#_ywpc_sale_price_dates_from, #_ywpc_sale_price_dates_to");function e(){s(".woocommerce_variation").addClass("variation-needs-update"),s(".save-variation-changes").removeAttr("disabled"),s(".cancel-variation-changes").removeAttr("disabled")}c.datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(e){var t=s(this).is("#_ywpc_sale_price_dates_from")?"minDate":"maxDate",a=s(this).data("datepicker"),i=s.datepicker.parseDate(a.settings.dateFormat||s.datepicker._defaults.dateFormat,e,a.settings);c.not(this).datetimepicker("option",t,i)}}),s(document).ready(function(){s("#_ywpc_enabled").change(function(){s(this).is(":checked")?(s("#_ywpc_sale_price_dates_from").removeAttr("disabled"),s("#_ywpc_sale_price_dates_to").removeAttr("disabled"),s("#_ywpc_discount_qty").removeAttr("disabled"),s("#_ywpc_sold_qty").removeAttr("disabled"),s("#_ywpc_variations_global_countdown").removeAttr("disabled"),s(".ywpc-variation-field").each(function(){s(this).removeAttr("disabled")})):(s("#_ywpc_sale_price_dates_from").attr("disabled","disabled").val(""),s("#_ywpc_sale_price_dates_to").attr("disabled","disabled").val(""),s("#_ywpc_discount_qty").attr("disabled","disabled").val(""),s("#_ywpc_sold_qty").attr("disabled","disabled").val(""),s("#_ywpc_variations_global_countdown").attr("disabled","disabled").val(""),s(".ywpc-variation-field").each(function(){s(this).attr("disabled","disabled").val("")})),e()}).change(),s("#_ywpo_preorder").change(function(){s(this).is(":checked")?(s("#_ywpc_sale_price_dates_from").attr("disabled","disabled"),s("#_ywpc_sale_price_dates_to").attr("disabled","disabled")):s("#_ywpc_enabled").is(":checked")&&(s("#_ywpc_sale_price_dates_from").removeAttr("disabled"),s("#_ywpc_sale_price_dates_to").removeAttr("disabled"))}).change(),s("#_ywpc_variations_global_countdown").change(function(){s(this).is(":checked")?s(".ywpc-variation-field").each(function(){s(this).attr("disabled","disabled").val("")}):(s(".woocommerce_variation .ywpc_sale_price_dates_from").removeAttr("disabled").val(s("#_ywpc_sale_price_dates_from").val()),s(".woocommerce_variation .ywpc_sale_price_dates_to").removeAttr("disabled").val(s("#_ywpc_sale_price_dates_to").val()),s(".woocommerce_variation .ywpc_discount_qty").removeAttr("disabled").val(s("#_ywpc_discount_qty").val()),s(".woocommerce_variation .ywpc_sold_qty").removeAttr("disabled").val(s("#_ywpc_sold_qty").val())),e()}).change(),s("#_ywpc_discount_qty").change(function(){s("#_ywpc_variations_global_countdown").is(":checked")||(s(".ywpc_discount_qty").val(s(this).val()),e())}).change(),s("#_ywpc_sold_qty").change(function(){s("#_ywpc_variations_global_countdown").is(":checked")||(s(".ywpc_sold_qty").val(s(this).val()),e())}).change(),s(".ywpc-countdown-admin").each(function(){var e=s("input",this).val().split("."),t=s(this).clone(),a=" .ywpc-char-"+(ywpc.is_rtl?"2":"1"),i=" .ywpc-char-"+(ywpc.is_rtl?"1":"2"),c=" .ywpc-char-"+(ywpc.is_rtl?"2":"0"),d=" .ywpc-char-"+(ywpc.is_rtl?"0":"2");s(".ywpc-days"+c,t).text("{d100}"),s(".ywpc-days .ywpc-char-1",t).text("{d10}"),s(".ywpc-days"+d,t).text("{d1}"),s(".ywpc-hours"+a,t).text("{h10}"),s(".ywpc-hours"+i,t).text("{h1}"),s(".ywpc-minutes"+a,t).text("{m10}"),s(".ywpc-minutes"+i,t).text("{m1}"),s(".ywpc-seconds"+a,t).text("{s10}"),s(".ywpc-seconds"+i,t).text("{s1}"),s(this).countdown({until:s.countdown.UTCDate(ywpc.gmt,e[0],e[1],e[2],e[3],e[4]),layout:t.html()})})}),s("li.product_countdown_tab a").on("click",function(){s("#variable_product_options").trigger("reload")}),s("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){var e=s("#woocommerce-product-data");s(".ywpc-dates",e).each(function(){var c=s(this).find("input").datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(e){var t=s(this).is(".ywpc_sale_price_dates_from")?"minDate":"maxDate",a=s(this).data("datepicker"),i=s.datepicker.parseDate(a.settings.dateFormat||s.datepicker._defaults.dateFormat,e,a.settings);c.not(this).datetimepicker("option",t,i),s(this).change(),s(".woocommerce_variation").addClass("variation-needs-update")}})}),s(".ywpc-variation-field").each(function(){s("#_ywpc_variations_global_countdown").is(":checked")||!s("#_ywpc_enabled").is(":checked")?s(this).attr("disabled","disabled"):s(this).removeAttr("disabled")}),s(".variable_is_preorder").change(function(){s(this).is(":checked")?(s(this).parent().parent().parent().find(".ywpc-variation-field").attr("disabled","disabled"),s("#_ywpc_enabled").prop("checked",!0)):s(this).parent().parent().parent().find(".ywpc-variation-field").removeAttr("disabled")})}),s("#ywpc_before_sale_start").change(function(){var e=s("#ywpc_before_sale_start_status").parent().parent().parent().parent();s(this).is(":checked")?e.show():e.hide()}).change()});