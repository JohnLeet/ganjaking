jQuery(document).ready(function(r){var _=function(){var e=r(document).find('select[name^="attribute"]'),t={};return e.each(function(){var e=r(this),a=e.attr("name");t[a]=e.val()}),t},o=function(e,a){(a=a||(r(".woocommerce-notices-wrapper:first")||r(".cart-empty").closest(".woocommerce")||r(".woocommerce-cart-form"))).find(".woocommerce-message").remove(),a.prepend(e)};r("form.variations_form.cart").length&&r(".variations_form").on("show_variation",function(e,a,t){var i=a.variation_id,s={product_id:r('input[name="add-to-cart"]').val(),variation_id:i,variation:_(),action:"check_if_variation_is_in_list"},n=r(this).parent();r(".ywslf_variation_id").val(i),r(".ywsfl_single_message").html(""),n.block({message:null,overlayCSS:{background:"#fff",opacity:.6},ignoreIfBlocked:!0}),r.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:s,dataType:"json",success:function(e){e.in_save_list?(r(".ywsfl_single_remove").removeClass("ywsfl_hide"),r(".ywsfl_single_add").addClass("ywsfl_hide"),r('input[name="save_item_id"]').val(e.in_save_list)):(r(".ywsfl_single_add").removeClass("ywsfl_hide").attr("disabled",!1),r(".ywsfl_single_remove").addClass("ywsfl_hide"),r('input[name="save_item_id"]').val("")),n.unblock()}})}).on("reset_data",function(e){r(".ywsfl_single_remove").addClass("ywsfl_hide"),r(".ywsfl_single_add").addClass("ywsfl_hide")}),r(document).on("click",".ywsfl_single_add",function(e){var a,t,i,s;e.preventDefault(),r(document).find("form.cart").length&&(a=r(document).find("form.cart"),t=a.find(".single_add_to_cart_button").val(),i="",s={},a.hasClass("variations_form")&&(t=a.find('input[name="product_id"]').val(),i=a.find('input[name="variation_id"]').val(),s=_()));var n=r(this),l={product_id:t,variation_id:i,variation:s,action:ywsfl_single_product_args.actions.add_single_product_save_list};r.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:l,dataType:"json",success:function(e){var a;o(e.notice),e.last_item_id&&(n.parent().find('input[name="save_item_id"]').val(e.last_item_id),a="<a href='"+ywsfl_single_product_args.view_list.url+"'>"+ywsfl_single_product_args.view_list.label+"</a>",n.addClass("ywsfl_hide"),n.parent().find(".ywsfl_single_message").html(a).show(),n.parent().find(".ywsfl_single_remove ").removeClass("ywsfl_hide"),r("body").trigger("added_to_save_for_later_list",[t,i,s]))},complete:function(){r.scroll_to_notices(r('[role="alert"]'))}})}).on("click",".ywsfl_single_remove",function(e){e.preventDefault();var a=r(this),t={remove_from_savelist:a.parent().find('input[name="save_item_id"]').val(),action:"remove_from_savelist"};r.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:t,dataType:"json",success:function(e){r(".ywsfl_single_remove").addClass("ywsfl_hide"),a.parent().find(".ywsfl_single_add").removeClass("ywsfl_hide").attr("disabled",!1),o(e.notice)},complete:function(){r.scroll_to_notices(r('[role="alert"]'))}})}),r("body").on("added_to_save_for_later_list",function(e,a,t,i){e.preventDefault();var s={product_id:a,variation_id:t,variation:i,action:ywsfl_single_product_args.actions.remove_after_add_list};r.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:s,dataType:"json",success:function(e){var a,t=e.result,i=e.cart_item_key;t&&(a=i,r(document).find(".cart_list").find(".mini_cart_item a:first-child").each(function(){var e=r(this);href=e.attr("href"),-1!=href.search(a)&&(window.location.href=href)}))}})}).on("refresh_save_for_later_list",function(e,a,t){var i,s;i=t,(s=r(document).find("#ywsfl_general_content")).length&&s.replaceWith(i)}),r(document).on("added_to_cart","body",function(e,a,t,i){var s=i.closest("#ywsfl_general_content");i.closest("div.ywsfl-row");0!=s.length&&(r(".ywsfl_single_add").removeClass("ywsfl_hide"),r(".ywsfl_single_remove").addClass("ywsfl_hide"),r(document).find(".ywsfl_single_remove").trigger("click"))})});