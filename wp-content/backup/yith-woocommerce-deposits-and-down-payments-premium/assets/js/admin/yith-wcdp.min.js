jQuery(document).ready(function(a){var x=a("#yith_wcdp_general_deposit_type"),q=a("#yith_wcdp_general_deposit_amount"),r=a("#yith_wcdp_general_deposit_rate"),y=a("#yith_wcdp_general_deposit_virtual"),g=a("#yith_wcdp_general_deposit_shipping"),t=a("#yith_wcdp_general_deposit_shipping_admin_selection"),u=a("#yith_wcdp_general_create_balance_orders"),z=a("#yith_wcdp_deposit_expiration_enable"),h=a("#yith_wcdp_deposits_expiration_type"),k=a("#yith_wcdp_deposits_expiration_duration"),l=a("#yith_wcdp_deposits_expiration_date"),
    m=a("#yith_wcdp_deposits_expiration_product_fallback"),v=a("#yith_wcdp_deposit_expiration_fallback"),n=a("#yith_wcdp_notify_customer_deposit_expiring"),p=a("#yith_wcdp_notify_customer_deposit_expiring_days_limit"),A=a("#yith_wcdp_balance_type"),w=a("#yith_wcdp_deposit_labels_product_note"),B=a("#yith_wcdp_deposit_labels_product_note_position");x.on("change",function(){var d=a(this).val();"amount"==d?(q.parents("tr").show(),r.parents("tr").hide()):"rate"==d&&(q.parents("tr").hide(),r.parents("tr").show())}).change();
    y.on("change",function(){a(this).is(":checked")?g.parents("tr").show().end().change():g.parents("tr").hide().end().change()}).change();g.on("change",function(){var d=a(this);"admin_choose"===d.val()&&d.is(":visible")?t.parents("tr").show():t.parents("tr").hide()}).change();z.on("change",function(){a(this).is(":checked")?(h.parents("tr").show().end().change(),n.change().parents("tr").show(),v.change().parents("tr").show()):(h.parents("tr").hide(),k.parents("tr").hide(),l.parents("tr").hide(),n.parents("tr").hide(),
        p.parents("tr").hide(),m.parents("tr").hide(),v.change().parents("tr").hide())}).change();A.on("change",function(){"none"===a(this).val()?u.parents("tr").hide():u.parents("tr").show()}).change();h.on("change",function(){var d=a(this);d.is(":visible")&&("num_of_days"===d.val()?(k.parents("tr").show(),l.parents("tr").hide(),m.parents("tr").hide()):(k.parents("tr").hide(),l.parents("tr").show(),m.parents("tr").show()))}).change();n.on("change",function(){a(this).is(":checked")?p.parents("tr").show():
        p.parents("tr").hide()}).change();B.on("change",function(){"none"===a(this).val()?w.parents("tr").hide():w.parents("tr").show()}).change();a("#yith_wcdp_panel_deposits").find("td.column-type select").on("change",function(){var d=a(this),b=d.closest("tr").find(".column-value").find("input");"rate"===d.val()?b.attr("max",100):b.attr("max",9999999)}).change();a(".yith-roles-update-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=b.data("role_slug"),f=c.find(".column-type select").val();
        c=c.find(".column-value input").val();d.preventDefault();"rate"===f&&100<c?alert(yith_wcdp.labels.max_rate_notice):a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_roles_deposit",role_slug:e,type:f,value:c},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){},url:ajaxurl})});a(".yith-roles-delete-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=c.parents("tbody"),f=b.data("role_slug");
        d.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_roles_deposit",role_slug:f},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){c.remove();0==e.find("tr").length&&e.html(yith_wcdp.empty_row)},url:ajaxurl})});a(".yith-products-update-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=b.data("product_id"),f=c.find(".column-type select").val();c=c.find(".column-value input").val();
        d.preventDefault();"rate"===f&&100<c?alert(yith_wcdp.labels.max_rate_notice):a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_products_deposit",product_id:e,type:f,value:c},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){},url:ajaxurl})});a(".yith-products-delete-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=c.parents("tbody"),f=b.data("product_id");d.preventDefault();
        a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_products_deposit",product_id:f},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){c.remove();0==e.find("tr").length&&e.html(yith_wcdp.empty_row)},url:ajaxurl})});a(".yith-categories-update-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=b.data("term_id"),f=c.find(".column-type select").val();c=c.find(".column-value input").val();
        d.preventDefault();"rate"===f&&100<c?alert(yith_wcdp.labels.max_rate_notice):a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_update_categories_deposit",term_id:e,type:f,value:c},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){},url:ajaxurl})});a(".yith-categories-delete-deposit").on("click",function(d){var b=a(this),c=b.parents("tr"),e=c.parents("tbody"),f=b.data("term_id");d.preventDefault();
        a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcdp_delete_categories_deposit",term_id:f},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){c.remove();0===e.find("tr").length&&e.html(yith_wcdp.empty_row)},url:ajaxurl})});a(document.body).on("wc-init-datepickers woocommerce_variations_loaded",function(){a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})}).trigger("wc-init-datepickers")});