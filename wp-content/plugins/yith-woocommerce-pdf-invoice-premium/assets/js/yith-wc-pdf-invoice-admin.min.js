jQuery(function(o){o.each(["ul.yith-plugin-fw-tabs li a",".yith-plugin-fw-sub-tabs-nav .nav-tab-wrapper a",".ywpi-documents-table .page-title-action",'.invoice_date_pickers input[type="submit"]',".yith-ywpi-actions-container a.yith-plugin-fw__action-button__menu__item",".tablenav input"],function(e,i){o(document).on("click",".yith-plugins_page_yith_woocommerce_pdf_invoice_panel "+i,function(e){window.onbeforeunload=null})});o("body").on("change","#ywpi_company_logo",function(){var e=new Image;e.src=o(this).val(),o(e).one("load",function(){orgWidth=e.width,orgHeight=e.height,(300<orgWidth||150<orgHeight)&&(alert(yith_wc_pdf_invoice_free_object.logo_message_1+orgWidth+"x"+orgHeight+" pixels. "+yith_wc_pdf_invoice_free_object.logo_message_2),o("body #ywpi_company_logo").val(""),o("body #ywpi_company_logo-container .upload_img_preview img").remove())})}),"yes"==yith_wc_pdf_invoice_free_object.electronic_invoice&&((e=o(".post-type-shop_order").find("#woocommerce-order-items")).find("#refund_amount").parent().addClass("wrap-input ywpi-disabled"),o(".ywpi-disabled").on("click",function(){alert(yith_wc_pdf_invoice_free_object.alert_refund_credit_note)}),e.find('label[for="refund_reason"]').text("Reason for refund(mandatory)"),o(".do-manual-refund").click(function(e){""===o("#refund_reason").val()&&(alert(yith_wc_pdf_invoice_free_object.alert_refund_credit_reason),e.stopImmediatePropagation())}));var i={conditions:{allow_dropbox_upload:o("#ywpi_dropbox_allow_upload")},dom:{dropbox_key:o("#ywpi_dropbox_key")},init:function(){var e=i;e.conditions.allow_dropbox_upload.on("change",function(){e.handle(e.dom.dropbox_key,"yes"===e.conditions.allow_dropbox_upload.val())}).trigger("change")},handle:function(e,i){e=e.closest(".yith-plugin-fw__panel__option");i?o(e).fadeIn():o(e).hide()}},e=(i.init(),(initListTables=function(){768<o(window).width()&&o("#yith-ywpi-list-table #posts-filter .search-box").insertAfter("#yith-ywpi-list-table #posts-filter .tablenav.top .tablenav-pages"),o('#yith-ywpi-list-table #posts-filter .search-box input[type="search"]').attr("placeholder",yith_wc_pdf_invoice_free_object.search_invoice_placeholder),o(".yith-ywpi-list-table-elements .ywpi_preview_action a.yith-plugin-fw__action-button__link").each(function(){o(this).attr("target","_blank")});var e=o("#yith-ywpi-list-table .tablenav.bottom");e.find(".tablenav-pages .pagination-links a.next-page").length&&e.show()})(),o(document).on("click","#yith-ywpi-list-table div.bulkactions #doaction",function(i){var e=o(this).parent().find("select option:selected").val(),t=o("form.invoices-table").length;if("regenerate"===e){let e="";e=t?yith_wc_pdf_invoice_free_object.regenerate_confirm_message_invoices:yith_wc_pdf_invoice_free_object.regenerate_confirm_message_credit_notes,i.preventDefault(),yith.ui.confirm({title:yith_wc_pdf_invoice_free_object.regenerate_confirm_title,message:e,confirmButtonType:"confirm",confirmButton:yith_wc_pdf_invoice_free_object.regenerate_confirm_button,closeAfterConfirm:!0,width:400,onConfirm:function(){o("#posts-filter").unbind("submit").submit()}}),window.onbeforeunload=null}if("delete"===e){let e="";e=t?yith_wc_pdf_invoice_free_object.delete_confirm_message_invoices:yith_wc_pdf_invoice_free_object.delete_confirm_message_credit_notes,i.preventDefault(),yith.ui.confirm({title:yith_wc_pdf_invoice_free_object.delete_confirm_title,message:e,confirmButtonType:"delete",confirmButton:yith_wc_pdf_invoice_free_object.delete_confirm_button,cancelButton:yith_wc_pdf_invoice_free_object.delete_cancel_button,closeAfterConfirm:!0,width:400,onConfirm:function(){o("#posts-filter").unbind("submit").submit()}}),window.onbeforeunload=null}}),0<o(".hide-tab-templates").length?o(".yith-plugin-fw__panel__menu-item.hide-tab-templates .yith-plugin-fw__panel__submenu .yith-plugin-fw__panel__submenu__wrap .yith-plugin-fw__panel__submenu-item:nth-child(4)").hide():0<o(".show-tab-templates").length&&o(".yith-plugin-fw__panel__menu-item.show-tab-templates .yith-plugin-fw__panel__submenu .yith-plugin-fw__panel__submenu__wrap .yith-plugin-fw__panel__submenu-item:nth-child(3)").hide(),o("#ywpi_pdf_template_to_use").on("change",function(){var e=o(this).val(),i=o("#yith-plugin-fw__panel__menu-item-template .yith-plugin-fw__panel__submenu .yith-plugin-fw__panel__submenu__wrap .yith-plugin-fw__panel__submenu-item:nth-child(3)"),t=o("#yith-plugin-fw__panel__menu-item-template .yith-plugin-fw__panel__submenu .yith-plugin-fw__panel__submenu__wrap .yith-plugin-fw__panel__submenu-item:nth-child(4)"),n=o("#ywpi_show_company_name").closest(".yith-plugin-fw__panel__option"),_=o("#ywpi_customer_shipping_details, #ywpi_show_credit_note_notes, #ywpi_show_invoice_notes").closest(".yith-plugin-fw__panel__option").parent().prev().parent();"builder"===e?(i.hide(),t.show(),n.hide(),_.hide()):(i.show(),t.hide(),n.show(),_.show())}).change(),o(".ywpi-documents-table > a.yith-plugin-fw__button--primary")),e=(o("#yith_woocommerce_pdf_invoice_panel_documents_type-invoices, #yith_woocommerce_pdf_invoice_panel_documents_type-credit-notes").find(".yith-plugin-fw__panel__content__page .yith-plugin-fw__panel__content__page__title").append(e),o("#yith_woocommerce_pdf_invoice_panel_settings-documents"));yith_wc_pdf_invoice_free_object.is_credit_note_disabled&&e.find(".yith-plugin-fw__panel__section:nth-child(4)").remove(),yith_wc_pdf_invoice_free_object.is_packing_slip_disabled&&e.find(".yith-plugin-fw__panel__section:nth-child(5)").remove()});