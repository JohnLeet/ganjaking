!function(d){SeededRandom=function(e,n,i){this.seed=e,this.max=n,this.min=i},SeededRandom.prototype.constructor=SeededRandom,SeededRandom.prototype.generate=function(){max=this.max||1,min=this.min||0,this.seed=(9301*this.seed+49297)%233280;var e=this.seed/233280;return min+e*(max-min)},d.fn.shuffleWithSeed=function(e){var t=new SeededRandom(e),r=this.get(),n=d.map(r,function(){var e,n=(e=r.length,Math.floor(t.generate()*e)),i=d(r[n]).clone(!0)[0];return r.splice(n,1),i});return this.each(function(e){d(this).replaceWith(d(n[e]))}),d(n)};d.fn.gprRandomizeOrder=function(){var t=d(this).parents("form").find('[name="gpr_seed"]').val();t?this.each(function(){if(!d(this).find(".ginput_container").data("gprShuffledOrder")){t+=d(this).attr("id").split("").map(function(e){return e.charCodeAt(0)}).reduce(function(e,n){return e+n}),d(this).find("select option").shuffleWithSeed(t),d(this).find('[class*="gchoice_"]').filter(function(e,n){return 0===d(n).find('[value="gf_other_choice"]').length}).shuffleWithSeed(t);var e=d(this).find("ul.gsurvey-rank");if(e.length){var n=e.find("li.gsurvey-rank-choice"),i=d("#"+e.attr("id")+"-hidden");e.closest(".gsurvey-survey-field").data("default-order").join(",")===i.val()&&(n.shuffleWithSeed(t),"function"==typeof gsurveyRankUpdateRank&&gsurveyRankUpdateRank(e[0]))}d(this).find(".ginput_container").addClass("gpr-shuffled").data("gprShuffledOrder",!0)}}):console.warn("GP Randomizer: seed not available")},window.GPRandomizer=function(e){var n=this;this.formId=e,this.randomizeChoiceOrder=function(){d("#gform_wrapper_"+n.formId).find(".gpr_randomize_field").gprRandomizeOrder()},this.bind=function(){n.randomizeChoiceOrder(),d(document).on("gppa_updated_batch_fields",n.randomizeChoiceOrder)},this.bind()}}(jQuery);
//# sourceMappingURL=gp-randomizer.js.map