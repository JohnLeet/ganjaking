!function(t,e,a){"use strict";function i(t,e,a,i){var o,r,n,c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-prices-include-tax"),c=e.attr("data-is-vat-exempt"),l=e.attr("data-non-base-location-prices"),d=e.attr("data-taxes-of-one"),s=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")&&(o=(m=e.data("current_variation")).tc_is_taxable,r=m.tc_tax_rate,l=m.tc_non_base_location_prices,d=m.tc_taxes_of_one,s=m.tc_base_taxes_of_one,p=m.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),o&&("1"!==n||i?t=parseFloat(t)*(1+r/100):"1"===c?t="1"===l?parseFloat(t)-d*t:parseFloat(t)-s*t:"1"===l&&(t=parseFloat(t)-s*t+p*t))),t/=1e4}function o(t,e,a,i){var o,r,n,c,l;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-base-taxes-of-one"),c=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")&&(o=(l=e.data("current_variation")).tc_is_taxable,r=l.tc_tax_rate,n=l.tc_base_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),(o&&"1"===c||i)&&(t=parseFloat(t)-parseFloat(n*t))),t/=1e4}function r(t,e,a){return Number.isFinite(parseFloat(t))||(t=0),e&&(t="incl"===e.attr("data-tax-display-mode")?i(t,e,a):o(t,e,a)),t}function n(t,e){var i;return e||(e={}),i=a.extend({symbol:"",format:"",decimal:$t.localDecimalSeparator,thousand:$t.localThousandSeparator,precision:Xt.currency_format_num_decimals},e),a.epoAPI.applyFilter("tc_formatPrice",a.epoAPI.math.format(t,i),i)}function c(t,e,a){return e+n(t,{symbol:Xt.currency_format_symbol,format:Xt.currency_format})+a}function l(t,e,a,i,o){var n,l="",d=Xt.plus_sign+" ";return a||(t=r(t,e,o)),n=Math.abs(t),"minus"===Xt.tm_epo_global_options_price_sign&&(d=""),t<0&&(d=Xt.minus_sign+" "),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),c(n,d,l)}function d(t){var e,i,o,r,n=a(t);if(0!==n.length){if(n.is(".cpf-section"))return t.find(".tm-epo-field");if(e=n.attr("data-uniqid"),r=n.closest(".tc-extra-product-options"),i=r.attr("data-epo-id"),!r.is(".reactivate")&&$t.getElementFromFieldCache&&$t.getElementFromFieldCache[i]&&$t.getElementFromFieldCache[i][e])return $t.getElementFromFieldCache[i][e];if((o=n.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0)switch("cpf-type-product"===(o=o[0])&&(o=n.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":n.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),o){case"cpf-type-radio":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-radio"),$t.getElementFromFieldCache[i][e];case"cpf-type-checkbox":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-checkbox"),$t.getElementFromFieldCache[i][e];case"cpf-type-select":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-select"),$t.getElementFromFieldCache[i][e];case"cpf-type-textarea":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-textarea"),$t.getElementFromFieldCache[i][e];case"cpf-type-textfield":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-textfield"),$t.getElementFromFieldCache[i][e];case"cpf-type-color":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tm-color-picker"),$t.getElementFromFieldCache[i][e];case"cpf-type-range":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-range"),$t.getElementFromFieldCache[i][e];case"cpf-type-date":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-date"),$t.getElementFromFieldCache[i][e];case"cpf-type-variations":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),$t.getElementFromFieldCache[i][e]}}}function s(t){var e="input[name^='variation_id']";return t.find("input.variation_id").length>0&&(e="input.variation_id"),e}function p(t,e){var a=s(t),i=t.find(a);return e&&(i=i.not(e)),i}function m(t){return t.find(s(t)).val()||0}function _(t){return t.find($t.qtySelector).last()}function f(t){return parseFloat(_(t).val())}function u(t,e,a){ee[ee.length]={name:t,selector:e,func:a}}function g(t,e){var i,o;return(t=a(t)).is(".cpf_hide_element")?(i=t,t=t.find(".tmcp-field, .tmcp-fee-field")):i=t.closest(".cpf_hide_element"),!1!==i.data("isactive")&&!1!==i.closest(".cpf-section").data("isactive")?(o=t.first(),t.prop("disabled",!1),"yes"!==Xt.tm_epo_show_only_active_quantities?o.is(":radio, .cpf-type-radio")||o.is(":checkbox, .cpf-type-checkbox")?(t.filter(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!1),t.not(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!0)):(o.is("select, .cpf-type-select"),o.val()?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0)):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),o.is(".cpf_hide_element")||(t.removeClass("tcdisabled").addClass("tcenabled"),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),i.removeClass("tc-container-disabled").addClass("tc-container-enabled"),t.trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(t.is(".cpf_hide_element")||(t.prop("disabled",!0).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),i.removeClass("tc-container-enabled").addClass("tc-container-disabled"),t.trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function h(t,e,i){var o,r,n=a(t),c=n.attr("data-epo_id"),l=n.attr("data-product_id"),d=a(".variations_form[data-epo_id='"+c+"'][data-product_id='"+l+"']"),s="input[name^='variation_id']";if(0===(d=a.epoAPI.applyFilter("tm_variation_check_match_variationsForm",d,c,l,n)).length)return!1;switch(0===(r=d.find(s)).length&&(s="input.variation_id",0===(r=d.find(s)).length&&(r=d.closest(".tc-epo-element-product-li-container").find(".product-variation-id"))),null!==t&&null!==e&&void 0!==t&&void 0!==e&&!1!==t&&!1!==e&&(e=e?parseInt(e,10):-1),o=parseInt(r.val(),10),Number.isFinite(o)||(o=""),Number.isFinite(e)||(e=""),i){case"is":return""!==o&&o===e;case"isnot":return""!==o&&o!==e;case"isempty":return""===o||0===o;case"isnotempty":return""!==o&&0!==o;case"startswith":return o.toString().startsWith(e);case"endswith":return o.toString().endsWith(e);case"greaterthan":return parseFloat(o)>parseFloat(e);case"lessthan":return parseFloat(o)<parseFloat(e);case"greaterthanequal":return parseFloat(o)>=parseFloat(e);case"lessthanequal":return parseFloat(o)<=parseFloat(e)}return!1}function v(t,e,i){if(null===t||null===e)return!1;switch(t=encodeURIComponent(t),e=a.qtranxj_split?encodeURIComponent(a.qtranxj_split(decodeURIComponent(e))[Vt.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),i){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!("undefined"!==t&&void 0!==t&&""!==t);case"isnotempty":return"undefined"!==t&&void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e);case"greaterthanequal":return parseFloat(t)>=parseFloat(e);case"lessthanequal":return parseFloat(t)<=parseFloat(e)}return!1}function y(t,e){var i,o,r,n=!0,c=t.find(".cpf_hide_element"),l=!1;if(t.is(".tc-hidden")){if("isnotempty"===e)return!1;if("isempty"===e)return!0}return a(c).each(function(t,c){var d;if(c=a(c),g(c))if((d=c.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0){switch("cpf-type-product"===(d=d[0])&&(l=!0,d=c.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":c.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),d){case"cpf-type-radio":o=c.find("input.tm-epo-field.tmcp-radio:checked"),"isnotempty"===e?(n=n&&o.length>0,o.length>0&&(i=o.length)):"isempty"===e&&(n=n&&0===o.length);break;case"cpf-type-checkbox":r=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"isnotempty"===e?(n=n&&r.length>0,r.length>0&&(i=r.length)):"isempty"===e&&(n=n&&0===r.length);break;case"cpf-type-select":(i=c.find("select.tm-epo-field.tmcp-select").val())&&!l&&(i=i.slice(0,i.lastIndexOf("_")));break;case"cpf-type-textarea":i=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":i=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":i=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":i=c.find("input.tm-epo-field.tmcp-range").val()}n=n&&v(i,"",e)}else n=n&&!1}),n}function b(t){var e,i,o,r,n,c=a(t.element),l=t.operator,d=t.value,s=!1;if(!c.length)return!1;if(c.is(".cpf-section"))return y(c,l);if((n=c.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0){switch("cpf-type-product"===(n=n[0])&&(s=!0,n=c.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":c.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),n){case"cpf-type-radio":if(i=c.find("input.tm-epo-field.tmcp-radio:checked"),"is"===l||"isnot"===l){if(0===i.length)return!1;(e=c.find("input.tm-epo-field.tmcp-radio:checked").val())&&!s&&(e=e.slice(0,e.lastIndexOf("_")))}if("isnotempty"===l)return i.length>0;if("isempty"===l)return 0===i.length;break;case"cpf-type-checkbox":if(o=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"is"===l||"isnot"===l)return 0!==o.length&&(r=!1,o.each(function(t,i){if((e=a(i).val())&&!s&&(e=e.slice(0,e.lastIndexOf("_"))),v(e,d,l))r=!0;else if("isnot"===l)return r=!1,!1}),r);if("isnotempty"===l)return o.length>0;if("isempty"===l)return 0===o.length;break;case"cpf-type-select":(e=c.find("select.tm-epo-field.tmcp-select").val())&&!s&&(e=e.slice(0,e.lastIndexOf("_")));break;case"cpf-type-textarea":e=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":e=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":e=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":e=c.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return h(c,d,l)}return v(e,d,l)}return!1}function w(t,e){t.each(function(){var t=a(this),i=parseInt(t.data("matches"),10),o=t.data("toggle"),r=t.data("what"),n=t.data("fields"),c=0,l=!1;switch(o){case"show":l=!1;break;case"hide":l=!0}a.each(n,function(t,i){var o=!0;"cpflogic"===e&&(o=g(a(i.element))),o&&b(i)&&(c=parseInt(c,10)+1)}),"all"===r?i===c&&(l=!l):c>0&&(l=!l),l?("cpflogic"!==e||t.data("did_initial_activation")||ae.push(function(){var e=t.find(".tm-epo-field.tcenabled");e.each(function(e,i){(i=a(i)).data("initial_activation")||t.closest(".cpf-section").is(".tc-hidden")||!g(i)||(i.trigger("tc_element_epo_rules"),i.data("initial_activation",1))}),(t.is(".cpf_hide_element")&&e.length||t.is(".cpf-section"))&&t.data("did_initial_activation",1)}),t.removeClass("tc-hidden")):t.addClass("tc-hidden"),t.data("isactive",l)})}function x(t){var e,i=[];a(t).length||(t="body"),(e=(t=a(t)).find(".iscpfdependson")).each(function(t,e){a(e).each(function(t,e){w(a(e))})}),e.each(function(t,e){a(e).each(function(t,e){w(a(e),"cpflogic")})}),e.each(function(t,e){a(e).each(function(t,e){(e=a(e)).is(".cpf-section")&&(e=e.find(".cpf_hide_element")),e.each(function(t,e){g(a(e).find(".tm-epo-field"))})})}),ae.forEach(function(t){t()}),ae=[],a().selectric&&a(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=a(this);g(t)&&""!==t.val()&&i.push(t)}),i.length&&i[i.length-1].trigger("tm_trigger_product_image"),ne.trigger("cpflogicrun"),ne.trigger("tmlazy"),ne.trigger("cpflogicdone")}function k(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function F(t){var e,i,o,r,n,c,l,d,s,p,m,_,f=a(t),u=f.find(".cpf-section");e=!f.is(".cpf-section")&&u,f.each(function(t,u){(i=a(u).is(".cpf-section")?a(u):a(u).find(".cpf-section")).each(function(t,i){o=a(i),r=o.data("logic"),n=parseInt(o.data("haslogic"),10),c=[],1===n&&k(r)&&(a.each(r.rules,function(t,a){a&&(l=a.section,d=a.element,s=a.operator,p=a.value,e?(m=e.filter("[data-uniqid='"+l+"']"),_=d!==l?m.find(".cpf_hide_element").eq(d):m):_=d!==l?f.find(".cpf_hide_element").eq(d):m,c.push({element:_,operator:s,value:p}))}),o.data("iscpfdependson")?o.cpfdependson(o.data("cpfdependson-fields"),r.toggle,r.what,!0):(o.data("cpfdependson-fields",c),o.cpfdependson(c,r.toggle,r.what)))})})}function C(t){var e,i,o,r,n,c,l,d,s,p,m=a(t),_=m.find(".cpf-section");e=!m.is(".cpf-section")&&_,m.find(".cpf_hide_element").each(function(t,_){var f=[];i=a(_),o=i.data("logic"),1===(r=parseInt(i.data("haslogic"),10))&&k(o)&&(a.each(o.rules,function(t,a){a&&(n=a.section,c=a.element,l=a.operator,d=a.value,e?(s=e.filter("[data-uniqid='"+n+"']"),p=c!==n?s.find(".cpf_hide_element").eq(c):s):p=c!==n?m.find(".cpf_hide_element").eq(c):s,f.push({element:p,operator:l,value:d}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",f),i.cpfdependson(f,o.toggle,o.what)))})}function I(t,e){var a,i,o,r;return e&&(a=e.attr("data-taxable"),i=e.attr("data-tax-rate"),o=e.attr("data-tax-display-mode"),r=e.attr("data-prices-include-tax"),a&&"incl"===o&&"1"!==r&&(t=parseFloat(t)/(1+i/100))),t}function A(t,e,a,i,o){var n,l="",d="";return a||(t=r(t,e,o)),n=Math.abs(t),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),t<0&&(d=Xt.minus_sign+" "),c(n,d,l)}function P(t,e,a,i,o){S(t,e,a,i,o,!0)}function S(t,e,i,o,r,n){var c,l,d,s,p=a(t);0!==p.length&&(s=(c=p.closest(".tmcp-field-wrap")).find(".tm-epo-field"),!n&&"1"===s.attr("data-no-price-change")&&s.data("price-changed")||(e=a.epoAPI.applyFilter("tc_adjust_update_price_price",e),i=a.epoAPI.applyFilter("tc_adjust_update_price_formated_price",i,e),o=a.epoAPI.applyFilter("tc_adjust_update_price_original_price",o),r=a.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",r,o),Number.isFinite(parseFloat(o))||(o=0),Number.isFinite(parseFloat(e))||(e=0),l=c.find(".before-amount,.after-amount"),d={price:i,original_price:r},"yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(e)||"yes"!==Xt.tm_epo_auto_hide_price_if_zero?!0===a.tmempty(e)&&"1"===s.attr("data-no-price")||!n&&s.length>0&&("1"===s.attr("data-no-price")||"variable"===s.attr("data-type")&&!s.data("price")||s.is(".tmcp-select")&&!s.children("option:selected").data("price"))?(p.empty(),l.addClass("tm-hidden")):(o&&void 0!==o&&parseFloat(o)!==parseFloat(e)?p.html(a.epoAPI.template.html($t.templateEngine.sale_price,{price:d})):p.html(a.epoAPI.template.html($t.templateEngine.price,{price:d})),l.removeClass("tm-hidden")):(p.empty(),l.addClass("tm-hidden"))))}function q(t,e){var i={};return e.thisForm&&(t=e.thisForm),t.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t,e;t=void 0!==a(this).data("attribute_name")?a(this).data("attribute_name"):a(this).attr("name"),e=a(this).val(),i[t]=e}),i}function E(t,e,i){var o=[],r=q(t,i),n=!0;t.find(".cpf-type-variations").each(function(i,n){var c,l,d=a(n).find(".tm-epo-variation-element"),s=!1;o[i]=!0,d.is("select")?(c=a.epoAPI.dom.id(d.attr("data-tm-for-variation")),(l=d.val())&&(o[i]=!1),d.children("option").each(function(e,i){s=!1,t.find("[data-attribute_name='attribute_"+c+"']").children("option").each(function(){if(a(this).attr("value")===a(i).attr("value"))return s=!0,!1}),s?a(i).removeAttr("disabled").show():a(i).attr("disabled","disabled").hide()})):d.each(function(t,n){var d,s,p=a(n),m=p.closest("li"),_=m.find(".tm-epo-variation-element"),f=a.extend(!0,{},r);c=p.attr("data-tm-for-variation"),l=p.val(),p.is(":checked")&&(o[i]=!1),f["attribute_"+c]=l,s=(d=a.fn.tm_find_matching_variations(e,f).shift())&&"is_in_stock"in d&&d.is_in_stock,d&&s?(p.removeAttr("disabled").removeClass("tm-disabled"),m.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){a(this).css("opacity","")}),_.removeAttr("disabled"),_.removeAttr("data-tm-disabled")):(p.attr("disabled","disabled").addClass("tm-disabled"),_.attr("disabled","disabled"),_.attr("data-tm-disabled","disabled"),m.addClass("tm-attribute-disabled").fadeTo("fast",.5),s||m.find("label").off())})}),o&&(o.shift(),a.each(o,function(t,e){if(!1===e)return n=!1,!1}),n&&t.find(".cpf-type-variations").first().each(function(t,e){var i,o,r;(i=a(e).find(".tm-epo-variation-element")).is("select")||i.each(function(t,e){e=a(e),o=e.closest("li"),r=o.find(".tm-epo-variation-element"),e.removeAttr("disabled").removeClass("tm-disabled"),o.removeClass("tm-attribute-disabled").stop().css("opacity",""),r.removeAttr("disabled"),r.removeAttr("data-tm-disabled")})}))}function T(e,i){var o,r=e.data("product_variations"),n=parseInt(e.data("product_id"),10),c=e.data("globalVariationObject")||!1;n||(n=e.data("tc_product_id")),!n&&e.is($t.compositeSelector)&&(n=(o=e.find(".component_options").data("options_data"))[0].option_id,r||(r=e.find(".details.component_data").data("product_variations"))),i.is_associated||(!r&&t.product_variations&&t.product_variations.product_id&&(r=t.product_variations.product_id),!r&&t.product_variations&&(r=t.product_variations),!r&&t["product_variations_"+n]&&(r=t["product_variations_"+n])),r?E(e,r,i):c?E(e,c.variations,i):(o={action:"woocommerce_tm_get_variations_array",post_id:n},a.post(Xt.ajax_url,o,function(t){c=t,e.data("globalVariationObject",t),E(e,c.variations,i)},"json"))}function j(t,e){var i,o;return void 0!==e&&(t=a(t),i=t.find(".tm-epo-variation-element").first(),o=i.closest(".tm-epo-variation-section"),i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+e+"</div>"),!0):(t.find(".tm-stock").remove(),t.find(".variations").after('<div class="tm-stock">'+e+"</div>"),!0))}function O(t,e){var a;"no"!==Xt.tm_epo_global_move_out_of_stock&&((a=t.find(".woocommerce-variation-availability").last()).length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),j(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove())}function z(t,e,a){var i,o="";return a&&(o=o+"[value='"+a+"']"),e||(e=t),0===(i=e.find($t.addToCartSelector+o)).length&&(i=e.find($t.tcAddToCartSelector+o)),i.last()}function D(t,e,a,i){return a||(a="form"),z(t,e,i).closest(a)}function N(t,e,a,i){return D(t,e,a,i)}function B(t){var e=a.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return a(t).find(e).not(".tc-price")}function H(){ce.on("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label",function(e){var i=a(this).attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)}),ce.on("change.cpfurl tmredirect",".use_url_container .tmcp-select",function(e){var i=a(this).children("option:selected").attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)})}function L(t,e,i){a.tcFloatingTotalsBox(t,e,i)}function M(t,e,a){var i,o,r;"object"==typeof e?(o=e.has_epo,r=e.this_epo_container,o=o&&(r.find(".tmcp-fee-field").length||r.find(".tmcp-field").not(".cpf-type-variations .tmcp-field").length)):o=e,o&&"yes"===Xt.tm_epo_hide_add_cart_button&&(i=t.find($t.addToCartButtonSelector).first(),a?i.removeClass("tc-hide-add-to-cart-button"):i.addClass("tc-hide-add-to-cart-button"))}function U(e,i){var o,r,n,c,l=a.tcepo.errorObject[i]||e;l&&("yes"!==Xt.tm_epo_disable_error_scroll&&(r=(o=l.closest(".cpf-section")).find(".tm-section-link"),n=l.closest(".cpf_hide_element"),o.find(".tm-toggle").length&&o.find(".tm-toggle").trigger("openwrap.tmtoggle"),t.tc_validation_offset||(t.tc_validation_offset=-100),o.is(".section_popup")?(le.tcScrollTo(r,300,t.tc_validation_offset),r.trigger("click.tmsectionpoplink")):o.is(".tm-owl-slider-section")?(c=l.closest(".owl-item").index(),o.find(".tcowl-carousel").trigger("to.owl.carousel",[c,100]),setTimeout(function(){o.find(".tcowl-carousel").trigger("refresh.owl.carousel"),n.length>0&&le.tcScrollTo(n,300,t.tc_validation_offset)},200)):n.length>0&&le.tcScrollTo(n,300,t.tc_validation_offset)),e||(a.tcepo.errorObject[i]=!1))}function J(t,e){var i,o,r,n=parseInt(t.attr("data-limit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function R(t,e){var i,o,r,n=parseInt(t.attr("data-exactlimit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function Q(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,u=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-limit]")).length&&g(o)&&(r=parseInt(o.attr("data-limit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r<n?(f=!1,u=_,m=1===r?Xt.tm_epo_global_validator_messages.epolimitsingle.replace("{0}",r):Xt.tm_epo_global_validator_messages.epolimit.replace("{0}",r),p.length&&p.remove(),"before"===Xt.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find($t.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),u&&(a.tcepo.errorObject[i]=u),f}function Z(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return Q(t,e,i)},on_true:function(){return!0},on_false:function(){return U(a(t).find(".tm-epo-field").first(),i),!0}}}function W(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,u=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-exactlimit]")).length&&g(o)&&(r=parseInt(o.attr("data-exactlimit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r!==n?(f=!1,u=_,m=1===r?Xt.tm_epo_global_validator_messages.epoexactsingle.replace("{0}",r):Xt.tm_epo_global_validator_messages.epoexact.replace("{0}",r),p.length&&p.remove(),"before"===Xt.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find($t.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),u&&(a.tcepo.errorObject[i]=u),f}function $(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return W(t,e,i)},on_true:function(){return!0},on_false:function(){return U(a(t).find(".tm-epo-field").first(),i),!0}}}function X(t,e){var i,o,r,n,c,l,d,s,p,m=!0,_=!1;return t.each(function(){var t;(t=(p=a(this)).find("[type='checkbox'][data-minimumlimit]")).length&&g(t)&&(i=parseInt(t.attr("data-minimumlimit"),10),o=0,p.find("input.tm-epo-field[type='checkbox']:checked").each(function(){r=a(this),(c=r.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((n=parseInt(c.val(),10))<=0&&(n=1),o=parseInt(o,10)+n):o=parseInt(o,10)+1}),l=p.closest(".cpf_hide_element"),d=l.find("div.tm-error-min"),i>o?(m=!1,_=p,s=1===i?Xt.tm_epo_global_validator_messages.epominsingle.replace("{0}",i):Xt.tm_epo_global_validator_messages.epomin.replace("{0}",i),d.length&&d.remove(),"before"===Xt.tm_epo_global_error_label_placement?p.before('<div class="tm-error-min tm-error">'+s+"</div>"):p.after('<div class="tm-error-min tm-error">'+s+"</div>")):d.remove())}),_&&(a.tcepo.errorObject[e]=_),m}function G(t,e){a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return X(t,e)},on_true:function(){return!0},on_false:function(){return U(!1,e),!0}}}function V(t){return null===t?0:("object"==typeof t&&(t=t[0]),Number.isFinite(parseFloat(t))||(t=0),t)}function Y(t,e,i,o){return t=V(t),i&&(t=a.epoAPI.applyFilter("tc_apply_dpd",t,e,i,o)),t}function K(t,e){var i=0;return t.length>0&&(i=t.data("regular-price")),i=a.epoAPI.applyFilter("tc_calculate_product_regular_price",i,t),(!e||!1!==i)&&(i=parseFloat(i),Number.isFinite(i)||(i=0),i)}function tt(t,e){var i=0;return t.length>0&&(i=t.data("price")),i=a.epoAPI.applyFilter("tc_calculate_product_price",i,t),(!e||!1!==i)&&(i=parseFloat(i),Number.isFinite(i)||(i=0),i)}function et(t,e,i,o){var r,n,c,l,d,s,p,m,_,f=t.toString(),u=0,g=0,h=e.closest(".cpf_hide_element"),v=i.this_epo_totals_container.data("tc_totals_ob"),y=h.find(".tmcp-field, .tmcp-fee-field").filter(":checked").index(e),b=h.find(".tmcp-field, .tmcp-fee-field").index(e),w=i.is_associated?i.this_epo_container:i.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector);-1!==y||e.is(".tmcp-checkbox, .tmcp-radio")||(y=0),o||e.data("addedtcEpoBeforeOptionPriceCalculation")||(ne.on("tcEpoBeforeOptionPriceCalculation.math",function(){it(i,e,void 0,void 0,void 0,!0)}),ne.on("tcEpoAfterOptionPriceCalculation.math",function(){e.data("fetchOptionPrices",!1),e.data("fetchOptionPrices-forced",!1),e.data("fetchOptionPrices-fee",!1),e.data("fetchOptionPrices-fee-forced",!1)}),e.data("addedtcEpoBeforeOptionPriceCalculation",1)),e.is(".tmcp-field")?e.data("fetchOptionPrices")?(m=e.data("fetchOptionPrices"),_=e.data("fetchOptionPrices-forced")):(m=Dt(i,h,".tmcp-field",0,0,[],!0),_=Dt(i,h,".tmcp-field",0,0,[],!0,!0),e.data("fetchOptionPrices",m),e.data("fetchOptionPrices-forced",_)):e.is(".tmcp-fee-field")&&(e.data("fetchOptionPrices-fee")?(m=e.data("fetchOptionPrices-fee"),_=e.data("fetchOptionPrices-fee-forced")):(m=Dt(i,h,".tmcp-fee-field",0,0,[],!0),_=Dt(i,h,".tmcp-fee-field",0,0,[],!0,!0),e.data("fetchOptionPrices-fee",m),e.data("fetchOptionPrices-fee-forced",_))),void 0!==v?(f=f.replace(/{quantity}/g,a.epoAPI.math.unformat(v.qty,$t.localInputDecimalSeparator)),f=f.replace(/{product_price}/g,a.epoAPI.math.unformat(v.product_price,$t.localInputDecimalSeparator))):(f=f.replace(/{quantity}/g,0),f=f.replace(/{product_price}/g,0)),f=void 0!==_.floatingBoxData&&void 0!==_.floatingBoxData[b]?f.replace(/{this.value}/g,a.epoAPI.math.unformat(_.floatingBoxData[b].valueText,$t.localInputDecimalSeparator)).replace(/{this.value.length}/g,_.floatingBoxData[b].valueText.length):f.replace(/{this.value}/g,"").replace(/{this.value.length}/g,0),(f=f.replace(/{this.count}/g,m.floatingBoxData.length).replace(/{this.count.quantity}/g,m.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0)).replace(/{this.quantity}/g,e.data("tm-quantity"))).match(/\{(\s)*?field\.([^}]*)}/)&&f.match(/\{(\s)*?field\.([^}]*)}/g).forEach(function(t){if(void 0!==(r=t.match(/\{(\s)*?field\.([^}]*)}/))[2]&&"string"==typeof r[2]&&-1!==(d=r[2].lastIndexOf("."))&&(p=r[2].substr(0,d),s=r[2].substr(d+1),-1!==a.inArray(s,["price","value","quantity","count"]))){if((n=w.find("[data-uniqid='"+a.epoAPI.util.escapeSelector(p)+"']")).length){if(c=n.find(".tmcp-field, .tmcp-fee-field"),o||e.data("addedfieldtcEpoBeforeOptionPriceCalculation")||(ne.on("tcEpoBeforeOptionPriceCalculation.math",function(){it(i,e,void 0,void 0,void 0,!0),e.trigger("tm-math-select-change-html-all")}),e.data("addedfieldtcEpoBeforeOptionPriceCalculation",1)),c=c.first(),u=0,n.is(".tc-container-enabled")){switch(c.is(".tmcp-field")?u=Dt(i,n,".tmcp-field",0,0,[],!0):c.is(".tmcp-fee-field")&&(u=Dt(i,n,".tmcp-fee-field",0,0,[],!0)),s){case"price":u=u.total;break;case"value":u.floatingBoxData&&(u=u.floatingBoxData.map(function(t){return a.epoAPI.math.unformat(t.valueText,$t.localInputDecimalSeparator)}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"quantity":u.floatingBoxData&&(u=u.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"count":u.floatingBoxData&&(u=u.floatingBoxData.length)}u=a.epoAPI.math.toFloat(u),Number.isFinite(u)||(u=0)}}else u=0;l=new RegExp(r[0]),f=Number.isFinite(u)?f.replace(l,u):f.replace(l,"'"+u+"'")}});try{g=de.eval(f)}catch(t){g=0}return g}function at(t,e){var i,o,r,n,c,l,d,s,p=a(e),m=p;return i=t.main_cart,d="input[name^='variation_id']",i.find("input.variation_id").length>0&&(d="input.variation_id"),(o=i.find(d).val())||(o=0),p.is("select")&&(m=p.find("option:selected")),r=a.epoAPI.util.parseJSON(m.attr("data-rules")),n=a.epoAPI.util.parseJSON(m.attr("data-rulestype")),l="","object"==typeof r?"object"==typeof n?l=o in n?n[o]:"object"==typeof(c=a.epoAPI.util.parseJSON(p.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&o in c?c[o]:n[0]:"object"==typeof(n=a.epoAPI.util.parseJSON(p.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(l=o in n?n[o]:n[0]):(s=p.closest(".tmcp-ul-wrap"),"object"==typeof(r=a.epoAPI.util.parseJSON(s.attr("data-rules")))&&("object"==typeof n?l=o in n?n[o]:"object"==typeof(c=a.epoAPI.util.parseJSON(s.attr("data-rulestype")))&&o in c?c[o]:n[0]:"object"==typeof(n=a.epoAPI.util.parseJSON(s.attr("data-rulestype")))&&(l=o in n?n[o]:n[0]))),"object"==typeof l&&(l=l[0]),p.is(".tmcp-fee-field")&&-1!==a.inArray(l,["fee","stepfee","currentstepfee"])&&(l=""),l}function it(t,e,i,o,n,c){var d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,A,P,q,E,T,j,O=a(e),z=O,D=O.is(".tmcp-range"),N=t.main_product,B=t.epoEventId,H=t.this_epo_totals_container,L=!0;if(!O.data("associated_price_set")&&(i?(d=i.cart,s=i.current_variation,p=i.bundleid,m=i.epoTotalsContainer,f=i.product_price,u=i.product_original_price,_=i.apply_dpd,L=i.per_product_pricing):(void 0!==(d=t.main_cart).data("per_product_pricing")&&(L=d.data("per_product_pricing")),E="input[name^='variation_id']",d.find("input.variation_id").length>0&&(E="input.variation_id"),s=d.find(E).val(),p=a.epoAPI.applyFilter("tc_get_bundleid",d.attr("data-product_id"),d),s||(s=0),f=tt(m=a.epoAPI.applyFilter("tc_get_totals_container",H,O,N,p)),u=K(m),_=m.data("fields-price-rules")),f=a.epoAPI.applyFilter("tc_alter_product_price",f,O,d,m,p),u=a.epoAPI.applyFilter("tc_alter_product_original_price",u,O,d,m),!1!==f&&L)){switch(O.is("select")&&(z=O.find("option:selected")),o&&(z=o),g=a.epoAPI.util.parseJSON(z.attr("data-rules")),h=a.epoAPI.util.parseJSON(z.attr("data-rulestype")),void 0===(v=a.epoAPI.util.parseJSON(z.attr("data-original-rules")))&&(v=g),x="","object"==typeof g?(s in g?(k=g[s],F=v[s]):(y=a.epoAPI.util.parseJSON(O.closest(".tmcp-ul-wrap").attr("data-rules")),w=O.closest(".tmcp-ul-wrap").data("original-rules"),k="object"==typeof y&&s in y?y[s]:g[0],F="object"==typeof w&&s in w?w[s]:v[0]),"object"==typeof h?x=s in h?h[s]:"object"==typeof(b=a.epoAPI.util.parseJSON(O.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&s in b?b[s]:h[0]:"object"==typeof(h=a.epoAPI.util.parseJSON(O.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(x=s in h?h[s]:h[0])):(T=O.closest(".tmcp-ul-wrap"),g=a.epoAPI.util.parseJSON(T.attr("data-rules")),v=a.epoAPI.util.parseJSON(T.attr("data-original-rules")),"object"==typeof g&&(k=s in g?g[s]:g[0],F="object"==typeof v?s in v?v[s]:v[0]:k,"object"==typeof h?x=s in h?h[s]:"object"==typeof(b=a.epoAPI.util.parseJSON(T.attr("data-rulestype")))&&s in b?b[s]:h[0]:"object"==typeof(h=a.epoAPI.util.parseJSON(T.attr("data-rulestype")))&&(x=s in h?h[s]:h[0]))),"object"==typeof x&&(x=x[0]),O.is(".tmcp-fee-field")&&(-1!==a.inArray(x,["fee","stepfee","currentstepfee"])&&(x=""),_=0),void 0===n&&(O.is("select")?O.find("option").removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"):z.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate")),"math"!==x&&(k=V(k),F=V(F)),x){case"":k=Y(k,m,_),F=Y(F,m,_);break;case"math":k=Y(k=et(k,O,t,c),m,_),F=Y(F=et(F,O,t,!0),m,_);break;case"percent_cart_total":j=parseFloat(Xt.cart_total),Number.isFinite(j)||(j=0),k=Y(k,m,_)/100*j,F=Y(F,m,_)/100*j;break;case"percent":k=Y(k,m,_)/100*f,F=Y(F,m,_)/100*u;break;case"percentcurrenttotal":a.tcepo.lateFieldsPrices[B].push({setter:z,price:k,original_price:F,bundleid:p,pricetype:x}),z.data("tm-price-for-late",k).data("tm-original-price-for-late",F).data("islate",1).addClass("tm-epo-late-field"),k=0,F=0;break;case"fixedcurrenttotal":k=Y(k,m,_),a.tcepo.lateFieldsPrices[B].push({setter:z,price:k,original_price:F,bundleid:p,pricetype:x}),z.data("tm-price-for-late",k).data("tm-original-price-for-late",F).data("islate",1).addClass("tm-epo-late-field"),k=0,F=0;break;case"word":k=Y(k,m,_)*(z.val().split(/\w+/).length-1),F=Y(F,m,_)*(z.val().split(/\w+/).length-1);break;case"wordpercent":k=Y(k,m,_)/100*f*(z.val().split(/\w+/).length-1),F=Y(F,m,_)/100*u*(z.val().split(/\w+/).length-1);break;case"wordnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().split(/\w+/).length-1-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"wordpercentnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().split(/\w+/).length-1-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"char":k=Y(k,m,_)*z.val().length,F=Y(F,m,_)*z.val().length;break;case"charpercent":k=Y(k,m,_)/100*f*z.val().length,F=Y(F,m,_)/100*u*z.val().length;break;case"charnospaces":k=Y(k,m,_)*z.val().replace(/\s/g,"").length,F=Y(F,m,_)*z.val().replace(/\s/g,"").length;break;case"charnofirst":(A=z.val().length-1)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().length-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charpercentnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().length-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"charnonnospaces":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().replace(/\s/g,"").length-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charpercentnonnospaces":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().replace(/\s/g,"").length-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"charpercentnofirst":(A=z.val().length-1)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"step":D?(k=Y(k,m,_)*z.val(),F=Y(F,m,_)*a.epoAPI.math.toFloat(z.val())):(k=Y(k,m,_)*a.epoAPI.math.toFloat(z.val()),F=Y(F,m,_)*a.epoAPI.math.toFloat(z.val()));break;case"currentstep":D?(k=Y(z.val(),m,_),F=Y(z.val(),m,_)):(k=Y(a.epoAPI.math.toFloat(z.val()),m,_),F=Y(a.epoAPI.math.toFloat(z.val()),m,_));break;case"intervalstep":D&&(q=parseFloat(a('.tm-range-picker[data-field-id="'+z.attr("id")+'"]').attr("data-min")),k=Y(k,m,_)*(z.val()-q),F=Y(F,m,_)*(z.val()-q));break;case"row":k=Y(k,m,_)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),F=Y(F,m,_)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1)}O.data("tm-quantity")&&(k*=parseFloat(O.data("tm-quantity")),F*=parseFloat(O.data("tm-quantity"))),C=l(k,m,!1,!1,z),I=l(F,m,!1,!1,z),O.data("price_set",1),z.data("price_set",1),z.data("raw_price",k),z.data("raw_original_price",F),z.data("price",r(k,m,z)),z.data("original_price",r(F,m,z)),o||(S(z.closest(".tmcp-field-wrap").find(".tc-price"),k,C,F,I),O.data("price-changed",1))}}function ot(t,e){var i,o,n,c,d,s,p,m,_,f,u,h,v,y,b,w,x,k,F=!0,C=t.main_product,I=t.epoEventId,A=t.this_epo_container,P=t.this_epo_totals_container;(i=e||C.find(".cart")).length<=0||(a.tcepo.lateFieldsPrices[I]=[],i.toArray().forEach(function(e){if(e=a(e),o="input[name^='variation_id']",e.find("input.variation_id").length>0&&(o="input.variation_id"),void 0!==e.data("per_product_pricing")&&(F=e.data("per_product_pricing")),n=e.find(o).val(),c=a.epoAPI.applyFilter("tc_get_bundleid",e.attr("data-product_id"),e),n||(n=0),d=a.epoAPI.applyFilter("tc_get_epo_container",A,e,C,c),s=a.epoAPI.applyFilter("tc_get_totals_container",P,e,C,c),p=s.data("fields-price-rules"),d.data("tm_rules_init_done")||(s.data("force-quantity")&&e.find($t.qtySelector).val(s.data("force-quantity")),d.toArray().forEach(function(t){a(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",a(t).val())}),d.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=a(t),m=a.epoAPI.util.parseJSON(t.attr("data-rules")),_=a.epoAPI.util.parseJSON(t.attr("data-original-rules")),"object"!=typeof m&&(m={0:"0"}),"object"!=typeof _&&(_={0:"0"}),"object"==typeof m&&(f=Y(m[a.epoAPI.math.toFloat(n)],s,p),u=l(f,s),h=Y(_[a.epoAPI.math.toFloat(n)],s,p),v=l(h,s),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=a(t),F?("1"===t.attr("data-no-price")&&(f=0,h=0),t.data("raw_price",f),t.data("raw_original_price",h),t.data("price",r(f,s,t)),t.data("original_price",r(h,s,t)),S(t.closest(".tmcp-field-wrap").find(".tc-price"),f,u,h,v)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),d.data("tm_rules_init_done",1)),!F)return!0;y=tt(s),b=K(s),k={cart:e,current_variation:n,bundleid:c,epoTotalsContainer:s,product_price:y,product_original_price:b,apply_dpd:p,per_product_pricing:F},w=d.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),t.is_associated||(w=w.not($t.associatedEpoSelector+" .tmcp-field,"+$t.associatedEpoSelector+" .tmcp-sub-fee-field,"+$t.associatedEpoSelector+" .tmcp-fee-field")),x=w.filter(".tcenabled"),(!a.tcepo.initialActivation[I]||0===x.length&&w.length>0)&&(w.each(function(){g(a(this))}),a.tcepo.initialActivation[I]=!0),w.filter(".tcenabled").each(function(e,a){it(t,a,k)}),w.each(function(e,i){a(i).on("tc_element_epo_rules",function(){it(t,i,k)})})}))}function rt(t,e,i,o,n,c,d){var s,p,m,_,f,u,h,v,y,b,w,x,k,F,C,A,P,q=0,E=0,T=t.epoEventId;return P=void 0!==d?d:t.this_epo_totals_container.data("fields-price-rules"),A=e,a.tcepo.lateFieldsPrices[T].forEach(function(d){s=d.price,p=d.original_price,m=d.pricetype,_=d.setter,h=d.bundleid,v=_,C="percentcurrenttotal"===m?"_hidden":"_hiddenfixed",_.is("option")&&(v=_.closest("select")),A=parseFloat(a.epoAPI.applyFilter("tc_alter_product_price",e,v,c,t.this_epo_totals_container,n)),f=a.epoAPI.dom.id(v.attr("name")),y=a(".tc-totals-form.tm-totals-form-"+c.attr("data-cart-id")).attr("data-product-id"),b=a(".tc-totals-form.tm-totals-form-"+c.attr("data-cart-id")).attr("data-epo-id"),u=a(".tc-extra-product-options.tm-product-id-"+y+"[data-epo-id='"+b+"']").find("#"+f+C),h===n?("percentcurrenttotal"===m?(s=parseFloat(Y(s,t.this_epo_totals_container,P))/100*parseFloat(A+i),p=parseFloat(Y(p,t.this_epo_totals_container,P))/100*parseFloat(A+o)):"fixedcurrenttotal"===m&&(s=parseFloat(Y(s,t.this_epo_totals_container,P))+parseFloat(i),p=parseFloat(Y(p,t.this_epo_totals_container,P))+parseFloat(o)),v.data("tm-quantity")&&(s*=parseFloat(v.data("tm-quantity")),p*=parseFloat(v.data("tm-quantity"))),1===_.data("isset")&&g(_)&&(q+=s,E+=p),k=r(s,c,_),F=r(p,c,_),w=l(s,c,!1,!1,_),x=l(p,c,!1,!1,_),_.data("price",k),_.data("pricew",k),_.data("original_price",F),_.data("original_pricew",F),S(_.closest(".tmcp-field-wrap").find(".tc-price"),k,w,F,x),0===u.length&&v.before('<input type="hidden" id="'+f+C+'" name="'+f+C+'" value="'+I(s,c)+'" />'),_.is(".tm-epo-field.tmcp-radio")?_.is(":checked")&&u.val(I(s,c)):u.val(I(s,c))):void 0!==_.data("pricew")&&(w=l(_.data("pricew"),c,!0,!1,_),x="",void 0!==_.data("original_pricew")&&(x=l(_.data("original_pricew"),c,!0,!1,_)),S(_.closest(".tmcp-field-wrap").find(".tc-price"),_.data("pricew"),w,_.data("original_pricew"),x))}),[q,E]}function nt(t){var e,i,o,r,n=[".tm-variation-ul-color",".tm-variation-ul-image",".tm-variation-ul-radiostart",".tm-variation-ul-radioend","ul.use_images_container","ul.use_colors_container"],c=t.main_product;a(".tc-extra-product-options").addClass("tc-show-hidden"),n.forEach(function(t){c.find(t).toArray().forEach(function(t){a(t).toArray().forEach(function(t){t=a(t),(e=t.find(".tmhexcolorimage-li-nowh")).length&&(i=t.closest(".cpf-section"),o=e.first(),r=100,i.length&&i.find(".tm-collapse-wrap.closed").length?(i.find(".tm-collapse-wrap").removeClass("closed").show(),r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",i.find(".tm-collapse-wrap").addClass("closed").hide()):r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",e.find(".tmhexcolorimage").css({"min-width":r,"min-height":r}))})})}),a(".tc-extra-product-options").removeClass("tc-show-hidden")}function ct(){var t;"yes"!==Xt.tm_epo_no_lazy_load&&((t=ie?a(ie).find("img.tmlazy"):a(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){ne.trigger("lazyLoadXToncomplete")}))}function lt(t){var e,i;t&&t.find(".tm-owl-slider-section").each(function(){e=a(this),i=e.css("display"),e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),i=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({rtl:"1"===Xt.isRTL,dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[Xt.i18n_prev_text,Xt.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",i)})}function dt(t){t&&a(t).length&&(a(t).spectrum({type:"color",theme:"epo",showButtons:!0,clickoutFiresChange:!1,chooseText:Xt.closeText,cancelText:Xt.i18n_cancel}),a(t).spectrum("enable"))}function st(t){t&&a(t).length&&ce.ready(function(){a(t).tclightbox()})}function pt(t){var e=t.closest(".tmcp-field-wrap").find("label img"),i=a(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),i||(i=a(e).first().attr("src")),i||(i=t.attr("data-image")),t.attr("data-imagep")&&(i=t.attr("data-imagep")),!!i}function mt(e){var i,o,r,n,c=e.is_associated?e.this_epo_container.find(".tm-epo-field.tmcp-upload"):e.this_epo_container.find(".tm-epo-field.tmcp-upload").not($t.epoSelector+" "+$t.associatedEpoSelector+" .tm-epo-field.tmcp-upload");try{c.not($t.epoSelector+" "+$t.associatedEpoSelector+" .tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").toArray().forEach(function(t){i=a(t),(Kt||te)&&((o=new Kt("").clipboardData||new te).items.add(new File([i.attr("data-file")],i.attr("data-filename"))),t.files=o.files),r=i.attr("name"),n=i.attr("data-file"),i.trigger("change.tcupload"),i.after('<input type="hidden" class="tmcp-upload-hidden" name="'+r+'" value="'+n+'" />'),i.removeAttr("data-file data-filename")})}catch(e){t.console.log(e),a(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),Qt=e}}function _t(t){var e=t.epoEventId,i=t.this_epo_container;"yes"===Xt.tm_epo_upload_popup&&(a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return!0},on_true:function(){var t,e,o=i.data("num_uploads");return o&&Object.keys(o).length&&(t=a.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:a.epoAPI.template.html($t.templateEngine.tc_upload_messages,{files:o,title:Xt.i18n_uploading_files,message:Xt.i18n_uploading_message})}),e=function(){t.destroy(),ce.off("ajaxSuccess",e)},ce.on("ajaxSuccess",e)),!0},on_false:function(){return!0}})}function ft(t){var e=t.this_epo_container,i=t.main_product,o=t.epoEventId,r=e.find(".tm-limit"),n=e.find(".tm-exactlimit"),c=e.find(".tm-minimumlimit");e.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=a(this);J(t,!0),R(t,!0)}),r.length&&Z(r,i,o),n.length&&$(n,i,o),c.length&&G(c,o)}function ut(e){var i,o,r=e.this_epo_totals_container,n=e.this_epo_container,c=r.attr("data-theme-name");if(c){switch(c=c.toLowerCase(),i=n.find("select"),c){case"flatsome":case"flatsome-child":case"flatsome child":i.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":i.wrap('<div class="avada-select-parent tm-select-parent"></div>'),a('<div class="select-arrow">&#xe61f;</div>').appendTo(n.find(".tm-select-parent")),t.calc_select_arrow_dimensions?(t.calc_select_arrow_dimensions(),ne.on("tmsectionpoplink cpflogicdone",function(){t.calc_select_arrow_dimensions()})):t.calcSelectArrowDimensions&&(t.calcSelectArrowDimensions(),ne.on("tmsectionpoplink cpflogicdone",function(){t.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":i.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":o=function(){setTimeout(function(){a(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){a(this).is(".mpcthSelect")||(a(this).width(a(this).outerWidth()),a(this).customSelect({customClass:"mpcthSelect"}))})},100)},ne.on("cpflogicrun",function(){o()}),ne.on("epo_options_visible",function(){o()});break;case"handmade":case"handmade child theme":a(".tm-owl-slider.tcowl-carousel").addClass("manual")}ne.trigger("tm-theme-specific-actions",{epo:{theme_name:c,all_epo_selects:i}})}ce.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){a(this).closest(".quantity").find($t.qtySelector).trigger("change.cpf")})}function gt(t,i,o,r,n){var c,l,d,s,p,m,_,f,u,g=t.epoEventId,h="input[name^='variation_id']",v=t.is_associated?"tc_variation_form.tmlogic":"wc_variation_form.tmlogic",y=t.is_associated?"tc_":"",b=t.variations_form,w=t.is_associated?b.find(".tc-epo-element-variations"):b.find(".variations"),x=t.is_associated?".tc-epo-element-variable-reset-variations":".reset_variations";if(b.attr("data-epo_id",t.epo_id),i.find("input.variation_id").length>0&&(h="input.variation_id"),n.find(".tm-epo-variation-element").length||n.data("tm-epo-variation-element")){if((c=n.find(".tm-epo-variation-section").first()).find(".cpf-type-variations").attr("data-epo_id",t.epo_id).attr("data-product_id",b.attr("data-product_id")),n.data("tm-epo-variation-element",c.find(".tm-epo-variation-element")),o&&"main"!==o&&!t.is_associated){if(b=t.form,w=b.find('.composite_component[data-item_id="'+o+'"]').find(".variations"),b.attr("data-epo_id",t.epo_id),0===w.length)return;l=c.closest("li.tm-extra-product-options-field"),c.is(".tm-hidden")||w.hide(),w.after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),c.is(".section_popup")?c.wrap("<div class='tc-styled-variations tc-row'></div>"):(c.removeClass("tc-cell"),c.wrap("<div class='tc-styled-variations'></div>")),d=!1,i.off(v).on(v,function(){for(d=!0,b.on("click.tmlogic",".reset_variations",function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),ne.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")}),i.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){T(i,t)}),u=0;u<ee.length;u+=1)s=ee[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?i.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):i.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));ee=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}),ce.ready(function(){!1===d&&i.trigger(v)})}else{for(c.length&&(c.is(".tm-hidden")||w.hide(),l=c.closest("li.tm-extra-product-options-field"),w.after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),c.is(".section_popup")?c.wrap("<div class='tc-styled-variations tc-row'></div>"):(c.removeClass("tc-cell"),c.wrap("<div class='tc-styled-variations'></div>")),b.off("click.tmlogic",x).on("click.tmlogic",x,function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),ne.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")})),b.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){T(b,t)}),u=0;u<ee.length;u+=1)s=ee[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?b.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):b.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));ee=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}a.tcepo.formSubmitEvents[g][a.tcepo.formSubmitEvents[g].length]={trigger:function(){return!0},on_true:function(){return c.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){c.find(".tm-epo-variation-element").removeAttr("disabled")}},a(e.body).on("added_to_cart",function(){c.find(".tm-epo-variation-element").removeAttr("disabled")})}}function ht(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");r.attr("data-o_src",a.tc_product_image_store[0].src),r.attr("data-o_srcset",a.tc_product_image_store[0].srcset),r.attr("data-o_sizes",a.tc_product_image_store[0].sizes),r.attr("data-o_title",a.tc_product_image_store[0].title),r.attr("data-o_alt",a.tc_product_image_store[0].alt),r.attr("data-o_data-src",a.tc_product_image_store[0]["data-src"]),r.attr("data-o_data-large_image",a.tc_product_image_store[0]["data-large_image"]),r.attr("data-o_data-large_image_width",a.tc_product_image_store[0]["data-large_image_width"]),r.attr("data-o_data-large_image_height",a.tc_product_image_store[0]["data-large_image_height"]),o.attr("data-o_data-thumb",a.tc_product_image_store[1]["data-thumb"]),a.tc_product_image_store[2]&&i.attr("data-o_src",a.tc_product_image_store[2].src),n.attr("data-o_href",a.tc_product_image_store[3].href),n.attr("data-o_title",a.tc_product_image_store[3].title)}function vt(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");a.isEmptyObject(a.tc_product_image)?a.tc_product_image_store=a.tc_populate_store(t,e):(a.tc_product_image_store=a.tc_pre_populate_store(),a.tc_product_image_store=a.tc_maybe_copy_object_values(a.tc_product_image_store,a.tc_product_image)),r.tc_update_attr("src",0),r.tc_update_attr("srcset",0),r.tc_update_attr("sizes",0),r.tc_update_attr("title",0),r.tc_update_attr("alt",0),r.tc_update_attr("data-src",0),r.tc_update_attr("data-large_image",0),r.tc_update_attr("data-large_image_width",0),r.tc_update_attr("data-large_image_height",0),o.tc_update_attr("data-thumb",1),i.tc_update_attr("src",2),n.tc_update_attr("href",3),n.tc_update_attr("title",3)}function yt(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),o=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=e,n=e.closest("a");t&&t.image_link&&t.image_link&&t.image_link.length>1?(null!==t.full_src&&""!==t.full_src||(t.full_src=t.image_link),null!==t.full_src_w&&""!==t.full_src_w||(t.full_src_w=r.attr("data-large_image_width")),null!==t.full_src_h&&""!==t.full_src_h||(t.full_src_h=r.attr("data-large_image_height")),r.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),r.tc_set_attr("src",t.image_link,0),r.tc_set_attr("srcset",t.image_srcset,0),r.tc_set_attr("sizes",t.image_sizes,0),r.tc_set_attr("title",t.image_title,0),r.tc_set_attr("alt",t.image_alt,0),r.tc_set_attr("data-src",t.full_src,0),r.tc_set_attr("data-large_image",t.full_src,0),r.tc_set_attr("data-large_image_width",t.full_src_w,0),r.tc_set_attr("data-large_image_height",t.full_src_h,0),o.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),n.length&&(n.tc_set_attr("href",t.full_src,3),n.tc_set_attr("title",t.image_caption,3))):(r.length&&(r.tc_reset_attr("src",0),r.tc_reset_attr("srcset",0),r.tc_reset_attr("sizes",0),r.tc_reset_attr("title",0),r.tc_reset_attr("alt",0),r.tc_reset_attr("data-src",0),r.tc_reset_attr("data-large_image",0),r.tc_reset_attr("data-large_image_width",0),r.tc_reset_attr("data-large_image_height",0),o.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),n.length&&(n.tc_reset_attr("href",3),n.tc_reset_attr("title",3)))}function bt(t,e){var i;return t.is_associated?i=e.find(".tc-product-image .wp-post-image").first():""!==Xt.tm_epo_global_product_image_selector?i=a(Xt.tm_epo_global_product_image_selector):(0===(i=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length&&(i=e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first()),0===i.length&&(i=e.find(".elementor-widget-ae-post-image .wp-post-image").first())),a(i).length>1&&(i=a(i).first()),i}function wt(t){var e,a,i;return t.is_associated?t.main_product.closest(".tc-epo-element-product-container"):(e=t.main_product,a=t.product_id,(i=e.closest("#product-"+a)).length<=0&&(i=e.closest(".post-"+a)),i)}function xt(e,i,o,r,n,c,l){var d,s,p,m,_,f;for(d in e)if(Object.prototype.hasOwnProperty.call(e,d)&&(d=e[d]).enabled)switch(d.type){case"yith":i?(i.attr("srcset",o).attr("src-orig",o),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),s={elements:{zoom:a(".yith_magnifier_zoom"),zoomImage:i,gallery:a(".yith_magnifier_gallery li a")}},d.element.yith_magnifier(a.extend(!0,{},t.yith_magnifier_options,s))):(r?d.yith_wcmg_zoom.attr("href",d.yith_wcmg_default_zoom):d.yith_wcmg_zoom.attr("href",d._yith_wcmg_default_zoom),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),d.element.yith_magnifier(t.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,d),150);break;case"flexslider":ne.trigger("resize");break;case"elevatezoom":d.element.each(function(t,e){var a=e(this).data("elevateZoom");void 0!==a&&a.swaptheimage(t,t)}.bind(null,o,a));break;case"easyzoom":d.element.swap(null,o);break;case"easyzoom-flatsome":d.element.swap(o,o);break;case"woocommerce":d.element.flexslider(0),p=d.element,t.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,p,ne),10);break;case"zoom":l&&(m=l.find(".woocommerce-product-gallery--with-images").width(),_=!1,d.element.find("img.wp-post-image").attr("data-large_image_width")>m&&(_=!0),_?(f={touch:!1},"ontouchstart"in t&&(f.on="click"),d.element.trigger("zoom.destroy"),d.element.zoom(f)):d.element.trigger("zoom.destroy"))}ne.trigger("tm_gallery_compatibility_actions",{event_data:n,product_element:l,form:c})}function kt(i,o,r){var n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,A,P;return i.is_associated?{}:(n=!1,c=a(".images"),l=a(".yith_magnifier_zoom"),d=c.find(".yith_magnifier_zoom").first().attr("href"),s=d,p=c.find(".yith_magnifier_zoom img").first().attr("src"),m=!1,_=a(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),f=!1,u=r.find(".images .fusion-flexslider"),g=o.data("elevateZoom")||!1,h=r.find("div.product-images .woocommerce-main-image"),v=!1,y=r.find(".images .easyzoom"),b=!1,w=r.find(".images .easyzoom"),x=!1,k=r.find(".woocommerce-product-gallery"),F=!1,C=t.wc_single_product_params,A="function"==typeof a.fn.zoom&&C&&C.zoom_enabled,P=!1,t.yith_magnifier_options&&c.data("yith_magnifier")&&(n=!0),_.length&&_.iosSlider&&(m=!0),u.length&&u.flexslider&&(f=!0),y.length&&y.filter(".images .easyzoom.first").data("easyZoom")&&(y=y.filter(".images .easyzoom.first").data("easyZoom"),v=!0),v||(w=r.find(".images .has-image-zoom .slide")).length&&w.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(w=w.filter(".images .has-image-zoom .slide.first").data("easyZoom"),b=!0),"complete"===e.readyState?setTimeout(function(){y.length&&y.data("easyZoom")&&(y=y.data("easyZoom"),v=!0),w.length&&w.data("easyZoom")&&(w=w.data("easyZoom"),b=!0)},150):ne.on("load",function(){setTimeout(function(){y.length&&y.data("easyZoom")&&(y=y.data("easyZoom"),v=!0),w.length&&w.data("easyZoom")&&(w=w.data("easyZoom"),b=!0)},150)}),k.length&&k.data("flexslider")&&(x=!0,"function"==typeof a.fn.zoom&&C&&C.zoom_enabled&&(I=o.closest(".woocommerce-product-gallery__image")).length>0&&o.width()>a(".woocommerce-product-gallery").width()&&(F=I,o.data.wc27_zoom_target=F)),!x&&A&&(P=r.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:n,element:c,yith_wcmg_zoom:l,_yith_wcmg_default_zoom:s,yith_wcmg_default_image:p},is_iosSlider:{type:"iosslider",enabled:m,element:_},is_flexslider:{type:"flexslider",enabled:f,element:u},is_elevateZoom:{type:"elevatezoom",enabled:g,element:h},is_easyzoom:{type:"easyzoom",enabled:v,element:y},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:b,element:w},is_wc27_gallery:{type:"woocommerce",enabled:x,element:k},is_zoom_enabled:{type:"zoom",enabled:!x&&A,element:P}})}function Ft(t){var e,i,o,r,n,c,l,d,s=t.is_associated?t.this_epo_container:t.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector),p=t.variations_form,m=t.main_product,_=t.form,f=wt(t),u=[],h=t.is_associated?"tc_":"";e=bt(t,f),i=kt(t,e,f),a(e).length>0&&(_.on(h+"reset_image.tcpi",function(){a.tc_product_image=a.tc_replace_object_values(a.tc_product_image,a.tc_product_image_store),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length?u[u.length-1].trigger("tm_trigger_product_image"):a.tc_product_image_store=a.tc_populate_store(e,f)}),_.on(h+"found_variation.tcpi",function(){vt(e,f),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&(ht(e,f),u[u.length-1].trigger("tm_trigger_product_image"))}),a.tc_product_image_store=a.tc_maybe_copy_object_values_from_img(a.tc_product_image_store,e,f),m.off("tm_change_product_image").on("tm_change_product_image",function(t,m){if(t.stopImmediatePropagation(),r=m.element,n=m.element_current,r&&n){if(c=r.data("imagep"),l=""!==c?"imagep":"image",(d=m.element_current.data("image-variations"))&&(d=d[l]),void 0===d)return;if(u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){(o=a(this)).is("option")&&(o=o.closest("select")),g(o)&&""!==o.val()&&u.push(o)}),u.length&&!u[u.length-1].is(r))return;yt(d,e,f),xt(i,e,d.image_link,!1,m,_,f)}}),m.off("tm_restore_product_image").on("tm_restore_product_image",function(t,n){t.stopImmediatePropagation(),r=n.element,u=[],r&&(a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&!u[u.length-1].is(r))?u[u.length-1].trigger("tm_trigger_product_image"):(yt(!1,e,f),xt(i,!1,e.attr("src"),!1,n,_,f))}),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&u[u.length-1].trigger("tm_trigger_product_image")),ne.trigger("tm_product_image_loaded")}function Ct(e){var i,o,r,n,c,l,d,s=e.is_associated?e.this_epo_container:e.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector),p=e.main_product,m=e.product_id,_=e.form,f=wt(e),u=[];i=bt(e,f),o=kt(e,i,f),a(i).length>0&&(i.data("tm-current-image",!1),r=i.closest("a"),n=i.attr("src"),c=i.width(),l=i.height(),p.off("tm_change_product_image").on("tm_change_product_image",function(e,r){var n,s,p,f,u,h,v,y,w,x,k,F,C,I,A,P=[];s=(n=r.element.closest(".cpf-section")).is(".tm-epo-variation-section"),p=r.epo_holder,s&&(p=n),f=p.find(".tm-product-image:checked,select.tm-product-image"),P=[],u=r.element.attr("id"),h=!0,v=r.main_product,y=v.closest("#product-"+m),w=c,x=l,F=a("<div class='blockUI blockOverlay tm-preloader-img'></div>"),y.length<=0&&(y=v.closest(".post-"+m)),0===(k=y.find("#"+u+"_tmimage")).length&&(k=i),A=function(){F.remove(),_.tc_image_update(!1),i.data("tm-current-image",!1),y.find(".tm-clone-product-image").hide(),i.show()},r.src===k.attr("src")&&k.is(":visible")||(!1!==r.src?(F.css({width:w,height:x}),f.each(function(){g(d=a(this))&&pt(d)&&b({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&P.push(d)}),P.length&&(f=P[P.length-1]),f.attr("id")!==r.element.attr("id")&&(h=!1),C=i.tcClone(),I=new Image,C.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),h&&i.before(F),o.is_yith_wcmg.yith_wcmg_default_zoom=o.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),o.is_yith_wcmg.yith_wcmg_default_image=o.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),I.onerror=function(){A()},I.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();y.find("#"+u+"_tmimage").remove(),y.find(".tm-clone-product-image").hide(),C.prop("src",I.src).hide(),i.hide().after(C),C.css("opacity",0).show(),xt(o,C,I.src),F.animate({opacity:0},750,"easeOutExpo",function(){F.remove()}),C.animate({opacity:1},t.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),ne.trigger("tm_change_product_image_loaded",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})},C.attr("id",u+"_tmimage").addClass("tm-clone-product-image").hide(),C.attr("src-orig")&&C.attr("src-orig",r.src),h?(I.src=r.src,_.tc_image_update(r.element,C),i.data("tm-current-image",u),ne.trigger("tm_change_product_image_show",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):(C.prop("src",r.src).hide(),i.after(C)),ne.trigger("tm_change_product_image_end",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):A())}),p.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,c,l,d,s,p,f,u,g,h,v,y,b,w;if(ne.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),c=e.main_product,l=c.closest("#product-"+m),d=e.element.closest(".cpf-section"),s=d.is(".tm-epo-variation-section"),u=!1,y=n,b=e.epo_holder,s&&(b=d),l.length<=0&&(l=c.closest(".post-"+m)),g=l.find("#"+a+"_tmimage").is(":visible"),l.find("#"+a+"_tmimage").remove(),0===l.find(".tm-clone-product-image").length)i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{if(!g)return void ne.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(h=l.find(".tm-clone-product-image").length,a=i.data("tm-current-image"),w=h-1;w>=0;w-=1){if(f=l.find(".tm-clone-product-image").eq(w),p=f.attr("id").replace("_tmimage",""),(v=b.find("[id='"+p+"']")).is(":checked")&&v.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(w).show(),r.attr("href",l.find(".tm-clone-product-image").eq(w).prop("src")),i.data("tm-current-image",p),u=!0;break}l.find(".tm-clone-product-image").eq(w).hide()}u?l.find("#"+a+"_tmimage").remove():(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}u&&(y=f.attr("src")),xt(o,!1,y,l.find(".tm-clone-product-image").filter(":visible").length),ne.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),p.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var c,l,s,p,f,u,h,v,y,w,x,k,F,C,I,A,P;if(c=e.main_product,l=c.closest("#product-"+m),s=e.element?e.element.closest(".cpf-section"):a(c.find(".tm-epo-variation-section").first(),e.epo_holder),p=s.is(".tm-epo-variation-section"),f=e.epo_holder,p&&(f=s),u=f.find(".tm-product-image:checked,select.tm-product-image"),h=[],v="",x=!1,k=i.data("tm-current-image"),C=n,l.length<=0&&(l=c.closest(".post-"+m)),f=c.find(".tm-epo-variation-section").first().add(e.epo_holder),(u=f.find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(d=a(this))&&pt(d)&&b({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&h.push(d)}),h.length&&(v=(u=h[h.length-1]).attr("id")),!h.length||!u.length||k&&v===k){if(A=f.find("[id='"+k+"']").closest(".cpf_hide_element"),k&&(!1===A.data("isactive")||!1===A.closest(".cpf-section").data("isactive"))){if(l.find("#"+k+"_tmimage").remove(),0===(F=l.find(".tm-clone-product-image").length))i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{for(P=F-1;P>=0;P-=1){if(y=l.find(".tm-clone-product-image").eq(P),w=y.attr("id").replace("_tmimage",""),(I=f.find("[id='"+w+"']")).is(":checked")&&I.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(P).show(),r.attr("href",l.find(".tm-clone-product-image").eq(P).prop("src")),i.data("tm-current-image",w),x=!0;break}l.find(".tm-clone-product-image").eq(P).hide()}x||(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}x&&(C=y.attr("src")),xt(o,!1,C,l.find(".tm-clone-product-image").filter(":visible").length)}}else u.last().trigger("tm_trigger_product_image")}),a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(d=a(this))&&""!==d.val()&&u.push(d)}),u.length&&u[u.length-1].trigger("tm_trigger_product_image")),ne.trigger("tm_product_image_loaded")}function It(e){setTimeout(function(){"inline"===Xt.tm_epo_global_product_image_mode?Ct(e):Ft(e)},t.tc_epo_product_image_setup_delay||0)}function At(t){ne.trigger("tm-epo-compatibility",{epo:t})}function Pt(t){Yt&&t.find(".tm-range-picker").toArray().forEach(function(e){var i,o=a(e),r=o.attr("data-step").split("."),c=t.find("#"+a.epoAPI.dom.id(o.attr("data-field-id"))),l=parseFloat(o.attr("data-min")),d=parseFloat(o.attr("data-max")),s=parseFloat(o.attr("data-start")),p=parseFloat(o.attr("data-step")),m=o.attr("data-show-picker-value"),_=o.closest("li").find(".tm-show-picker-value"),f=parseFloat(o.attr("data-noofpips")),u=null;o.data("tc-picker-init")||(o.data("tc-picker-init",1),r=1===r.length?0:r[1].length,Number.isFinite(l)||(l=0),Number.isFinite(d)||(d=0),d<=l&&(d=parseFloat(d)+1),s=a.epoAPI.math.unformat(s,$t.localDecimalSeparator),Number.isFinite(s)||(s=0),s=n(s,{precision:r}),Number.isFinite(p)||(p=0),Number.isFinite(f)||(f=10),f<2&&(f=2),"yes"===o.attr("data-pips")&&(u={mode:"count",values:f,filter:function(t,e){return t=parseFloat(a.epoAPI.math.toFixed(t,r)),p<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}},density:2}),Yt.create(o.get(0),{direction:Xt.text_direction,start:s,step:p,connect:"lower",behaviour:"tap",format:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}},range:{min:[l],max:[d]},pips:u,tooltips:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}}}),i=o.find(".noUi-handle-lower"),o.get(0).noUiSlider.on("slide",function(){i.trigger("tmmovetooltip"),c.trigger("change.cpf")}),o.get(0).noUiSlider.on("update",function(t,e){t[e]=a.epoAPI.math.unformat(t[e],$t.localDecimalSeparator),e=0,"left"!==m&&"right"!==m&&i.attr("title",n(t[e],{precision:r})),c.val(t[e]).trigger("change"),""!==m&&_.html(n(t[e],{precision:r}))}),""!==m&&_.html(s),"left"!==m&&"right"!==m&&(i.attr("title",s),o.addClass("noUi-show-tooltip")))})}function St(t,e){var i,o=a(e),r=a.tm_datepicker._getInst(o[0]),n=o.data("tc-enabled_only_dates"),c=o.data("tc-disabled_weekdays"),l=o.data("tc-disabled_months"),d=o.data("tc-disabled_dates"),s=o.data("tc-format"),p=t.getDay(),m=t.getDay()+1;return!!a.tm_datepicker._isInRange(r,t)&&(""!==n?(i=a.tm_datepicker.formatDate(s,t),-1!==n.indexOf(i)):-1===c.indexOf(p.toString())&&(-1===l.indexOf(m.toString())&&(""===d||(i=a.tm_datepicker.formatDate(s,t),-1===d.indexOf(i)))))}function qt(t){var e,a,i,o,r;if(t.toString().isNumeric()&&0!==(e=0===t?t:t>0?1:-1)){for(a=new Date,i=1,o=!1,r=Math.abs(t);i<=r;)!1===o&&(o=0),a.setDate(a.getDate()+1*e),o++,0!==a.getDay()&&6!==a.getDay()&&i++;!1!==o&&(t=o*e)}return t}function Et(i){var o,r,n=".tm-epo-timepicker";a.tm_datepicker&&(o=a("input").map(function(){return this.id}).get().join(" "),(r=e.createElement("input")).setAttribute("type","date"),"text"===r.type&&(n=".tm-epo-system-timepicker"),i.find(n).toArray().forEach(function(t){var e=a(t),i=null,r=null,n=e.attr("data-time-format").trim(),c=e.attr("data-time-theme").trim(),l=e.attr("data-time-theme-size").trim(),d=e.attr("data-time-theme-position").trim(),s=e.attr("data-tranlation-hour").trim(),p=e.attr("data-tranlation-minute").trim(),m=e.attr("data-tranlation-second").trim();e.attr("type","text"),""!==e.attr("data-min-time").trim()&&(i=e.attr("data-min-time").trim()),""!==e.attr("data-max-time").trim()&&(r=e.attr("data-max-time").trim()),""!==e.attr("data-custom-time-format").trim()&&(n=e.attr("data-custom-time-format").trim()),s||(s=Xt.hourText),p||(p=Xt.minuteText),m||(m=Xt.secondText),e.tm_timepicker({isRTL:Xt.isRTL,hourText:s,minuteText:p,secondText:m,timeFormat:n,minTime:i,maxTime:r,closeText:Xt.closeText,showOn:"both",buttonText:"",beforeShow:function(t,i){a(i.dpDiv).removeClass(o).removeClass("tm-ui-skin-epo tm-ui-skin-epo-black tm-datepicker-medium tm-datepicker-small tm-datepicker-large tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+c+" tm-timepicker tm-datepicker tm-datepicker-"+d+" tm-datepicker-"+l).appendTo("body"),ce.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){e.tm_timepicker("hide")}),re.addClass("tm-static"),e.prop("readonly",!0),ne.trigger({type:"tm-timepicker-beforeShow",input:t,inst:i})},onClose:function(){re.removeClass("tm-static"),e.prop("readonly",!1),e.trigger("change")}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,r,n=a(t),c=parseInt(n.attr("data-start-year").trim(),10),l=parseInt(n.attr("data-end-year").trim(),10),d=n.attr("data-min-date").trim(),s=n.attr("data-max-date").trim(),p=n.attr("data-disabled-dates").trim(),m=n.attr("data-enabled-only-dates").trim(),_=n.attr("data-exlude-disabled").trim(),f=n.attr("data-disabled-weekdays").trim().split(","),u=n.attr("data-disabled-months").trim().split(","),g=n.attr("data-date-format").trim(),h=n.attr("data-date-showon").trim(),v=n.attr("data-date-defaultdate").trim(),y=n.attr("data-date-theme").trim(),b=n.attr("data-date-theme-size").trim(),w=n.attr("data-date-theme-position").trim();""!==p&&(e=p.split(","),-1!==p.indexOf(",")&&e.length>0&&(p=e)),""!==m&&(r=m.split(","),-1!==m.indexOf(",")&&r.length>0&&(m=r)),""===d?d=""===c?null:new Date(c,0,1):_&&(d=qt(d)),""===s?s=""===l?null:new Date(l,11,31):_&&(s=qt(s)),n.data("tc-enabled_only_dates",m),n.data("tc-disabled_weekdays",f),n.data("tc-disabled_months",u),n.data("tc-disabled_dates",p),n.data("tc-format",g),n.tm_datepicker({monthNames:Xt.monthNames,monthNamesShort:Xt.monthNamesShort,dayNames:Xt.dayNames,dayNamesShort:Xt.dayNamesShort,dayNamesMin:Xt.dayNamesMin,isRTL:Xt.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:h,defaultDate:v,buttonText:"",showButtonPanel:!0,firstDay:Xt.first_day,closeText:Xt.closeText,currentText:Xt.currentText,dateFormat:g,minDate:d,maxDate:s,onSelect:function(){var t,e,o=a(this),r="#"+a.epoAPI.dom.id(o.attr("id")),n=o.tm_datepicker("getDate"),c="",l="",d="",s=i.find(r+"_day"),_=i.find(r+"_month"),h=i.find(r+"_year");n&&(c=n.getDate(),l=n.getMonth()+1,d=n.getFullYear(),t=a.tm_datepicker.formatDate(g,n),(-1!==u.indexOf(l.toString())||-1!==f.indexOf(n.getDay().toString())||-1!==p.indexOf(t)||""!==m&&-1===m.indexOf(t))&&(e=o.data("tm-last-date"),e=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(e),o.tm_datepicker("setDate",e),e?(c=(n=o.tm_datepicker("getDate")).getDate(),l=n.getMonth()+1,d=n.getFullYear()):(c="",l="",d=""))),s.val(c),_.val(l),h.val(d),o.data("tm-last-date",o.val())},beforeShow:function(t,e){a(e.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+y+" tm-datepicker tm-datepicker-"+w+" tm-datepicker-"+b).appendTo("body"),ce.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){n.tm_datepicker("hide")}),ce.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,i=new Date,o=a.tm_datepicker._daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate())),r=o.getDay(),c=o.getMonth()+1,l="#"+e.id.replace(/\\\\/g,"\\"),d=!1,s=n.tm_datepicker("getDate");if(""!==m)t=a.tm_datepicker.formatDate(g,s),d=-1!==m.indexOf(t);else if(-1!==u.indexOf(c.toString())||-1!==f.indexOf(r.toString()))d=!1;else{if(""!==p)return t=a.tm_datepicker.formatDate(g,s),[-1===p.indexOf(t),""];d=!0}d&&(a.tm_datepicker._setDate(e,o),a.tm_datepicker._gotoToday(l))}),re.addClass("tm-static"),n.prop("readonly",!0),ne.trigger({type:"tm-datepicker-beforeShow",input:t,inst:e})},onClose:function(){re.removeClass("tm-static"),n.prop("readonly",!1),n.removeAttr("readonly"),n.trigger("change")},beforeShowDay:function(t){var e,i=t.getDay(),o=t.getMonth()+1;return""!==m?(e=a.tm_datepicker.formatDate(g,t),[-1!==m.indexOf(e),""]):-1!==u.indexOf(o.toString())||-1!==f.indexOf(i.toString())?[!1,""]:""!==p?(e=a.tm_datepicker.formatDate(g,t),[-1===p.indexOf(e),""]):[!0,""]}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),e=i.find(t),o=e.attr("data-date-format"),r=i.find(t+"_day").val(),n=i.find(t+"_month").val(),c=i.find(t+"_year").val(),l=a.tm_datepicker.formatDate(o,new Date(c,parseInt(n,10)-1,r));r>0&&n>0&&c>0?(e.tm_datepicker("setDate",l),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var e="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),o=i.find(e),r=i.find(e+"_day"),n=i.find(e+"_month"),c=i.find(e+"_year"),l=r.val(),d=n.val(),s=c.val(),p=a(this);""!==s&&""!==d&&""!==l||""!==s&&""!==d&&""===l||""!==l&&""!==s&&""===d||""!==l&&""!==d&&""===s?p.find("option").toArray().forEach(function(e){var i,r=a(e),n=r.val(),c=s+"-"+d+"-"+l;if(p.is(".tmcp-date-day")){if(""===s||""===d)return;c=s+"-"+d+"-"+n}else if(p.is(".tmcp-date-month")){if(""===s||""===l)return;c=s+"-"+n+"-"+l}else if(p.is(".tmcp-date-year")){if(""===l||""===d)return;c=n+"-"+d+"-"+l}if(""!==n)try{(i=a.tm_datepicker.parseDate("yy-mm-dd",c))&&(St(i,o)?r.prop("disabled",!1):r.prop("disabled",!0))}catch(e){t.console.log(e),r.prop("disabled",!0),Qt=e}}):(r.find("option").prop("disabled",!1),n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1))}),ne.on("resizestart",function(){var i=a(e.activeElement);if(i.is(".hasDatepicker")){if(i.data("resizestarted",!0),a(t).width()<768)return void i.data("resizewidth",!0);i.tm_datepicker("hide")}}),ne.on("resizestop",function(){var t=a(e.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function Tt(t){var e,i=t.epoEventId,o=t.main_product,r=!a.tcepo.formSubmitEvents[i].some(function(t){return typeof t&&("function"==typeof t.trigger||!1)&&!t.trigger()});return a.tcepo.formSubmitEvents[i].forEach(function(t){"object"===(e=typeof t)&&(r?t.on_true():t.on_false())}),r||setTimeout(function(){o.find($t.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),ne.trigger("tm-apply-submit-events",{epo:{form_is_submit:r}}),r}function jt(t){var e,i,o=t.form,r=t.this_epo_container,n=t.main_product,c=t.epoEventId;return"yes"===Xt.tm_epo_global_enable_validation&&(e={},r.find(".tmcp-ul-wrap").toArray().forEach(function(t){var o,r,n,c,l;t=a(t),(i=t.data("tm-validation"))&&"object"===a.tmType(i)&&(r=(o=t.find(".tm-epo-field")).first().attr("name"),t.is(".tm-extra-product-options-radio.tm-element-ul-radio")?(r=o.last().attr("name"),e[r]=i):t.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?o.each(function(r,n){"required"in i&&(i.required=function(e){var i=t.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===i?o.last().attr("name")===a(e).attr("name"):i<=0}),e[a(n).attr("name")]=i}):t.is(".tm-extra-product-options-product.tm-element-ul-product")?("required"in i&&(n=t.find(".product-variation-id").first().attr("name"),l=t.find(".tc-epo-field-product").first(),c={required:function(){return!(!l.is("select")||!g(l,!0)||"variable"!==l.children(":selected").attr("data-type"))}},e[n]=c),e[r]=i):e[r]=i)}),o.removeData("tc_validator"),o.tc_validate({focusInvalid:!1,ignore:$t.qtySelector+",.tcdisabled,.tmcp-upload-hidden,#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tc-epo-variable-product-selector,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:e,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")||e.is(".tm-epo-field.tmcp-checkbox")||e.is(".tm-epo-field.tmcp-radio")?"before"===Xt.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-ul-wrap").parent()):t.appendTo(e.closest(".tmcp-ul-wrap").parent()):"before"===Xt.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-field-wrap")):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(t,e){ne.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){n.find($t.addToCartButtonSelector).first().is(".disabled")||(n.find($t.addToCartButtonSelector).first().removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled"),n.find($t.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled"))},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&U(a(e.errorList[0].element),c)},submitHandler:function(){var e;return t.is_quickview||(n.find($t.addToCartButtonSelector).first().addClass("disabled"),e=function(){n.find($t.addToCartButtonSelector).first().removeClass("disabled"),ce.off("ajaxSuccess",e)},ce.on("ajaxSuccess",e)),Tt(t)}}),o.find($t.addToCartButtonSelector).on("click",function(t){o.tc_validate().form()||(t.preventDefault(),t.stopImmediatePropagation())}),!0)}function Ot(t){var e=t.form,i=t.epoEventId;ne.trigger("tm-from-submit",{epo:t,functions:{tm_apply_validation:jt,apply_submit_events:Tt}}),!jt(t)&&a.tcepo.formSubmitEvents[i].length&&e.on("submit",function(){Tt(t)})}function zt(t){var e,i=t.totalsHolder,o=t.totalsHolderContainer,r=t.currentCart,n=t.variationForm,c=t.variation,l=i.data("variations");i.data("current_variation",c),c&&"display_price"in c?(e=c.display_price,i.data("price",e),i.data("priceIsWithDiscount","1"),i.removeData("tcprice")):l&&c&&c.variation_id&&void 0!==l[c.variation_id]?(e=l[c.variation_id],i.data("price",e),i.removeData("tcprice")):c&&a(c.price_html).find(".amount:last").length&&(e=(e=(e=(e=a(c.price_html).find(".amount:last").text()).replace(Xt.currency_format_thousand_sep,"")).replace(Xt.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),e=parseFloat(e),i.data("price",e),i.removeData("tcprice")),o.find(".cpf-product-price").val(e),n.data("tm-styled-variations")||r.trigger({type:"tm-epo-update"})}function Dt(t,e,i,o,r,c,l,d){var s=e.find(i);return!1===t.is_associated&&(s=s.not($t.associatedEpoSelector+" "+i)),o||(o=0),r||(r=0),c||(c=[]),d||(s=s.filter(".tcenabled")),s.toArray().forEach(function(t){var e,i,s,p,m,_,f,u,g,h,v,y,b=a(t),w="",x=b.closest(".cpf_hide_element"),k=b.closest(".tmcp-field-wrap"),F=x.attr("data-fblabelshow"),C=x.attr("data-fbvalueshow"),I="",A=k.find(".tm-qty").val();""===F&&(I=x.find(".tm-epo-element-label").html()),void 0===A&&(A=""),b.is(":checkbox, :radio, :input")&&(i=0,s=0,p=0,m=0,b.is(".tmcp-checkbox, .tmcp-radio")?d||b.is(":checked")?(i=b.data("raw_price"),s=b.data("price"),p=b.data("raw_original_price"),m=b.data("original_price"),l=!0,b.data("isset",1),f=(_=b.closest("li.tmcp-field-wrap")).find(".checkbox_image,.radio_image"),w="",v="",(u=b.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(v=w=u.html()),f.length&&(w+=f.clone().addClass("tc-img-floating")[0].outerHTML),b.is(".use_images")&&(v=w=_.find(".tc-label").first().html(),f.length&&(w=w+'<img class="tc-img-floating" src="'+b.attr("data-image")+'"')),c.push({title:I,value:w,valueText:v,price:s,original_price:m,quantity:A,label_show:F,value_show:C})):b.data("isset",0):b.is(".tmcp-select")?(i=(y=b.find("option:selected")).data("raw_price"),s=y.data("price"),p=y.data("raw_original_price"),m=y.data("original_price"),""===(g=b.children("option:selected")).val()&&""===g.attr("data-rulestype")||(l=!0),b.find("option").data("isset",0),y.data("isset",1),""===y.val()&&""===y.attr("data-rulestype")||(w=y.attr("data-text"),c.push({title:I,value:w,valueText:w,price:s,original_price:m,quantity:A,label_show:F,value_show:C}))):(e=b.val(),b.is("[type='file']")&&(e=e.replace("C:\\fakepath\\","")),e?b.is(".tmcp-range")&&"0"===e?b.data("isset",0):(i=b.data("raw_price"),s=b.data("price"),p=b.data("raw_original_price"),m=b.data("original_price"),l=!0,b.data("isset",1),w=e,b.is(".tmcp-range")&&(w=n(w,{precision:h=1===(h=a(".tm-range-picker[data-field-id='"+b.attr("id")+"']").attr("data-step").split(".")).length?0:h[1].length})),c.push({title:I,value:w,valueText:w,price:s,original_price:m,quantity:A,label_show:F,value_show:C})):b.data("isset",0)),i||(i=0),s||(s=0),p||(p=0),m||(m=0),o=parseFloat(o)+parseFloat(i),r=parseFloat(r)+parseFloat(p))}),{total:o,original_total:r,floatingBoxData:c,showTotal:l,elementsLength:s.length}}function Nt(t,e,i,o,r,n,c,l){var d,s=a.extend(!0,{},t),p=i.find($t.associatedEpoSelector),m=i,_=!0;c.addClass("tm-hidden"),"variable"===o?i.is(".tc-init-variations")?i.trigger("refresh.tc-variation-form"):(i.addClass("variations_form"),setTimeout(function(){d=Ut(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),r,s),i.addClass("tc-init-variations"),i.tc_product_variation_form(r,n,c,d)},40),_=!1):i.is(".tc-init-product")||(i.addClass("tc-init-product"),c.find(".tc-epo-element-variable-product").removeClass("variations_form"),c.find(".tc-epo-element-variations").removeClass("variations"),setTimeout(function(){Ut(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),r,s)},20),_=!1),i.removeClass("tm-hidden"),_&&ne.trigger("cpflogicdone"),void 0===l&&"yes"===Xt.tm_epo_global_product_element_scroll&&ne.tcScrollTo(i,200,a.epoAPI.math.toFloat(Xt.tm_epo_global_product_element_scroll_offset))}function Bt(c,d,u){var g,h,v,y,b,w,x,k,F,C,I=c.product_id,q=c.main_product,E=c.main_cart,T=c.this_epo_container,j=c.this_totals_container,z=c.this_epo_totals_container,D=c.epoEventId,H=c.main_epo_inside_form,L=c.epo_id_selector,U=c.epo_id,Q=c.product_id_selector,Z="main",W=c.is_associated?"tc-variation-form":"wc-variation-form",$=c.is_associated?"tc_":"";u&&d?(Z=a.epoAPI.applyFilter("tc_get_item_id",d.attr("data-item_id"),d),g=q.find(".tm-extra-product-options.tm-cart-"+Z),h=q.find(".tm-totals-form-"+Z),v=q.find(".tm-epo-totals.tm-cart-"+Z),x=d.find(".variations_form").first()):(E&&0!==E.length||(E=T.is(".tc-shortcode")?q:N(q,q,"form",I)),d=E.parent(),g=T,h=j,v=z,x=c.variations_form),c.is_associated&&(Z=g.attr("data-cart-id")),y=u||E,v.data("tm_for_cart",y),b=s(y),k=_(y),v.data("variationIdElement",p(y,".wceb_picker_wrap "+b)),v.data("qty_element",k),w=v.data("type"),x.data("tc_product_id",I),F=v.attr("data-tm-epo-final-total-box"),ne.on("epoCalculateRules",function(t,e){t&&e&&e.currentCart&&ot(c,e.currentCart)}),ot(c,y),g.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,i,o,r,n=a(this);n.is(".tc-epo-field-product")||E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||(t=l(n.find("option:selected").data("price"),v,!0,!1,n),e=l(n.find("option:selected").data("original_price"),v,!1,!1,n),i=n.closest(".tmcp-field-wrap").find(".tc-tooltip"),o=n.closest(".tmcp-field-wrap").find(".tc-inline-description"),S(n.closest(".tmcp-field-wrap").find(".tc-price"),n.find("option:selected").data("price"),t,n.find("option:selected").data("original_price"),e),i.length>0&&i.attr("data-tm-tooltip-html",n.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),o.length>0&&(n.find("option:selected").attr("data-tm-tooltip-html")?o.html(n.find("option:selected").attr("data-tm-tooltip-html")):o.html("")),"0"!==n.find("option:selected").attr("data-hide-amount")&&"yes"!==Xt.tm_epo_show_price_inside_option_hidden_even||"yes"!==Xt.tm_epo_show_price_inside_option||!n.find("option:selected").attr("data-text")||("yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(n.find("option:selected").data("price"))||"yes"!==Xt.tm_epo_auto_hide_price_if_zero&&""!==n.find("option:selected").attr("data-price"))&&(r="",n.find("option:selected").html(n.find("option:selected").attr("data-text")+" ("+r+t+")")),""===n.val()?i.addClass("tm-hidden"):n.find("option:selected").attr("data-tm-tooltip-html")?i.removeClass("tm-hidden"):i.addClass("tm-hidden"))}).off("tm-math-select-change-html-all tm-select-change-html-all").on("tm-math-select-change-html-all tm-select-change-html-all",function(t){var e,i,o,r,n,d=a(this);d.is(".tc-epo-field-product")||E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||(e=d.closest(".tmcp-field-wrap").find(".tc-tooltip"),i=d.closest(".tmcp-field-wrap").find(".tc-inline-description"),e.length>0&&e.attr("data-tm-tooltip-html",d.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),i.length>0&&(d.find("option:selected").attr("data-tm-tooltip-html")?i.html(d.find("option:selected").attr("data-tm-tooltip-html")):i.html("")),"yes"===Xt.tm_epo_show_price_inside_option&&d.find("option").each(function(){if(!(o=a(this)).val())return!0;"tm-select-change-html-all"===t.type?(o.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),it(c,d,void 0,o,1)):"tm-math-select-change-html-all"===t.type&&it(c,d,void 0,o,1,!0),r=1,"yes"!==Xt.tm_epo_multiply_price_inside_option&&(r=d.data("tm-quantity")),r||(r=1),n=l(o.data("price")/r,v,!0,!1,d),"0"!==o.attr("data-hide-amount")&&"yes"!==Xt.tm_epo_show_price_inside_option_hidden_even||!o.attr("data-text")||("yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(o.data("price"))||"yes"!==Xt.tm_epo_auto_hide_price_if_zero&&""!==o.attr("data-price"))&&o.html(o.attr("data-text")+" ("+n+")")}),""===d.val()?e.addClass("tm-hidden"):d.find("option:selected").attr("data-tm-tooltip-html")?e.removeClass("tm-hidden"):e.addClass("tm-hidden"))}).off("tm-select-change").on("tm-select-change",function(){var t=a(this);t.is(".tc-epo-field-product")||E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||(t.trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),y.trigger({type:"tm-epo-update",norules:1,element:t}))}),g.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=J(e,!1),l=R(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?t.data("tm-prev-value",i):t.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(t,e){var i=a(this),o=i.closest(".tmcp-field-wrap").find(".tm-epo-field"),r=parseFloat(i.val()),n=parseFloat(i.attr("max")),l=parseFloat(i.attr("min")),d=i.attr("step"),s=J(o,!1),p=R(o,!1),m=!0;r&&""!==r&&"NaN"!==r||(r=0),""!==n&&"NaN"!==n||(n=""),""!==l&&"NaN"!==l||(l=0),"any"!==d&&""!==d&&void 0!==d&&"NaN"!==parseFloat(d)||(d=1),(r<l||r>n)&&(m=!1),s&&p&&m?(c.noEpoUpdate?o.data("tm-quantity",i.val()).trigger("change.cpf",e).trigger("change.cpfproduct",e):o.data("tm-quantity",i.val()).trigger("change",e),o.trigger("tm-select-change-html-all")):i.data("tm-prev-value")?i.val(i.data("tm-prev-value")):i.val(l),i.trigger("cpf-changed")}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),g.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var t=a(this),e=a.epoAPI.template.html($t.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:Xt.i18n_characters_remaining});t.after(a(e))}),g.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen input.tc_maxlen").on("change.tc_maxlen input.tc_maxlen",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),g.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,i,o,r=a(this);r.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=r.closest(".tmcp-field-wrap").find("label img"),i=r.closest(".cpf-section").is(".tm-epo-variation-section"),t=r,r.is("select.tm-product-image")&&(t=r.children("option:selected")),(a(e).length>0||i&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(r.is(":checked")||r.is("select.tm-product-image")&&""!==r.val()&&(""!==r.find("option:selected").attr("data-rules")||r.is(".tm-epo-variation-element")))?((o=a(e).first().attr("data-original"))||i||(o=a(e).first().attr("src")),o||(o=t.attr("data-image")),t.attr("data-imagep")&&(o=t.attr("data-imagep")),o?q.trigger("tm_change_product_image",{src:o,element:r,element_current:t,main_product:q,epo_holder:g}):q.trigger("tm_change_product_image",{src:!1,element:r,element_current:t,main_product:q,epo_holder:g})):q.trigger("tm_restore_product_image",{element:r,element_current:t,main_product:q,epo_holder:g})):q.trigger("tm_attempt_product_image",{element:r,element_current:t,main_product:q,epo_holder:g})}),g.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,i,o=a(this),r=o.closest(".tmcp-field-wrap").find(".tm-epo-field"),n=!1;r.is(".tm-epo-variation-element")||(r.is("select")?""!==r.val()&&(n=!0):r.is(":checkbox")?r.is(":checked")&&(n=!0):r.is(":radio")?r.is(":checked")&&(n=!0,"yes"===Xt.tm_epo_show_only_active_quantities&&r.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio").each(function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):r.val()&&(n=!0),e=(t=o.find(".tm-qty")).val(),i=t.attr("min")||"",n?("yes"===Xt.tm_epo_show_only_active_quantities&&o.show(),t.removeClass("ignore").prop("disabled",!1)):("yes"===Xt.tm_epo_show_only_active_quantities&&(o.hide(),e||t.val(i)),t.addClass("ignore").prop("disabled",!0)),setTimeout(function(){o.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),g.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),g.find(".tm-epo-field").filter(":checkbox:checked, :radio:checked").each(function(){a(this).closest(".tmcp-field-wrap").addClass("tc-active")}),g.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(t,e){var i,o=a(this),r=o.closest(".tmcp-field-wrap"),n=o.closest(".tmcp-ul-wrap");o.is(":checkbox, :radio")&&(o.is(":radio")&&(e||n.find(".tmcp-field-wrap").removeClass("tc-active")),o.is(":checked")?r.addClass("tc-active"):r.removeClass("tc-active")),o.is(".tm-epo-variation-element")||(o.is(".use_images:checkbox, .use_images:radio")&&o.attr("data-imagec")&&(i=r.find(".radio_image,.checkbox_image").first()).length>0&&(o.is(":checked")?i.prop("src",o.attr("data-imagec")):i.prop("src",o.attr("data-image"))),o.is(".use_images:radio")&&o.closest(".cpf-type-radio").find(".use_images:radio").not(o).each(function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",t.attr("data-image"))}),o.is(".tmcp-range")&&o.trigger("change.cpflogic"),o.is("select")?o.trigger("tm-select-change"):(o.is(".tmcp-radio")&&o.closest(".cpf_hide_element").find(".tm-quantity .tm-qty").each(function(){a(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?a(this).removeAttr("disabled"):a(this).attr("disabled","disabled")}),y.trigger({type:"tm-epo-update",norules:1,element:o}))),o.trigger("tm_trigger_product_image"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),q.trigger("tm_attempt_product_image",{element:o,main_product:q,epo_holder:g})}),g.find(".tm-has-clearbutton .tm-epo-field").off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t,e=a(this),i=e.closest(".tmcp-field-wrap");e.is(":checked")&&(t=e.closest(".cpf_hide_element").find(".tm-epo-reset-radio").removeClass("tm-hidden"),i.append(t))}),g.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var t=a(this),e=t.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.removeAttr("checked").prop("checked",!1),e.trigger("change",{forced:1})),t.addClass("tm-hidden")}),se&&se.debounce&&g.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").on("keyup",se.debounce(function(){a(this).trigger("change.cpf")},10)),g.find(".tm-epo-field.tmcp-upload").off("change.cpfv change.tcupload").on("change.cpfv change.tcupload",function(){var e,i,o=a(this),r=o.closest("label"),n=o.closest(".tmcp-field-wrap"),c=n.find(".cpf-upload-container"),l=n.find(".tm-filename"),d=o.val().replace("C:\\fakepath\\",""),s=o.attr("data-file"),p=t.URL||t.webkitURL,m=this.files[0],_=n.find(".tc-upload-preview");c.length&&l.length<=0&&(l=a('<span class="tm-filename"></span>'),r.after(l)),void 0!==d&&"undefined"!==d||(d=""),l.html(d),(e=g.data("num_uploads"))||(e=[]),""!==d&&(e[o.closest(".cpf_hide_element").attr("data-uniqid")]=d),g.data("num_uploads",e),o.next(".tmcp-upload-hidden").remove(),(d||s)&&"yes"===Xt.tm_epo_upload_inline_image_preview&&p&&p.createObjectURL&&m&&(_.length||(_=a('<div class="tc-upload-preview"></div>'),n.find("label.tm-epo-field-label").after(_)),_.empty(),(i=new Image).onload=function(){var t=this.src;_.html('<img src="'+t+'"></div>')},i.src=s||p.createObjectURL(m))}),k.off("change.cpf").on("change.cpf",function(){var t=a(this);y.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),y.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",k.val()),g.find(".cpf-type-product .tc-epo-field-product").off("change.cpfproduct").on("change.cpfproduct",function(t,e){var i,o,r,n,l,d,s,p,m,_=a(this),f=_.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap"),u=_.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap"),g=u.length>0,h=!1,v=1e3,b=_,w=_.closest(".cpf_hide_element");if((!e||2!==e.forced)&&(void 0===t.isTrigger||!_.data("triggeredonce")||e&&e.forced)){if(_.data("triggeredonce",1),_.is(":checkbox")||(v=t.isTrigger),s=f.find($t.associateQtySelector),_.is(":checkbox"))_.is(":checked")?(f.addClass("tc-active-product"),"0"===s.val()&&("0"===s.attr("min")?s.val(1).trigger("change"):s.val(s.attr("min")).trigger("change"))):(f.removeClass("tc-active-product"),s.val(0),s.closest(".tm-quantity-alt").removeClass("tm-hidden"),s.closest(".tm-quantity-alt").find(".single_add_to_cart_product").trigger("cpfqtybutton"),f.find($t.associatedEpoCart).trigger("tm-epo-update")),i=_.val(),o=_.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden");else if(_.is(":radio")){if(_.is(":checked"))g&&(f.addClass("tm-hidden"),u.removeClass("tm-hidden"));else{if(g&&u.addClass("tm-hidden"),!e||!e.forced)return;h=!0}h||(i=_.val(),o=_.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"))}else{if(!_.is("select"))return;b=r=_.children(":selected"),i=_.val(),o=r.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden")}if(n=w.find(".tc-epo-element-product-container"),l=n.filter('[data-product_id="'+i+'"]'),!i)return n.addClass("tm-hidden"),p=a.epoAPI.util.parseJSON(_.attr("data-rules")),m=a.epoAPI.util.parseJSON(_.attr("data-original-rules")),b.data("associated_price_set",1),b.data("price_set",1),b.data("raw_price",p[0]),b.data("raw_original_price",m[0]),b.data("price",p[0]),b.data("original_price",m[0]),void P(b.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),p[0],A(p[0]),m[0],A(m[0]));0===l.length?(d={action:"wc_epo_get_associated_product_html",product_id:i,mode:w.attr("data-mode"),layout_mode:w.attr("data-product-layout-mode"),uniqid:w.attr("data-uniqid"),name:_.attr("name"),quantity_min:w.attr("data-quantity-min"),quantity_max:w.attr("data-quantity-max"),priced_individually:w.attr("data-priced-individually"),discount:w.attr("data-discount"),discount_type:w.attr("data-discount-type"),show_image:w.attr("data-show-image"),show_title:w.attr("data-show-title"),show_price:w.attr("data-show-price"),show_description:w.attr("data-show-description"),show_meta:w.attr("data-show-meta")},w.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.ajax({url:Xt.ajax_url,type:"POST",data:d,dataType:"json",success:function(t){200===t.result&&(l=a(t.html),g?_.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap").empty().append(l):w.find(".tc-epo-element-product-container-wrap").append(l),Nt(c,q,l,o,_,y,n,v))},complete:function(){w.unblock()}})):(Nt(c,q,l,o,_,y,n,v),l.find($t.associateQtySelector).trigger("change"))}}),a(e).off("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product").on("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product",function(){var t=a(this),e=t.closest(".tm-quantity-alt").find($t.associateQtySelector),i=t.is(".alt"),o=t.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap");t.data("inittriggeredonce")&&(i?(o.addClass("tc-active-product"),"0"===e.val()&&("0"===e.attr("min")?e.val(1).trigger("change"):e.val(e.attr("min")).trigger("change")),t.removeClass("alt").text(t.attr("data-remove"))):(o.removeClass("tc-active-product"),e.val(0).trigger("change"),e.closest(".tm-quantity-alt").removeClass("tm-hidden"),t.addClass("alt").text(t.attr("data-add")))),t.data("inittriggeredonce",1),o.find($t.associatedEpoCart).trigger("tm-epo-update")}),a(e).off("change.cpfqtyalt",".cpf-type-product "+$t.associateQtySelector).on("change.cpfqtyalt",".cpf-type-product "+$t.associateQtySelector,function(){var t,e,i,o=a(this),r=o.closest(".cpf_hide_element").find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),n=o.closest(".tm-quantity-alt").find(".single_add_to_cart_product"),c=r.filter(":checked");if(e=a.epoAPI.math.toInt(o.attr("min")),i=a.epoAPI.math.toInt(o.attr("max")),r.is(":checkbox")&&(0===c.length&&"0"!==o.val()?(r.prop("checked",!0).trigger("change"),c=r.filter(":checked")):"0"===o.val()&&c.length&&r.prop("checked",!1).trigger("change")),r.is(":radio")||r.is(":checkbox")){if(0===c.length)return;t=c.closest(".tmcp-field-wrap").find("input.tm-qty")}else t=r.closest(".tmcp-field-wrap").find("input.tm-qty");0!==t.length&&(e&&t.attr("min",e),i&&t.attr("max",i),o.closest(".tc-epo-element-product-container").find($t.associatedEpoCart).trigger("tm-epo-update"),t.val(o.val()),r.trigger("change.cpfproduct",{forced:2}),n.data("inittriggeredonce")&&("0"===o.val()?n.removeClass("alt"):n.addClass("alt")),n.trigger("cpfqtybutton"))}),y.off("tm-epo-update").on("tm-epo-update",function(t){var e,i,o,s,p,h,b,x,k,C,I,S,T,j,O,N,L,U,J,R,Q,Z,W,$,X,G,V,Y,K,et,nt,ct,lt,dt,st,pt,mt,_t,ft,ut,gt,ht,vt,yt,bt,wt,xt,kt,Ft,Ct,It,At=a(this),Pt=!1,St=0,qt=0,Et=0,Tt=!1,jt=1,Ot=!0,zt=[],Nt=0,Bt=0,Ht={},Lt=0,Mt=!1,Ut=!1,Jt="",Rt=!1,Qt=!1,Zt="",Wt="",Gt=0,Vt=0;if((Y=t.epoObject?a.extend(!0,{},t.epoObject):a.extend(!0,{},c))&&!Y.noEpoUpdate){if(e=a.epoAPI.applyFilter("tc_get_bundleid",At.attr("data-product_id"),At),o=v.attr("data-price-override"),i=f(At),s=m(At),Y.associated_connect&&1===Y.associated_connect.length&&(i=parseFloat(Y.main_product.find($t.associateQtySelector).not($t.associatedEpoSelector+" "+$t.qtySelector).last().val())),t.stopImmediatePropagation(),Pt=a.epoAPI.applyFilter("tcGetCurrentProductPrice",tt(v,!0),y,v),St=Pt,Pt=a.epoAPI.applyFilter("tcCalculateCurrentProductPrice",Pt,{epo:Y,alternativeCart:u,cart:At,main_product:q}),Number.isFinite(i)||(v.attr("data-is-sold-individually")||0===_(At).length)&&(i=1),Ht={qty:i,product_price:Pt},v.data("tc_totals_ob",Ht),t.norules?t.norules&&(1===t.norules&&it(Y,t.element),a.tcepo.lateFieldsPrices[D]=[],g.find(".tm-epo-late-field").toArray().forEach(function(t){(t=a(t)).data("price",0),a.tcepo.lateFieldsPrices[D].push({setter:t,price:t.data("tm-price-for-late"),original_price:t.data("tm-original-price-for-late"),bundleid:e,pricetype:at(Y,t)})})):ot(Y,At),Y.associated_connect&&1===Y.associated_connect.length&&(gt=Y.associated_connect,Y.associated_connect.is("select")&&(gt=Y.associated_connect.find("option:selected"))),!1===Pt)return v.empty(),void(Y.associated_connect&&1===Y.associated_connect.length&&P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),0,"",0,""));jt=a.epoAPI.applyFilter("tcAlterElementQty",jt,{epo:Y,alternativeCart:u,currentCart:y,main_product:q}),void 0!==y.data("per_product_pricing")&&(Ot=y.data("per_product_pricing")),Ot=a.epoAPI.applyFilter("tcCalculatePerProductPricing",Ot,{epo:Y,alternativeCart:u,cart:At,main_product:q}),H&&"woocommerce_before_add_to_cart_button"===Xt.tm_epo_totals_box_placement&&("variable"!==w&&"variable-subscription"!==w||v.data("moved_inside")||v.data("moved_inside",1)),ne.trigger("tcEpoBeforeOptionPriceCalculation",{epo:Y,alternativeCart:Y,this_product_type:w,cart:At,totalsHolder:v}),"no"===Xt.tm_epo_global_product_element_quantity_sync?(qt=(ut=Dt(Y,g,".tmcp-field:not(.tc-epo-field-product)",qt,Et,zt,Tt)).total,Et=ut.original_total,zt=ut.floatingBoxData,Tt=ut.showTotal,Ft=ut.elementsLength,Gt=(ut=Dt(Y,g,".tc-epo-field-product",Gt,Et,zt,Tt)).total,Vt=ut.original_total,zt=ut.floatingBoxData,Tt=Tt&&ut.showTotal,Ft+=ut.elementsLength,v.data("tm-floating-box-data",zt)):(qt=(ut=Dt(Y,g,".tmcp-field",qt,Et,zt,Tt)).total,Et=ut.original_total,zt=ut.floatingBoxData,Tt=ut.showTotal,Ft=ut.elementsLength,v.data("tm-floating-box-data",zt)),Nt=(ut=Dt(Y,g,".tmcp-fee-field",Nt,Bt,zt,Tt)).total,Bt=ut.original_total,zt=ut.floatingBoxData,Tt=ut.showTotal,Ft+=ut.elementsLength,ne.trigger("tcEpoAfterOptionPriceCalculation",{epo:Y,alternativeCart:Y,this_product_type:w,cart:At,totalsHolder:v}),a.tcepo.oneOptionIsSelected[D]=Tt,M(q,Ft,a.tcepo.oneOptionIsSelected[D]),Tt=a.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",Tt,{epo:Y,alternativeCart:u,cart:At,main_product:q,totalsHolder:v,this_epo_totals_container:z}),Nt>0&&(Tt=!0),u&&!Ot&&(Tt=!1),"pxq"!==F&&"hide"!==F&&"normal"!==F&&"options"!==F&&"final"!==F&&"hideoptionsifzero"!==F&&"optionsiftotalnotzero"!==F||(Tt=!0),i>1&&(Tt=!0),"variable"!==w&&"variable-subscription"!==w||a.epoAPI.math.toFloat(s)||(Tt=!1),p=qt,h=Et,b=rt(Y,parseFloat(Pt),parseFloat(p+Gt),parseFloat(h+Vt),e,v),"disable"===F&&(Tt=!1),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price&&"yes"!==Xt.tm_epo_change_original_price||(Tt=!0),Y.is_associated&&!Ot&&(Tt=!1),"yes"===Xt.tm_epo_total_price_as_unit_price&&(i=1),j=parseFloat(Pt*i),Xt.extraFee&&(Lt=parseFloat(Xt.extraFee),Number.isFinite(Lt)||(Lt=0)),!1!==(N=a.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:u,product_price:Pt,product_total_price:j,v_product_price:St,tm_set_tax_price:r,main_product:q,totalsHolder:v,cartQty:i}))&&"object"==typeof N&&Object.prototype.hasOwnProperty.call(N,"productPrice")&&Object.prototype.hasOwnProperty.call(N,"productTotalPrice")&&(Pt=N.productPrice,j=N.productTotalPrice),p+=b[0],p=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",p,j),qt=parseFloat(p*i*jt),qt+=Gt,qt=a.epoAPI.applyFilter("tc_adjust_options_total_price",qt,i,jt,p,Gt),h+=b[1],h=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",h,j),Et=parseFloat(h*i*jt),Et+=Vt,Et=a.epoAPI.applyFilter("tc_adjust_options_total_price",Et,i,jt,h,Vt),"1"===o&&parseFloat(qt)>0&&(Pt=0,St=0,j=parseFloat(Pt*i)),j=a.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",j),qt=a.epoAPI.applyFilter("tcAdjustTotal",qt,{epo:Y,totalsHolder:v,cart:At,main_product:q}),Et=a.epoAPI.applyFilter("tcAdjustTotal",Et,{epo:Y,totalsHolder:v,cart:At,main_product:q}),K=qt=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",qt,v)),et=p,lt=Nt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",Nt,v)),st=L=qt+Nt,nt=Et=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",Et,v)),ct=h,dt=Bt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",Bt,v)),pt=U=Et+Bt,mt=j,_t=parseFloat(j+L+Lt),ft=parseFloat(j+U+Lt),Pt=r(Pt,v),j=r(j,v),qt=r(qt,v),p=r(p,v),Nt=r(Nt,v),L=r(L,v),Et=r(Et,v),h=r(h,v),Bt=r(Bt,v),U=r(U,v),Lt=r(Lt,v),x=A(qt,v,!0,!0),C=A(Nt,v,!0,!0),k=A(Et,v,!0,!0),I=A(Bt,v,!0,!0),J=j,j=parseFloat(j+L+Lt),j=a.epoAPI.applyFilter("tc_adjust_product_total_price",j,L,Lt,qt,Nt,v),O=parseFloat(j+U+Lt),O=a.epoAPI.applyFilter("tc_adjust_product_total_price",j,U,Lt,Et,Bt,v),S=A(j,v,!0,!0),T=A(O,v,!0,!0),R=A(parseFloat(Pt+parseFloat(p)),v,!0,!0),Q=A(parseFloat(Pt+parseFloat(h)),v,!0,!0),"yes"===Xt.tm_epo_fees_on_unit_price&&(R=A(parseFloat(Pt+parseFloat(p)+parseFloat(parseFloat(Nt)/i)),v,!0,!0),Q=A(parseFloat(Pt+parseFloat(h)+parseFloat(parseFloat(Bt)/i)),v,!0,!0)),"pxq"===F||"final"===F||"hide"===F||0===L&&"hideoptionsifzero"===F||(0===qt&&"hideoptionsifzero"===F&&"options"!==F||(Mt=!0),0!==Nt&&(Ut=!0)),Lt&&(Rt=!0,Jt=A(Lt,v,!0,!0)),S&&"options"!==F&&"optionsiftotalnotzero"!==F&&(Qt=!0),R=a.epoAPI.applyFilter("tc_adjust_formatted_unit_price",R,Pt,p,Nt,i),x=a.epoAPI.applyFilter("tc_adjust_formatted_options_total",x,qt,p,i),C=a.epoAPI.applyFilter("tc_adjust_formatted_fees_total",C,Nt),S=a.epoAPI.applyFilter("tc_adjust_formatted_final_total",S,j,J,L,Lt,i),R=a.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",R,{epo:Y,totalsHolder:v,event:t,productPrice:Pt,_total:p,total_plcart_fee_options_totals_fee:Nt,cartQty:i}),Q=a.epoAPI.applyFilter("tcAdjustFormattedUnitOriginalPrice",Q,{epo:Y,totalsHolder:v,event:t,productPrice:Pt,_original_total:h,total_plcart_fee_options_totals_fee:Nt,cartQty:i}),x=a.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",x,{epo:Y,totalsHolder:v,event:t,total:qt,_total:p,total_plus_fee:L,extraFee:Lt,cartQty:i}),k=a.epoAPI.applyFilter("tcAdjustFormattedOptionsOriginalTotal",k,{epo:Y,totalsHolder:v,event:t,original_total:Et,_original_total:h,original_total_plus_fee:U,extraFee:Lt,cartQty:i}),C=a.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",C,{epo:Y,totalsHolder:v,event:t,cart_fee_options_total:Nt,extraFee:Lt,cartQty:i}),I=a.epoAPI.applyFilter("tcAdjustFormattedFeesOriginalTotal",I,{epo:Y,totalsHolder:v,event:t,cart_fee_options_original_total:Bt,extraFee:Lt,cartQty:i}),S=a.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",S,{epo:Y,totalsHolder:v,event:t,product_total_price:j,product_total_price_without_options:J,total_plus_fee:L,extraFee:Lt,cartQty:i}),T=a.epoAPI.applyFilter("tcAdjustFormattedFinalOriginalTotal",T,{epo:Y,totalsHolder:v,event:t,product_total_original_price:O,product_total_price_without_options:J,original_total_plus_fee:U,extraFee:Lt,cartQty:i}),Ht={qty:i,product_price:Pt,raw_product_price:St,late_total_prices:b,late_total_price:r(b[0],v),late_total_original_price:r(b[1],v),raw_options_price_per_unit:et,raw_options_total_price:K,raw_cart_fee_options_total_price:lt,raw_total_plus_fee:st,raw_options_original_price_per_unit:ct,raw_options_original_total_price:nt,raw_cart_fee_options_original_total_price:dt,raw_original_total_plus_fee:pt,raw_product_total_price:_t,raw_product_total_original_price:ft,raw_product_total_price_without_options:mt,options_price_per_unit:p,options_total_price:qt,cart_fee_options_total_price:Nt,total_plus_fee:L,options_original_price_per_unit:h,options_original_total_price:Et,cart_fee_options_total_original_price:Bt,original_total_plus_fee:U,product_total_price:j,product_total_original_price:O,product_total_price_without_options:J,formatted_unit_price:R,formatted_options_total:x,formatted_fees_total:C,formatted_final_total:S,formatted_unit_original_price:Q,formatted_options_original_total:k,formatted_fees_original_total:I,formatted_final_original_total:T,formatted_extra_fee:Jt,show_options_total:Mt,show_fees_total:Ut,show_extra_fee:Rt,show_final_total:Qt,unit_price:Xt.i18n_unit_price,show_unit_price:"yes"===Xt.tm_epo_show_unit_price,options_total:Xt.i18n_options_total,fees_total:Xt.i18n_fees_total,extra_fee:Xt.i18n_extra_fee,final_total:Xt.i18n_final_total},x&&qt>0&&(Ct=n(qt),It=n(Et),qt!==Et?(Ht.formatted_options_total=a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:It,sale_price:Ct,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt})),Ht._foriginal_total=It,Ht._ftotal=Ct):Ht.formatted_options_total=a.epoAPI.util.decodeHTML(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:Ct,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt})))),S&&j>=0&&(X=n(j),G="1"===o&&parseFloat(U+Lt)>0?parseFloat(U+Lt):parseFloat(parseFloat(v.data("regular-price")*i)+U+Lt),Xt.customer_price_format&&(Zt=Xt.customer_price_format_wrap_start,Wt=Xt.customer_price_format_wrap_end,X=(V=Xt.customer_price_format).replace("__PRICE__",X).replace("__CODE__",Xt.current_currency),v.data("is-on-sale")||(G=V.replace("__PRICE__",G).replace("__CODE__",Xt.current_currency))),X=a.epoAPI.applyFilter("tc_adjust_native_price",X,j),G=n(G=r(G,v)),G=a.epoAPI.applyFilter("tc_adjust_native_regular_price",G,j),v.data("is-on-sale")||qt!==Et?Ht.formatted_final_total=a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt})):Ht.formatted_final_total=a.epoAPI.util.decodeHTML(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt}))),Ht._f_regular_price=G,Ht._fprice=X),Ht=a.epoAPI.applyFilter("tc_adjust_tc_totals_ob",Ht,{epo_object:Y,showTotal:Tt,epoHolder:g,totalsHolder:v,tm_set_price:l,tm_set_price_totals:A,product_total_price:j,product_price:Pt,qty:i}),Y.tc_totals_ob=Ht,void 0!==Ht.showTotal&&(Tt=Ht.showTotal),Z=a.epoAPI.template.html($t.templateEngine.tc_final_totals,Ht),v.data("tm-html",Z),v.data("tc_totals_ob",Ht),Y.associated_connect&&1===Y.associated_connect.length&&("1"===Y.associated_connect.attr("data-no-price")?(ht=0,vt=0,yt=0,bt=0,wt="",xt="",P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),ht,wt,yt,xt)):(ht=Ht.product_price+Ht.options_price_per_unit+Ht.cart_fee_options_total_price/Ht.qty,vt=Ht.raw_product_price+Ht.raw_options_price_per_unit+Ht.raw_cart_fee_options_total_price/Ht.qty,yt=Ht.product_price+Ht.options_original_price_per_unit+Ht.cart_fee_options_total_original_price/Ht.qty,bt=Ht.raw_product_price+Ht.raw_options_original_price_per_unit+Ht.raw_cart_fee_options_original_total_price/Ht.qty,wt=l(ht,Y.this_epo_totals_containe,!1,!1,gt),xt=l(yt,Y.this_epo_totals_containe,!1,!1,gt),P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),ht,wt,yt,xt),Y.associated_connect.data("tm-quantity",Ht.qty),Y.associated_connect.data("tm-quantity")&&(ht*=parseFloat(Y.associated_connect.data("tm-quantity")),vt*=parseFloat(Y.associated_connect.data("tm-quantity")),yt*=parseFloat(Y.associated_connect.data("tm-quantity")),bt*=parseFloat(Y.associated_connect.data("tm-quantity"))),wt=l(ht,Y.this_epo_totals_containe,!1,!1,gt),xt=l(yt,Y.this_epo_totals_containe,!1,!1,gt)),Y.associated_connect.data("price_set",1),gt.data("associated_price_set",1),gt.data("price_set",1),gt.data("raw_price",vt),gt.data("raw_original_price",bt),gt.data("price",r(ht,Y.this_epo_totals_containe,gt)),gt.data("original_price",r(yt,Y.this_epo_totals_containe,gt)),Y.associated_connect.data("price-changed",1),setTimeout(function(){Y.mainEpoObject.main_cart.trigger({type:"tm-epo-update",norules:2})},20)),ne.trigger("tcEpoAfterCalculateTotals",{epo:Y,alternativeCart:u,this_product_type:w,cart:At,bundleid:e,totalsObject:Ht,main_product:q,per_product_pricing:Ot}),W=a.epoAPI.applyFilter("hide_native_price",!0),Tt&&i>0?("disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||(!0===W&&"disable"!==F&&"disable_change"!==F?B(At).hide():B(At).show()),"disable"===F||"disable_change"===F||("hideifoptionsiszero"===F||"optionsiftotalnotzero"===F)&&0===L||"hide"===F?(Z="",v.html(Z)):(v.html(Z),ne.trigger("tc-totals-container",{epo:Ht,totals_holder:v,data:{epo_object:Y,tm_set_price:l,tm_set_price_totals:A,product_total_price:j,product_price:Pt,qty:i},tm_epo_js:Xt})),S&&j>=0&&($=B(At),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||(v.data("is-on-sale")?$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt}))).show():$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt}))).show()),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||(kt=Y.associated_connect?Y.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector),u&&0!==q.find(".cpf-bto-price").length||(void 0===kt.data("tc-original-html")&&kt.data("tc-original-html",kt.html()),j>0?!v.data("is-on-sale")||"1"===o&&parseFloat(U+Lt)>0?kt.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt}))).show():kt.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Zt,customer_price_format_wrap_end:Wt}))).show():w&&"composite"!==w&&(Y.associated_connect?kt.html(a.epoAPI.util.decodeHTML(Xt.assoc_current_free_text)):kt.html(a.epoAPI.util.decodeHTML(Xt.current_free_text)))),ne.trigger("tcEpoMaybeChangePriceHtml",{epo:Y,alternativeCart:u,this_product_type:w,cart:At,bundleid:e,totalsObject:Ht,main_product:q,nativePrice:X}))),u?E.trigger({type:"tm-epo-update",norules:1}):z.data("is_active",!0)):(Y.associated_connect&&(kt=Y.main_product.find($t.associatedNativeProductPriceSelector)).html(kt.data("tc-original-html")),B(At).each(function(){var t=a(this);t.data("tm-original-html")?t.html(t.data("tm-original-html")):t.data("tm-original-html",t.html())}),0===St&&"yes"===Xt.tm_epo_remove_free_price_label?B(At).hide():"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||!0===W&&"disable"!==F&&"disable_change"!==F||B(At).show(),v.empty(),u&&E.trigger({type:"tm-epo-update",norules:1})),E.trigger("tm-epo-after-update",{container:d}),ne.trigger("tc-epo-after-update",{epo:Ht,totals_holder:v,data:{epo_object:Y,add_late_fields_prices:rt,tm_set_price:l,tm_set_price_totals:A,product_total_price:j,product_price:Pt,qty:i,bundleid:e,currentCart:y},tm_epo_js:Xt})}}),"variable"!==w&&"variable-subscription"!==w||((C=g.find(".tm-epo-variation-section").first()).find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=a(this),e=a.epoAPI.dom.id(t.attr("data-tm-for-variation")),i=t.closest(".cpf-type-variations"),o=t.closest(".cpf_hide_element").find(".tm-epo-variation-element"),r=t.closest(".cpf_hide_element").find(".tmcp-field-wrap");o.removeAttr("checked").prop("checked",!1),r.removeClass("tc-active"),x.find("[data-attribute_name='attribute_"+e+"']").val("").trigger("change"),x.find("[data-attribute_name='attribute_"+e+"']").trigger("focusin"),q.find(".cpf-type-variations").not(i).each(function(t,e){x.find("[data-attribute_name='attribute_"+a.epoAPI.dom.id(a(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))+"']").trigger("focusin")}),t.blur(),x.trigger("woocommerce_update_variation_values_tmlogic")}),C.find("input.tm-epo-variation-element,input.tm-epo-variation-element + span").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t,e=a(this);e.is("span")&&(e=e.prev("input")),e.attr("disabled")&&x.find(".reset_variations").trigger("click"),t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin")}),C.off("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations").on("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations",{_epoObject:c},function(t){var e;"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||u&&0!==q.find(".cpf-bto-price").length||(e=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector)).data("tc-original-html")&&e.html(e.data("tc-original-html")),x.find(".variations .reset_variations, .tc-epo-element-variable-reset-variations").first().trigger("click")}),C.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,i=a(this),o=a.epoAPI.dom.id(i.attr("data-tm-for-variation")),r=i.val(),n=i.closest(".cpf-type-variations"),c=x.find("[data-attribute_name='attribute_"+o+"']");t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,c.each(function(){if(this.value===r)return e=!0,!1}),e||c.trigger("focusin"),c.val(r).trigger("change")),r||c.trigger("focusin"),q.find(".cpf-type-variations").not(n).each(function(){x.find("#"+a.epoAPI.dom.id(a(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),i.blur(),x.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){var t,e=a(this);e.is("select")&&(t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin"),x.trigger("woocommerce_update_variation_values_tmlogic"))}),x.off($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap").on($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){O(a(this),d)}),x.off($+"found_variation.tmepo").on($+"found_variation.tmepo",function(t,e){var i=a(this);v.data("is-on-sale",e.tc_is_on_sale),v.data("regular-price",e.display_regular_price),ne.trigger("tm-epo-found-variation",{epo:c,totalsHolder:v,totalsHolderContainer:h,currentCart:y,variationForm:i,variation:e}),zt({totalsHolder:v,totalsHolderContainer:h,currentCart:y,variationForm:i,variation:e}),O(i,d)}).off($+"hide_variation.tmepo").on($+"hide_variation.tmepo",{_epoObject:c},function(t){var e;"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||u&&0!==q.find(".cpf-bto-price").length||(e=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector)).data("tc-original-html")&&e.html(e.data("tc-original-html")),v.data("price",!1),v.removeData("tcprice"),y.trigger({type:"tm-epo-update",norules:2})}).off($+"check_variations.tmepo").on($+"check_variations.tmepo",function(){var t={},e=0,i=C.find(".reset_variations");x.find(".variations select, .tc-epo-variable-product-selector").each(function(){var i=a(this).data("attribute_name")||a(this).attr("name"),o=a(this).val()||"";o.length>0&&e++,t[i]=o}),e>0?"hidden"===i.css("visibility")&&i.css("visibility","visible").hide().fadeIn():i.css("visibility","hidden")}).trigger($+"check_variations"),gt(c,d,Z,q,g)),g.find("select.tm-epo-field").trigger("tm-select-change-html"),g.find(".tm-quantity .tm-qty").trigger("change.cpf",{init:1}),g.find(".tm-quantity").trigger("showhide.cpfcustom"),g.find(".tm-has-clearbutton .tm-epo-field:checked").trigger("cpfclearbutton"),nt(c),ne.on("tm-do-epo-update",function(){y.trigger({type:"tm-epo-update"})}),ne.trigger("tm-epo-init-events",{epo:{epo_id:U,form:c.form,currentCart:y,cart_container:d,epo_holder:g,totals_holder_container:h,totals_holder:v,main_cart:E,main_epo_inside_form:H,product_id_selector:Q,epo_id_selector:L,product_id:I,this_epo_container:T,this_totals_container:j,this_epo_totals_container:z}}),ne.trigger("epoEventHandlers",{epo:c,currentCart:y,cartContainer:d,qtyElement:k,epoHolder:g,totalsHolderContainer:h,totalsHolder:v,variationForm:x,variation_id_selector:b,main_epo_inside_form:H,this_product_type:w,get_price_excluding_tax:o,get_price_including_tax:i}),"disable"!==F&&"disable_change"!==F&&"hide"!==F&&h.addClass("tc-show"),ne.trigger("epo_options_before_visible"),"yes"===Xt.tm_epo_progressive_display?setTimeout(function(){g.css("opacity",0).addClass("tc-show").animate({opacity:1},$t.epoAnimationDelay,"easeOutExpo",function(){ne.trigger("epo_options_visible"),ne.trigger("tmlazy")})},$t.epoDelay):(g.addClass("tc-show"),ne.trigger("epo_options_visible"),ne.trigger("tmlazy")),q.addClass("tc-init")}function Ht(t){var e=t.variations_form,i=t.main_cart,o=t.this_epo_container,r=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";e.off(r).on(r,function(){e.data("epo_loaded")||(F(o),C(o),a.tcepo.lateFieldsPrices[t.epoEventId]=[],Bt(t),mt(t),It(t),t.noEpoUpdate=!1,setTimeout(function(){x(o),i.trigger({type:"tm-epo-update",rules:"init"})},10),e.data("epo_loaded",!0))}),oe&&e.trigger(r),ne.trigger("epo-after-init",{epo:t})}function Lt(t){var e=requestAnimationFrame(function(){Lt(t)}),a=t.variations_form,i=a.data("bound"),o=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";i&&(cancelAnimationFrame(e),Ht(t),a.trigger(o))}function Mt(t,e,i,o,r){var n=a.extend(!0,{},t),c=o.attr("data-product-id"),l=o.attr("data-epo-id"),d=".tm-product-id-"+c,s="[data-epo-id='"+l+"']",p="p"+c+"e"+l;t.isManual=!0,a.tcepo.formSubmitEvents[p]=[],a.tcepo.errorObject[p]=!1,a.tcepo.initialActivation[p]=!1,t.product_id=c,t.product_id_selector=d,t.epo_id=l,t.epo_id_selector=s,t.epoEventId=p,t.noEpoUpdate=!0,t.thisForm=e,ct(),r.find(".tm-collapse").tmtoggle(),r.find(".tm-section-link").tmsectionpoplink(),Et(e),Pt(e),lt(e),dt(o.find(".tm-color-picker")),st(o.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image")),F(o),C(o),x(o),a.tcToolTip(e.find(".tm-tooltip")),Bt(t,e,i),t.noEpoUpdate=!1,i.trigger({type:"tm-epo-update",norules:2}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:n,norules:1})},200),O(i,e)}function Ut(e,i,o,r,n,c,l){var d,s,p,m,_,f,u,g,h,v=!1,y=!1,b=!1,w=void 0!==o,k=!1,I=a(".variation_form_section .variations-table").length>0,A=!1;return!(!(e=a(e)).is(".tc-init")||l)||(le=i?e:a(t),ne.trigger("tm-epo-init-start"),w||e.is(".product")&&(k=!0,w=re.find($t.epoSelector).length),w||"no"!==Xt.tm_epo_enable_final_total_box_all||e.is(".tm-no-options-composite")?(k&&(ne.trigger("tm-epo-init-no-options"),!e.is(".product")||e.is(".tm-no-options-pxq")||e.is(".tm-no-options-composite")||(e=re)),o||((s=e.find($t.addToCartSelector).last()).length>0?o=s.val():(s=a(".tc-totals-form.tm-totals-form-main"),o=s.attr("data-product-id")),o||(o="")),r||(r=parseInt(e.find("input.tm-epo-counter").last().val(),10),Number.isFinite(r)||(r="")),p=".tm-product-id-"+o,m="[data-epo-id='"+r+"']",_=a(".tc-extra-product-options"+p+m),f=a(".tc-totals-form"+p+m),u=a(".tc-epo-totals"+p+m),h=e.find(".variations_form").not(".composite_component .variations_form").first(),d="p"+o+"e"+r,h&&h.attr("data-product_id")&&h.attr("data-product_id")!==o&&(h=e.find(".variations_form[data-product_id='"+o+"']")),0===(v=N(e,e,"form",o)).length&&(e.is(".tc-shortcode-wrap")?v=N(f,f,".tc-totals-form",o):e.is(".tc-epo-element-product-container")&&(0===(v=e.find($t.associatedEpoCart)).length&&0===(v=_.parent($t.associatedEpoSelector)).length&&(v=e.find(".tc-epo-element-product-container-right")),A=!0)),A&&0===h.length&&e.is(".variations_form")&&(h=e),a.tcepo.formSubmitEvents[d]=[],a.tcepo.errorObject[d]=!1,a.tcepo.initialActivation[d]=!1,v.find($t.epoSelector).length>0&&(y=!0),v.find(".tc-totals-form").length>0&&(b=!0),b||(a.tcepo.formSubmitEvents[d][a.tcepo.formSubmitEvents[d].length]={trigger:function(){return!0},on_true:function(){var t=a(".tc-totals-form.tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo-normal"></div>');return v.find(".tm-formepo-normal").remove(),e.append(t),v.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo-normal").remove()},100)}}),y||(a.tcepo.formSubmitEvents[d][a.tcepo.formSubmitEvents[d].length]={trigger:function(){return!0},on_true:function(){var t=a($t.epoSelector+".tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone().addClass("formepo"),e=a('<div class="tm-hidden tm-formepo"></div>');return v.find(".tm-formepo").remove(),e.append(t),v.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),g={main_product:e,main_cart:v,epo_id:r,form:D(e),main_epo_inside_form:y,product_id_selector:p,epo_id_selector:m,product_id:o,this_epo_container:_,this_totals_container:f,this_epo_totals_container:u,qtySelector:$t.qtySelector,manualInitEPO:Mt,epoEventId:d,variations_form:h,has_epo:w,is_quickview:i,is_associated:A,is_epo_shortcode:_.is(".tc-shortcode"),mainEpoObject:c,associated_connect:n,noEpoUpdate:!0},a(g.form).data("epo_object",g),v.data("product_id",o).data("epo_id",r).data("product_id_selector",p).data("epo_id_selector",m),ft(g),_t(g),Et(_),Pt(_),H(),a.tcToolTip(_.find(".tm-tooltip")),_.find(".tm-collapse").tmtoggle(),_.find(".tm-section-link").tmsectionpoplink(),l&&_.addClass("reactivate"),h.length>0?(l&&h.data("epo_loaded",!1),u.data("price",!1),I?Lt(g):Ht(g)):(setTimeout(function(){F(_),C(_),x(_),a.tcepo.lateFieldsPrices[d]=[],Bt(g),mt(g),It(g),ne.trigger("epo-after-init-in-timeout",{epo:g}),v.trigger("tm-epo-check-dpd"),g.noEpoUpdate=!1,v.trigger({type:"tm-epo-update",rules:"init"})},20),ne.trigger("epo-after-init",{epo:g})),ct(),lt(_),dt(_.find(".tm-color-picker")),st(_.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image")),ut(g),At(g),A||(L(u,i,v),Ot(g),M(e,g,a.tcepo.oneOptionIsSelected[d])),ne.on("cpflogicdone",function(){nt(g)}),ne.trigger("tm-epo-init-end",{epo:g}),g):void ne.trigger("tm-epo-init-end-no-options"))}function Jt(t,e){var i=a(t),o=i.attr("data-product-id"),r=i.attr("data-epo-id"),n=i.parent();n.is("form")||(n=i.closest("form")).is("form")||(n=i.parent()),Ut(n=n.parent(),!1,o,r,void 0,void 0,e)}function Rt(){var e,i;"no"===Xt.tm_epo_no_lazy_load&&a.extend(a.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),(e=a(".tm-no-options-pxq, .tm-no-options-composite")).length>0&&e.each(function(t,e){Ut(a(e),!1)}),setTimeout(function(){try{(i=a($t.epoSelector).not($t.associatedEpoSelector+" "+$t.epoSelector+", .tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+$t.epoSelector)).length>0&&i.each(function(){var t,e=a(this),i=e.attr("data-product-id"),o=e.attr("data-epo-id"),r=!1,n=!1;0===(t=e.closest(".tc-after-shop-loop.tm-has-options")).length?0===(t=a($t.addToCartSelector+"[value='"+i+"']").closest("form,.cart").first().parent()).length&&0===(t=a($t.tcAddToCartSelector+"[value='"+i+"']").closest("form,.cart").first().parent()).length&&0===(t=e.closest("form,.cart").first().parent(".tm-has-options")).length&&(e.is(".tc-shortcode")&&(t=e.wrap('<div class="tc-shortcode-wrap tc-wrap-'+o+'"></div>'),t=e.parent()),t.length>0&&(n=!0)):n=!0,t.length>0&&(n&&(r=!0,e.closest("form,.cart").first().append(a('<input name="add-to-cart" value="'+i+'" type="hidden" />')),e.closest("form,.cart").first().append(a('<input type="hidden" value="" class="variation_id" name="variation_id">'))),t.is("form")&&(t=t.parent()),Ut(t,r,i,o))})}catch(e){t.console.log(e),Qt=e}},1)}var Qt,Zt,Wt,$t={},Xt=t.TMEPOJS,Gt=t.wp,Vt=t.TMEPOQTRANSLATEXJS,Yt=t.noUiSlider,Kt=t.ClipboardEvent,te=t.DataTransfer,ee=[],ae=[],ie=!1,oe=!1,re=a("body"),ne=a(t),ce=a(e),le=a(t),de=t.tcmexp,se=t._;Xt&&Gt&&("no"===Xt.tm_epo_no_lazy_load&&a.lazyLoadXT&&a.extend(a.lazyLoadXT,{autoInit:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),$t.localInputDecimalSeparator=""===Xt.tm_epo_global_input_decimal_separator?Xt.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.localDecimalSeparator=""===Xt.tm_epo_global_displayed_decimal_separator?Xt.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.localThousandSeparator=""===Xt.tm_epo_global_displayed_decimal_separator?Xt.currency_format_thousand_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.epoDelay=Xt.tm_epo_start_animation_delay?Xt.tm_epo_start_animation_delay:t.tc_epo_delay?t.tc_epo_delay:500,$t.epoAnimationDelay=Xt.tm_epo_animation_delay?Xt.tm_epo_start_animation_delay:t.tc_epo_animation_delay?t.tc_epo_animation_delay:500,$t.getElementFromFieldCache=[],$t.epoSelector=".tc-extra-product-options",$t.associatedEpoSelector=".tc-extra-product-options-inline",$t.associatedEpoCart=".tc-epo-element-product-container-cart",$t.addToCartSelector="input[name='add-to-cart']",$t.tcAddToCartSelector="input.tc-add-to-cart",$t.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",$t.associateQtySelector="input.tm-qty-alt",$t.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",$t.compositeSelector=".bto_item,.component",$t.nativeProductPriceSelector=".woocommerce div.product p.price",$t.associatedNativeProductPriceSelector=".product-price span.price",$t.templateEngine=a.epoAPI.applyFilter("tc_adjust_templateEngine",{price:Gt.template("tc-price"),sale_price:Gt.template("tc-sale-price"),tc_chars_remanining:Gt.template("tc-chars-remanining"),tc_final_totals:Gt.template("tc-final-totals"),tc_floating_box:Gt.template("tc-floating-box"),tc_floating_box_nks:Gt.template("tc-floating-box-nks"),tc_formatted_price:Gt.template("tc-formatted-price"),tc_formatted_sale_price:Gt.template("tc-formatted-sale-price"),tc_lightbox:Gt.template("tc-lightbox"),tc_lightbox_zoom:Gt.template("tc-lightbox-zoom"),tc_section_pop_link:Gt.template("tc-section-pop-link"),tc_upload_messages:Gt.template("tc-upload-messages")}),a.tcAPI=function(){return $t},a.tcAPIGet=function(t){return $t[t]},a.tcAPISet=function(t,e){$t[t]=e},a.tc_validator&&a.extend(a.tc_validator.messages,{required:Xt.tm_epo_global_validator_messages.required,email:Xt.tm_epo_global_validator_messages.email,url:Xt.tm_epo_global_validator_messages.url,number:Xt.tm_epo_global_validator_messages.number,digits:Xt.tm_epo_global_validator_messages.digits,maxlengthsingle:a.tc_validator.format(Xt.tm_epo_global_validator_messages.maxlengthsingle),maxlength:a.tc_validator.format(Xt.tm_epo_global_validator_messages.maxlength),minlengthsingle:a.tc_validator.format(Xt.tm_epo_global_validator_messages.minlengthsingle),minlength:a.tc_validator.format(Xt.tm_epo_global_validator_messages.minlength),max:a.tc_validator.format(Xt.tm_epo_global_validator_messages.max),min:a.tc_validator.format(Xt.tm_epo_global_validator_messages.min),step:a.tc_validator.format(Xt.tm_epo_global_validator_messages.step),lettersonly:a.tc_validator.format(Xt.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:a.tc_validator.format(Xt.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumericunicodespace)}),a.tc_validator&&(a.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^[a-zA-Z0-9.-]+$/i.test(t)},a.tc_validator.messages.alphanumeric),a.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},a.tc_validator.messages.lettersonly),a.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},a.tc_validator.messages.lettersspaceonly),a.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf]+$/i.test(t)},a.tc_validator.messages.alphanumericunicode),a.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf,\u0020]+$/i.test(t)},a.tc_validator.messages.alphanumericunicodespace)),a.epoAPI.util.escapeSelector=function(){var t=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),a.epoAPI.util.unformat=function(t){var e=a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator),i=parseFloat(e);return Number.isFinite(i)?i:e},a.epoAPI.util.parseParams=function(t,e){return"string"!=typeof t||void 0===t.split?[]:t.split("&").map(function(t){var a={};return!0===e&&(t=decodeURIComponent(t.replace(/\+/g,"%20"))),(t=t.split("=").map(function(t){var e=t.split("?");return e.length>1?e[1]:t})).length>1&&(a[t[0]]=t[1]),a}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},a.tmempty||(a.tmempty=function(t){var e=1===[void 0,null,!1,0,"","0"].filter(function(e){return t===e}).length,a=!1;return"object"==typeof t?a=0===Object.keys(t).filter(function(e){return Object.prototype.hasOwnProperty.call(t,e)}).length:e||a}),a.tmType||(a.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),a.is_on_screen||(a.fn.is_on_screen=function(){var e=a(t),i=a.epoAPI.dom.scroll(),o=this.offset(),r={top:i.top,left:i.left};return r.right=r.left+e.width(),r.bottom=r.top+e.height(),o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(r.right<o.left||r.left>o.right||r.bottom<o.top||r.top>o.bottom)}),a().tmtoggle||(a.fn.tmtoggle=function(){var e=this,i=!1,o=0;if(0!==e.length)return e.each(function(){var t,e,r,n=a(this);if(!n.data("tm-toggle-init")){if(n.data("tm-toggle-init",1),t=n.find(".tm-toggle"),e=n.find(".tm-collapse-wrap"),r=a(".tm-collapse.tmaccordion").find(".tm-toggle"),0===t.length||0===e.length)return;e.is(".closed")?(a(e).removeClass("closed open").addClass("closed").hide(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed")):(a(e).removeClass("closed open").addClass("open").show(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),i=!0),t.each(function(t,i){a(i).on("closewrap.tmtoggle",function(){n.is(".tmaccordion")&&a(e).is(".closed")||(a(e).removeClass("closed open").addClass("closed"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed"),a(e).removeClass("tm-animated fadeIn"),n.is(".tmaccordion"),a(e).animate({height:"toggle"},100,function(){a(e).hide()}),ne.trigger("tmlazy"))}),a(i).on("openwrap.tmtoggle",function(){n.is(".tmaccordion")&&a(r).not(a(this)).trigger("closewrap.tmtoggle"),a(e).removeClass("closed open").addClass("open"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),a(e).show().removeClass("tm-animated fadeIn").addClass("tm-animated fadeIn"),setTimeout(function(){ne.trigger("tmlazy")},200),o&&n.is(".tmaccordion")&&!n.is_on_screen()&&ne.tcScrollTo(a(i))}),a(i).on("click.tmtoggle",function(t){t.preventDefault(),a(e).is(".closed")?a(this).trigger("openwrap.tmtoggle"):a(this).trigger("closewrap.tmtoggle")}),a(i).find(".tm-qty").closest(".cpf_hide_element").find(".tm-epo-field").on("change.cpf",function(){a(i).trigger("openwrap.tmtoggle")})})}}),void 0===t.tc_accordion_closed_on_page_load&&!i&&e.filter(".tmaccordion").length>0&&e.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),o=1,e}),a().tmpoplink||(a.fn.tmpoplink=function(){var t,e=this;if(0!==e.length)return t=function(t){return a.epoAPI.template.html(Gt.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:Xt.i18n_close})},e.each(function(){var e,i,o,r,n=a(this);n.is(".tc-poplink")||(n.addClass("tc-poplink"),e=a(this).attr("href"),i=a(this).attr("data-title"),o=a(e).html(),i||(i=Xt.i18n_addition_options),r=t({id:"temp_for_floatbox_insert",html:o,title:i}),n.on("click.tmpoplink",function(t){a.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tm_wrapper",data:r}),t.preventDefault()}))})}),(Zt=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!Xt.floating_totals_box||"disable"===Xt.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:Zt,onUpdate:function(){var t,e,i=this.this_epo_totals_container.data("tm-html"),o=this.this_epo_totals_container.data("tm-floating-box-data"),r=[];o&&o.length&&a.each(o,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=a("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),r.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:l(e.price,this.this_epo_totals_container,!0,!1)})}),i&&""!==i||this.is_nks||(i="",this.floatingBox.hide()),r&&!r.length&&r.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),t=a.epoAPI.template.html(this.engineTemplate,{html_before:Xt.floating_totals_box_html_before,html_after:Xt.floating_totals_box_html_after,option_label:Xt.i18n_option_label,option_value:Xt.i18n_option_value,option_qty:Xt.i18n_option_qty,option_price:Xt.i18n_option_price,values:r,totals:i}),this.floatingBox.html(t),this.onUpdateScroll(),"yes"===Xt.floating_totals_box_add_button&&(e=this.main_cart.find($t.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){e.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"!==Xt.floating_totals_box_visibility?ne.scrollTop()>a.epoAPI.math.toFloat(Xt.floating_totals_box_pixels)||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.show()},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&ne.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=a('<div class="tm-floating-box '+Xt.floating_totals_box+'"></div>'),this.nks_selector=a(".tm-floating-box-nks").first(),this.alt_selector=a(".tm-floating-box-alt").first(),this.engineTemplate=$t.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,this.nks_selector.length>0?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):this.alt_selector.length>0?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector).hide():this.floatingBox.appendTo("body").hide(),(this.nks_selector.length>0||this.alt_selector.length>0)&&(this.is_nks_alt=!0,this.engineTemplate=$t.templateEngine.tc_floating_box_nks),this.addEvents()}},a.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new Zt(t,e,a),t.data("tcfloatingtotalsbox",i)),i},a.tc_product_image={},a.tc_product_image_store={},a.tc_replace_object_values=function(t,e){return Object.keys(t).forEach(function(a){Object.keys(t[a]).forEach(function(i){void 0!==e[a]&&void 0!==e[a][i]&&Object.prototype.hasOwnProperty.call(e[a],i)&&(t[a][i]=e[a][i])})}),t},a.tc_maybe_copy_object_values=function(t,e){return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(i){void 0===e[a]||!Object.prototype.hasOwnProperty.call(e[a],i)||void 0===e[a][i]||void 0!==t[a]&&void 0!==t[a][i]||(void 0===t[a]&&(t[a]={}),t[a][i]=e[a][i])})}),t},a.tc_pre_populate_store=function(){var t={};return t[0]={},t[1]={},t[2]={},t[3]={},t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},a.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=t,r=t.closest("a"),n={};return n[0]={},n[1]={},n[2]={},n[3]={},n[0].src=o.attr("src"),n[0].srcset=o.attr("srcset"),n[0].sizes=o.attr("sizes"),n[0].title=o.attr("title"),n[0].alt=o.attr("alt"),n[0]["data-src"]=o.attr("data-src"),n[0]["data-large_image"]=o.attr("data-large_image"),n[0]["data-large_image_width"]=o.attr("data-large_image_width"),n[0]["data-large_image_height"]=o.attr("data-large_image_height"),n[1]["data-thumb"]=i.attr("data-thumb"),n[2].src=a.attr("src"),n[3].href=r.attr("href"),n[3].title=r.attr("title"),n},a.tc_maybe_copy_object_values_from_img=function(t,e,i){var o,r,n=i.find(".flex-control-nav li:eq(0) img"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[e,i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n,e.closest("a")].forEach(function(e,i){void 0!==e&&void 0!==e[0]&&(o=e[0].attributes,a.each(o,function(){this.specified&&(r=this.name,-1!==a.inArray(r,c[i])&&(void 0===t[i]||void 0!==t[i]&&void 0===t[i][r])&&(void 0===t[i]&&(t[i]={}),t[i][r]=this.value))}))}),t},a.fn.tc_set_attr=function(t,e,i){void 0===i&&(i=0),(void 0===a.tc_product_image[i]||void 0!==a.tc_product_image[i]&&void 0===a.tc_product_image[i][t])&&(void 0===a.tc_product_image[i]&&(a.tc_product_image[i]={}),a.tc_product_image[i][t]="",this.attr(t)&&(a.tc_product_image[i][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},a.fn.tc_reset_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(void 0!==a.tc_product_image[e][t]&&this.attr(t,a.tc_product_image[e][t]),delete a.tc_product_image[e][t])},a.fn.tc_update_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(a.tc_product_image[e][t]=this.attr(t))},a.fn.tc_image_update=function(t,e){var i,o,r,n,c=a(t),l=this,d=a(e),s=l.data("epo_object"),p=s.main_product.closest("#product-"+s.product_id),m=p;p.length<=0&&(m=s.main_product.closest(".post-"+s.product_id)),c.is("select")&&(c=c.children("option:selected")),i=c.data("image-variations"),r=(o=""!==Xt.tm_epo_global_product_image_selector?a(Xt.tm_epo_global_product_image_selector):m.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),o.length>1&&(o=o.first()),c&&i&&d.length>0?(d.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),n=i.imagep,i.imagep.image_link||(n=i.image),d.attr("title",n.image_title),d.attr("alt",n.image_alt),n.image_srcset&&d.attr("srcset",n.image_srcset),n.image_sizes&&d.attr("sizes",n.image_sizes),o.tc_set_attr("title",n.image_title),o.tc_set_attr("alt",n.image_alt),o.tc_set_attr("data-large-image",n.image_link),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_set_attr("data-thumb",n.image_link),m.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",n.image_link)),r.tc_set_attr("href",n.image_link),r.tc_set_attr("title",n.image_caption)):(o.tc_reset_attr("title"),o.tc_reset_attr("alt"),o.tc_reset_attr("data-large-image"),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_reset_attr("data-thumb"),m.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),r.tc_reset_attr("href"),r.tc_reset_attr("title"))},a.fn.tm_find_matching_variations=function(t,e){var i,o,r=[];if(t)for(i=0;i<t.length;i+=1)o=t[i],a.fn.tm_variations_match(o.attributes,e)&&r.push(o);return r},a.fn.tm_variations_match=function(t,e){var a,i,o=!0;return Object.keys(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(a=t[r],i=e[r],void 0!==a&&void 0!==i&&0!==a.length&&0!==i.length&&a!==i&&(o=!1))}),o},a().tclightbox||(a.fn.tclightbox=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c,l=a(this);l.is(".tcinit")||(t=l.attr("src")||l.attr("data-original"),i=(e=l.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+e.attr("for")+"']"),(t=i.attr("data-imagel")||i.attr("data-imagep")||i.attr("data-image")||t)&&(l.addClass("tcinit").before(a.epoAPI.template.html($t.templateEngine.tc_lightbox,{})),o=l.prev(),l.wrap("<div class='tc-lightbox-image-wrap'/>"),l.after(o),r=o.find(".tc-lightbox-button"),c=function(){r.addClass("tcinit").on("click.tclightbox",function(e){var i,o;a(".tc-closing.tc-lightbox").length>0||(i=a.epoAPI.dom.size(),o=a("<img>").addClass("tc-lightbox-img").attr("src",t).css("maxHeight",i.visibleHeight+"px").css("maxWidth",i.visibleWidth+"px"),a.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:a.epoAPI.template.html($t.templateEngine.tc_lightbox_zoom,{img:o[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),e.preventDefault())})},"yes"===Xt.tm_epo_preload_lightbox_image?((n=new Image).src=t,n.onload=function(){c()}):c()))})}),a().tmsectionpoplink||(a.fn.tmsectionpoplink=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c=a(this);c.data("tmsectionpoplink")||(c.data("tmsectionpoplink",!0),t=c.attr("data-sectionid"),e=Xt.i18n_addition_options,i=c.closest(".cpf-section[data-uniqid='"+t+"']"),o=!1,r=a('<div class="fl-overlay"></div>').css({zIndex:parseInt(c.zIndex,10)-1,opacity:.8}),n=function(){var t=a("#tm-section-pop-up");t.parents().removeClass("noanimated"),r.unbind().remove(),t.after(i),t.remove(),i.find(".tm-section-link").show(),i.find(".tm-section-pop").hide()},c.attr("data-title")&&(e=c.attr("data-title")),c.on("click.tmsectionpoplink",function(t){var c;t.preventDefault(),o=!1,r.appendTo("body").on("click",n),i.before(a.epoAPI.template.html($t.templateEngine.tc_section_pop_link,{title:e,close:Xt.i18n_close})),(c=a("#tm-section-pop-up")).find(".float_editbox").prepend(i),i.find(".tm-section-link").hide(),i.find(".tm-section-pop").show(),c.parents().addClass("noanimated"),c.find(".floatbox-cancel").on("click",function(){o||(o=!0,n())}),ne.trigger("tmlazy"),ne.trigger("tmsectionpoplink")}))})}),a().cpfdependson||(a.fn.cpfdependson=function(t,e,i,o){var r=this,n=0;if(0!==r.length&&"object"==typeof t)return e||(e="show"),i||(i="all"),a.each(t,function(e,i){var r,c;if("object"!=typeof t)return!0;(r=d(i.element))&&r.length>0&&(r.each(function(t,e){var i,r,n=a(e),l="change.cpflogic";c||(i=".tm-product-id-"+n.closest(".tc-extra-product-options").attr("data-product-id"),r="[data-epo-id='"+n.closest(".tc-extra-product-options").attr("data-epo-id")+"']",c=a(".tc-extra-product-options"+i+r)),e&&n.length>0&&(!n.data("tmhaslogicevents")||o)&&(n.is(".tm-epo-variation-element")?(u("found_variation.tmlogic",!1,function(){x(c),ne.trigger("tm-do-epo-update")}),u("hide_variation.tmlogic",!1,function(){x(c),ne.trigger("tm-do-epo-update")})):((n.is(":text")||n.is("textarea"))&&(l="change.cpflogic input.cpflogic"),n.off(l).on(l,function(){x(c)})),n.data("tmhaslogicevents",1))}),n=parseInt(n,10)+1)}),r.each(function(){var o=a(this),r=!1;switch(o.data("matches",n).data("toggle",e).data("what",i).data("fields",t),e){case"show":r=!1;break;case"hide":r=!0}r?o.removeClass("tc-hidden"):o.addClass("tc-hidden"),o.data("isactive",r)}),r.addClass("iscpfdependson").data("iscpfdependson",1),r.each(function(){a(this).addClass("is-epo-depend")})},a.fn.run_cpfdependson=function(){x()}),a.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},a.tcepo.tm_init_epo=function(t,e,a,i){Ut(t,e,a,i)},ne.on("tc_manual_init",function(t,e){var a;"container"in e&&"reactivate"in e&&(a=e.reactivate,e=e.container),Jt(e,a)}),ce.ready(function(){$t=a.epoAPI.applyFilter("tc_api",$t),ne.on("lazyLoadXToncomplete",function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})}),ne.on("tc_init_epo_plugin",function(t){Rt()}),ne.on("tcShowLastError",function(){t.console.log(Qt)}),a(".ajax_add_to_cart").on("click.tcajax",function(){Wt=a(this)}),a.ajaxPrefilter(function(t,e){var i,o,r,n,c,l,d,s,p,m,_,f,u,g=!1;if("yes"===Xt.tm_epo_enable_in_shop&&(i=t.url.split("?"))&&i.length>=1&&(i=i[1])){for(o=i.split("&"),r=0;r<o.length;r+=1)(n=o[r].split("=")).length>=1&&n[0]&&n[1]&&"wc-ajax"===n[0]&&"add_to_cart"===n[1]&&(g=!0);g&&(t.originalsuccess=t.success,t.success=function(i){i&&i.error&&i.product_url?(Wt&&1===Wt.length&&(c=Wt),(c=a(".ajax_add_to_cart[data-product_id='"+e.data.product_id+"']")).removeClass("added"),c.removeClass("loading")):t.originalsuccess.call(null,i)})}FormData&&e.data&&(l=e.data,"string"==typeof e.data&&(l=a.epoAPI.util.parseParams(e.data)),d=[],e.url&&e.url.indexOf&&(d=a.epoAPI.util.parseParams(e.url.slice(e.url.indexOf("?")+1))),"quantity"in l&&(l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart)&&(s=l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart,(p=Wt&&1===Wt.length&&1===Wt.closest(".tm-has-options").length?Wt.closest(".tm-has-options").find(".tc-extra-product-options.tm-product-id-"+s):a(".tc-extra-product-options.tm-product-id-"+s)).length>1&&(p=p.filter(".formepo")?p.filter(".formepo"):p.first()),1===p.length&&(_={tcajax:1,tcaddtocart:s,cpf_product_price:a(".tc-totals-form.tm-product-id-"+s).find(".cpf-product-price").val()},(m=a(".tc-totals-form.tm-product-id-"+s).find(".tc_form_prefix").val())&&(_.tc_form_prefix=m),t.data=a.epoAPI.util.parseParams(t.data,!0),t.data=a.extend(t.data,p.tcSerializeObject(),_),f=t.data,u=new FormData,Object.keys(f).forEach(function(t){u.append(t,f[t])}),p.find(":file").toArray().forEach(function(t){for(r=0;r<a(t)[0].files.length;r++)u.append(a(t).attr("name"),a(t)[0].files[r])}),t.data=u,t.contentType=!1,t.cache=!1,t.processData=!1)))}),ce.ajaxSuccess(function(t,e,i){var o,r,n,c,l,d,s,p=Xt.quickview_array||"null",m=Xt.quickview_container||"null",_={},f=1,u=!1;a(".tm-formepo-normal").remove(),a(".tm-formepo").remove(),a(".tm-cart-link").tmpoplink(),p=a.epoAPI.util.parseJSON(p),m=a.epoAPI.util.parseJSON(m);for(o in m)Object.prototype.hasOwnProperty.call(m,o)&&(_[m[o][0]]=a(m[o][1]));a.extend(p,_),Object.keys(p).forEach(function(t){u||(l=!1,r=a(p[t]),"woodmart_quick_shop"===t&&"woodmart_quick_shop"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"woodmart_quick_view"===t&&"woodmart_quick_view"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"quickview_pro"===t&&(s=i.url.split("/")).length&&(d=a(a.epoAPI.util.escapeSelector(p[t]+" .post-"+s[s.length-1]))).length&&(r=d,l=!0),"wqv_popup_content"!==t&&"wp_food"!==t&&"jet_popup_get_content"!==t||(l=!0),"woofood"===t&&i.data&&"woofood_quickview_ajax"===(s=a.epoAPI.util.parseParams(i.data)).action&&(d=d=r.find("form").parent()).length&&(r=d,l=!0),0===r.find(".product").length&&r.is(".product")&&(l=!0),r.length&&(r.find(".product").length>0||l)&&(r.removeClass("tc-init"),u=!0,"fusion_quick_view_load"!==t&&"jet_popup_get_content"!==t&&"wp_food"!==t&&"woodmart_quick_shop"!==t&&"woodmart_quick_view"!==t&&"lightboxpro"!==t&&"jckqv_quick_view"!==t&&"yith_quick_view"!==t&&"theme_flatsome"!==t||(oe=!0),ie=r,"fusion_quick_view_load"===t&&(f=1400),setTimeout(function(){n=ie.find($t.epoSelector).attr("data-product-id"),c=ie.find($t.epoSelector).attr("data-epo-id"),"woodmart_quick_shop"===t&&r.addClass("has-options"),$t.getElementFromFieldCache=[],Ut(ie,!0,n,c),ne.trigger("tmlazy"),ne.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&ie.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})},f)))})}),Rt(),a(".tm-cart-link").tmpoplink(),re.on("updated_checkout",function(){a(".tm-cart-link").tmpoplink()}),ne.trigger("tmlazy"),ne.trigger("tm_epo_loaded")}),ce.ready(function(){var e=navigator.userAgent||navigator.vendor||t.opera;(e=e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1)&&a(".tmcp-upload").removeAttr("accept"),ce.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){a(this).closest(".quantity").find("input.qty").trigger("change")}),re.on("sober_quickview_opened",function(){var t,e;t=(ie=a("#quick-view-modal")).find($t.epoSelector).attr("data-product-id"),e=ie.find($t.epoSelector).attr("data-epo-id"),Ut(ie,!0,t,e),ne.trigger("tmlazy"),ne.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&ie.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})}),a("#wholesale_form").on("submit",function(){var t=a("form.cart").find($t.addToCartSelector).val(),e=a($t.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),i=a(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),o=a("<div class='tm-hidden tm-formepo'></div>");return o.append(e),o.append(i),a(this).append(o),!0}),ce.on("click","#add_to_quote",function(t){var e,i,o;Xt&&"yes"===Xt.tm_epo_global_enable_validation&&(i=(e=a(this).parents("form")).find(".tm-epo-counter").val(),o=a($t.epoSelector+"[data-epo-id='"+i+"']"),e.length>0&&o.length>0&&!e.tc_validate().form()&&t.stopImmediatePropagation())}),a(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=a(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),a(".wc-product-table").on("init.wcpt",function(e,i){i.$table.find($t.epoSelector).addClass("hidden"),i.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){i.$table.find(".cart:not(.cart_group)").each(function(){var e=a(this).find($t.epoSelector),i=e.closest("tr");a("<td class='wc-product-table-epo'></td>").appendTo(i).append(e),a(t).trigger("tc_manual_init",e),e.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);