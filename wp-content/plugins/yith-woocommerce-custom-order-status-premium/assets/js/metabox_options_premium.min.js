jQuery(function(e){e(".yith-wccos-color-picker").wpColorPicker(),e("#edit-slug-box").hide(),e("#preview-action").hide();var t=function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t=yith_wccos_params.slug_from,a=yith_wccos_params.slug_to,c=0,n=t.length;c<n;c++)e=e.replace(new RegExp(t.charAt(c),"g"),a.charAt(c));return 1<=(e=e.replace(new RegExp(yith_wccos_params.slug_allowed,"g"),"").replace(/\s+/g,"-").replace(/-+/g,"-")).length&&(e=e.substr(0,17)),e=r(e)},r=function(e){var t,a;return"wc-"+e in yith_wccos_params.wc_statuses&&(a=2,(t=e.match("[0-9]+$"))&&(a=parseInt(t[0],10)+1,e=e.substr(0,t.index)),e=e.substr(0,17-(""+a).length),e=r(e+=a)),e},a=e("#slug"),c=e("#title"),n=e("#status_type"),i=!0,s=e("#recipients"),o=e("#mail-settings-info").parent(),l=e("li.tabs").next(),h=e("#custom_recipient-container").parent(),d=e("#can-pay"),p=e("#can-cancel"),g=e("#downloads-permitted"),u=e("#display-in-reports"),v=(e("#nextactions"),function(){"custom"!==n.val()?(l.hide(),o.show(),s.val("")):(l.show(),o.hide()),s.val()&&-1!==s.val().indexOf("custom-email")?h.show():h.hide()}),w=function(){switch(d.attr("checked",!1),p.attr("checked",!1),g.attr("checked",!1),u.attr("checked",!1),a.val()){case"pending":case"failed":d.attr("checked",!0),p.attr("checked",!0);break;case"completed":case"processing":g.attr("checked",!0),u.attr("checked",!0);break;case"on-hold":u.attr("checked",!0)}};e(".yith-wccos-select2").select2({width:"100%"}),a.val().length<1?(0<c.val().length&&(a.val(t(c.val())),a.trigger("change")),c.on("keyup",function(){i&&(a.val(t(c.val())),a.trigger("change"))})):(i=!1,n.parent().css({position:"relative"}).append('<div style="position:absolute; width:100%; height:100%; z-index: 10;background: rgba(255,255,255,0.6);top:0;left:0;"></div>'),a.prop("readonly",!0)),a.on("keyup",function(){var e=t(a.val());e!==a.val()&&a.val(e)}),a.on("change keyup",function(){e(this).val().length<1?e(this).addClass("yith-wccos-required-field"):e(this).removeClass("yith-wccos-required-field")}).trigger("change"),n.on("change",function(){"custom"===e(this).val()?(i=!0,a.val(t(c.val())),a.prop("readonly",!1)):(i=!1,a.val(e(this).val()),a.prop("readonly",!0)),a.trigger("change"),v(),w()}),("custom"!==n.val()?s.parent():o).hide(),v(),s.on("change",function(){v()})});