!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}([function(e,t){e.exports=window.wp.element},function(e,t,n){e.exports=n(38)()},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.regeneratorRuntime},function(e,t){e.exports=window.wp.components},function(e,t,n){var r=n(30),o=n(31),a=n(20),i=n(32);e.exports=function(e){return r(e)||o(e)||a(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(27),o=n(28),a=n(20),i=n(29);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,s,"next",e)}function s(e){n(i,o,a,c,s,"throw",e)}c(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.blockEditor},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,c],u=0;(s=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t){e.exports=window.wc.wcSettings},function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"woocommerce/cart-add-ons","version":"1.0.0","title":"Cart Add-ons","category":"woocommerce","icon":"cart","description":"Upsell additional products to customers on the cart page.","supports":{"html":false},"textdomain":"sfn_cart_addons","editorStyle":"file:./build/index.css","style":"file:./build/index.css","attributes":{"title":{"type":"string","default":"Cart Add-ons"},"numberOfProducts":{"type":"number","default":3},"defaultAddons":{"type":"array","default":[]},"categoryMatches":{"type":"array","default":[]},"categoryMatchesSelectedCategory":{"type":"array","default":[]},"categoryMatchesProductAddons":{"type":"array","default":[]},"productMatches":{"type":"array","default":[]},"productMatchesSelectedProduct":{"type":"array","default":[]},"productMatchesProductAddons":{"type":"array","default":[]},"columns":{"type":"number","default":3}}}')},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.primitives},function(e,t,n){var r=n(21);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.htmlEntities},function(e,t,n){"use strict";var r=n(0),o=n(9),a=n.n(o),i=n(7),c=n.n(i),s=n(4),l=n.n(s),u=n(14),d=n(3),p=n(12),f=n(8),h=n.n(f),m=n(22),g=n(16),b=n(5),v=function(e){var t=e.product,n=e.isEditing,o=Object(r.useState)(!1),a=c()(o,2),i=a[0],s=a[1],l=Object(p.useDispatch)("wc/store/cart").addItemToCart;return Object(r.createElement)("div",{className:" wp-block-button wc-block-grid__product-add-to-cart "},i?Object(r.createElement)(b.Spinner,null):function(){if(!t.is_purchasable&&!t.is_in_stock)return Object(r.createElement)("div",{className:"wc-block-components-product-add-to-cart-unavailable"},Object(d.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block"));switch(t.type){case"simple":return Object(r.createElement)("button",{disabled:!!n,"aria-label":"Add “".concat(t.name,"“ to cart."),className:" wp-block-button__link add_to_cart_button",onClick:function(){return n?null:(s(!0),l(t.id,1).then((function(){s(!1)})).catch((function(e){s(!1),wp.data.dispatch("core/notices").createNotice("error",e.message,{type:"default",isDismissible:!0,context:"wc/cart"})})))}},t.add_to_cart.text);default:return n?Object(r.createElement)("button",{disabled:!0,className:" wp-block-button__link add_to_cart_button"},Object(d.__)("Read more","woo-gutenberg-products-block")):Object(r.createElement)("a",{href:t.add_to_cart.url,"aria-label":"Read more about “".concat(t.name,"“."),className:" wp-block-button__link add_to_cart_button"},t.add_to_cart.text)}}())},y=function(e){var t=e.product,n=e.isEditing,o=t.thumbnail?{src:t.thumbnail,alt:Object(m.decodeEntities)(t.thumbnail_alt)||Object(d.__)("Product Image","sfn_cart_addons")}:{src:g.PLACEHOLDER_IMG_SRC,alt:""};return Object(r.createElement)(r.Fragment,null,n?Object(r.createElement)("div",{className:"wc-block-grid__product-image"},Object(r.createElement)("img",h()({className:"wc-block-components-product-image"},o)),Object(r.createElement)("div",{className:"wc-block-grid__product-title"},t.name)):Object(r.createElement)("a",{className:"wc-block-grid__product-link",href:t.permalink,rel:"nofollow",tabIndex:"-1"},Object(r.createElement)("div",{className:"wc-block-grid__product-image"},Object(r.createElement)("img",h()({className:"wc-block-components-product-image"},o))),Object(r.createElement)("div",{className:"wc-block-grid__product-title"},t.name)),Object(r.createElement)("div",{className:"wc-block-grid__product-price price",dangerouslySetInnerHTML:{__html:t.price_html}}),Object(r.createElement)(v,{product:t,isEditing:n}))},w=n(6),O=n.n(w),x=n(13),_=n.n(x);function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(){var e=a()(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return n=t.map((function(e){return e.value})),e.next=5,R(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),S=function(){var e=a()(l.a.mark((function e(t){var n,r,o,a,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return n=C(t),e.next=5,T();case 5:r=e.sent,o=[],a=j(n);try{for(a.s();!(i=a.n()).done;)c=i.value,r.includes(c.category)&&void 0!==c.products&&o.push.apply(o,O()(c.products))}catch(e){a.e(e)}finally{a.f()}return e.next=11,R(o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=a()(l.a.mark((function e(t){var n,r,o,a,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:n=P(t),r=D(),o=[],a=j(n);try{for(c=function(){var e=i.value;(r.includes(e.product)||r.some((function(t){return e.itIncludesVariations&&e.variations.includes(t)})))&&void 0!==e.products&&o.push.apply(o,O()(e.products))},a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}return e.next=9,R(o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return void 0===e?[]:e.map((function(e){return{category:e.category.value,products:e.products.map((function(e){return e.value}))}}))},P=function(e){return void 0===e?[]:e.map((function(e){return{product:e.product.value,itIncludesVariations:e.product.itIncludesVariations,variations:void 0===e.product.variations?[]:e.product.variations,products:e.products.map((function(e){return e.value}))}}))},T=function(){var e=a()(l.a.mark((function e(){var t,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=D()).length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,R(t,!1);case 5:return n=e.sent,r=[],n.forEach((function(e){var t;null===(t=e.categories)||void 0===t||t.forEach((function(e){r.push(e.id)}))})),o=M(),e.abrupt("return",[].concat(r,O()(o)));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){return e.map((function(e){var t,n;return{id:e.id,name:e.name,price_html:e.price_html,thumbnail:void 0!==e.images?null===(t=e.images[0])||void 0===t?void 0:t.thumbnail:"",thumbnail_alt:void 0!==e.images?null===(n=e.images[0])||void 0===n?void 0:n.alt:"",type:e.type,permalink:e.permalink,is_purchasable:e.is_purchasable,is_in_stock:e.is_in_stock,add_to_cart:e.add_to_cart}}))},M=function(){var e;return null!==(e=wp.data.select("wc/store/cart").getCartData().extensions.wc_cart_addons_block.categories)&&void 0!==e?e:[]},D=function(){return wp.data.select("wc/store/cart").getCartData().items.map((function(e){return e.id}))},R=function(){var e=a()(l.a.mark((function e(t){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],0!==t.length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.abrupt("return",_()({path:"/wc/store/products?include=".concat(t.join(","))}).then((function(e){return n?A(e):e})).catch((function(){return[]})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=n(17),H=function(e){var t=Object(r.useState)([]),n=c()(t,2),o=n[0],i=n[1],s=Object(p.useSelect)((function(e){return{cartItems:e("wc/store/cart").getCartData().items}})).cartItems,f=e.attributes,h=e.setAttributes,m=e.isEditing,g=f.defaultAddons,b=f.categoryMatches,v=f.productMatches,w=f.numberOfProducts,O=void 0===w?N.attributes.numberOfProducts.default:w,x=f.columns,_=f.title,j=D(),I=function(){var e=a()(l.a.mark((function e(){var t,n,r,o,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=11;break}if(!(g.length>0)){e.next=7;break}return e.next=4,E(g);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:return t=e.t0,i(t),e.abrupt("return");case 11:if(0!==s.length){e.next=14;break}return i([]),e.abrupt("return");case 14:return n=[],e.next=17,k(v);case 17:return void 0!==(r=e.sent)&&(n=r.filter((function(e){return!j.includes(e.id)}))),e.next=21,S(b);case 21:if(void 0!==(o=e.sent)&&o.filter((function(e){return!j.includes(e.id)})).forEach((function(e){n.find((function(t){return t.id===e.id}))||n.push(e)})),!(n.length<O)){e.next=28;break}return e.next=26,E(g);case 26:void 0!==(a=e.sent.filter((function(e){return!j.includes(e.id)})))&&a.forEach((function(e){n.find((function(t){return t.id===e.id}))||n.push(e)}));case 28:i(n);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){I()}),[m?g:s]);var C="wc-block-grid has-".concat(null!=x?x:3,"-columns has-multiple-rows");return 0!==o.length&&0!==s.length||m?Object(r.createElement)("div",{className:C},m?Object(r.createElement)(u.RichText,{tagName:"h1",value:_,onChange:function(e){return h({title:e})},placeholder:Object(d.__)("Cart Add-ons Title","sfn_cart_addons"),allowedFormats:["core/bold","core/italic"]}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("h1",null,null!=_?_:Object(d.__)("Cart Add-ons","sfn_cart_addons"))),m&&0===(null==o?void 0:o.length)&&Object(r.createElement)("p",null,Object(d.__)("You haven't added any default upsells yet.","sfn_cart_addons")),o&&Object(r.createElement)("ul",{className:"wc-block-grid__products"},o.slice(0,null!=O?O:3).map((function(e){return Object(r.createElement)("li",{key:e.id,className:"wc-block-grid__product wc-block-layout"},Object(r.createElement)(y,{isEditing:m,product:e}))})))):null};t.a=function(e){return Object(r.createElement)(H,e)}},function(e,t,n){var r=n(40);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.a11y},function(e,t){e.exports=window.ReactDOM},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw o}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(21);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=n(41)},,function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.url},,function(e,t,n){"use strict";var r=n(39);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=60103,o=60106,a=60107,i=60108,c=60114,s=60109,l=60110,u=60112,d=60113,p=60120,f=60115,h=60116,m=60121,g=60122,b=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),o=w("react.portal"),a=w("react.fragment"),i=w("react.strict_mode"),c=w("react.profiler"),s=w("react.provider"),l=w("react.context"),u=w("react.forward_ref"),d=w("react.suspense"),p=w("react.suspense_list"),f=w("react.memo"),h=w("react.lazy"),m=w("react.block"),g=w("react.server.block"),b=w("react.fundamental"),v=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case c:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case o:return t}}}var x=s,_=r,j=u,I=a,E=h,S=f,k=o,C=c,P=i,T=d;t.ContextConsumer=l,t.ContextProvider=x,t.Element=_,t.ForwardRef=j,t.Fragment=I,t.Lazy=E,t.Memo=S,t.Portal=k,t.Profiler=C,t.StrictMode=P,t.Suspense=T,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return O(e)===u},t.isFragment=function(e){return O(e)===a},t.isLazy=function(e){return O(e)===h},t.isMemo=function(e){return O(e)===f},t.isPortal=function(e){return O(e)===o},t.isProfiler=function(e){return O(e)===c},t.isStrictMode=function(e){return O(e)===i},t.isSuspense=function(e){return O(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===v||e===i||e===d||e===p||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===b||e.$$typeof===m||e[0]===g)},t.typeOf=O},,function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r),a=n(35),i=n(8),c=n.n(i),s=n(7),l=n.n(s),u=n(0),d=n(14),p=n(16),f=n(23),h=n(5),m=n(3),g=function(e){var t=e.attributes,n=e.setAttributes,r=t.numberOfProducts;return Object(u.createElement)(h.Panel,{className:"wc-cart-addons-block-panel"},Object(u.createElement)(h.PanelBody,{title:Object(m.__)("Default Options","sfn_cart_addons"),initialOpen:!0},Object(u.createElement)(h.RangeControl,{label:Object(m.__)("Maximum number of upsells to show","sfn_cart_addons"),value:r,onChange:function(e){return n({numberOfProducts:e})},min:1,max:10,help:Object(m.__)("This defines the number of products that the default view will display.","sfn_cart_addons")})))},b=n(18),v=n.n(b),y=n(6),w=n.n(y),O=n(9),x=n.n(O),_=n(4),j=n.n(_),I=n(2);function E(e,t,n){var r=this,o=Object(I.useRef)(null),a=Object(I.useRef)(0),i=Object(I.useRef)(null),c=Object(I.useRef)([]),s=Object(I.useRef)(),l=Object(I.useRef)(),u=Object(I.useRef)(e),d=Object(I.useRef)(!0);u.current=e;var p=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var f=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,m="maxWait"in n,g=m?Math.max(+n.maxWait||0,t):null;return Object(I.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]),Object(I.useMemo)((function(){var e=function(e){var t=c.current,n=s.current;return c.current=s.current=null,a.current=e,l.current=u.current.apply(n,t)},n=function(e,t){p&&cancelAnimationFrame(i.current),i.current=p?requestAnimationFrame(e):setTimeout(e,t)},b=function(e){if(!d.current)return!1;var n=e-o.current,r=e-a.current;return!o.current||n>=t||n<0||m&&r>=g},v=function(t){return i.current=null,h&&c.current?e(t):(c.current=s.current=null,l.current)},y=function(){var e=Date.now();if(b(e))return v(e);if(d.current){var r=e-o.current,i=e-a.current,c=t-r,s=m?Math.min(c,g-i):c;n(y,s)}},w=function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=Date.now(),g=b(h);if(c.current=u,s.current=r,o.current=h,g){if(!i.current&&d.current)return a.current=o.current,n(y,t),f?e(o.current):l.current;if(m)return n(y,t),e(o.current)}return i.current||n(y,t),l.current};return w.cancel=function(){i.current&&(p?cancelAnimationFrame(i.current):clearTimeout(i.current)),a.current=0,c.current=o.current=s.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?v(Date.now()):l.current},w}),[f,m,t,g,h,p])}var S=n(1),k=n.n(S),C=n(10),P=n.n(C);function T(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function N(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function H(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return N(n.overflowY,t)||N(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function L(e,t,n,r,o,a,i,c){return a<e&&i>t||a>e&&i<t?0:a<=e&&c<=n||i>=t&&c>=n?a-e-r:i>t&&c<n||a<e&&c>n?i-t+o:0}n(33);var B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create,Object.create;var K=0;function V(e){return"function"==typeof e?e:W}function W(){}function U(e,t){e&&function(e,t){var n=window,r=t.scrollMode,o=t.block,a=t.inline,i=t.boundary,c=t.skipOverflowHiddenElements,s="function"==typeof i?i:function(e){return e!==i};if(!R(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],d=e;R(d)&&s(d);){if((d=d.parentElement)===l){u.push(d);break}null!=d&&d===document.body&&H(d)&&!H(document.documentElement)||null!=d&&H(d,c)&&u.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),b=g.height,v=g.width,y=g.top,w=g.right,O=g.bottom,x=g.left,_="start"===o||"nearest"===o?y:"end"===o?O:y+b/2,j="center"===a?x+v/2:"end"===a?w:x,I=[],E=0;E<u.length;E++){var S=u[E],k=S.getBoundingClientRect(),C=k.height,P=k.width,T=k.top,A=k.right,M=k.bottom,D=k.left;if("if-needed"===r&&y>=0&&x>=0&&O<=f&&w<=p&&y>=T&&O<=M&&x>=D&&w<=A)return I;var N=getComputedStyle(S),B=parseInt(N.borderLeftWidth,10),K=parseInt(N.borderTopWidth,10),V=parseInt(N.borderRightWidth,10),W=parseInt(N.borderBottomWidth,10),U=0,F=0,$="offsetWidth"in S?S.offsetWidth-S.clientWidth-B-V:0,G="offsetHeight"in S?S.offsetHeight-S.clientHeight-K-W:0;if(l===S)U="start"===o?_:"end"===o?_-f:"nearest"===o?L(m,m+f,f,K,W,m+_,m+_+b,b):_-f/2,F="start"===a?j:"center"===a?j-p/2:"end"===a?j-p:L(h,h+p,p,B,V,h+j,h+j+v,v),U=Math.max(0,U+m),F=Math.max(0,F+h);else{U="start"===o?_-T-K:"end"===o?_-M+W+G:"nearest"===o?L(T,M,C,K,W+G,_,_+b,b):_-(T+C/2)+G/2,F="start"===a?j-D-B:"center"===a?j-(D+P/2)+$/2:"end"===a?j-A+V+$:L(D,A,P,B,V+$,j,j+v,v);var Y=S.scrollLeft,z=S.scrollTop;_+=z-(U=Math.max(0,Math.min(z+U,S.scrollHeight-C+G))),j+=Y-(F=Math.max(0,Math.min(Y+F,S.scrollWidth-P+$)))}I.push({el:S,top:U,left:F})}return I}(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))}function F(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function $(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];r(),n=setTimeout((function(){n=null,e.apply(void 0,a)}),t)}return o.cancel=r,o}function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function z(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function q(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var X=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function J(e){void 0===e&&(e={});var t={};return X.forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function Q(e,t){return void 0!==e[t]}function Z(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function ee(e,t,n,r,o){if(void 0===o&&(o=!0),0===n)return-1;var a=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:a+1);var i=t+e;i<0?i=o?a:0:i>a&&(i=o?0:a);var c=te(e,i,n,r,o);return-1===c?t>=n?-1:t:c}function te(e,t,n,r,o){var a=r(t);if(!a||!a.hasAttribute("disabled"))return t;if(e>0){for(var i=t+1;i<n;i++)if(!r(i).hasAttribute("disabled"))return i}else for(var c=t-1;c>=0;c--)if(!r(c).hasAttribute("disabled"))return c;return o?e>0?te(1,0,n,r,!1):te(-1,n-1,n,r,!1):-1}function ne(e,t,n,r){return void 0===r&&(r=!0),t.some((function(t){return t&&(F(t,e,n)||r&&F(t,n.document.activeElement,n))}))}var re=$((function(e){ae(e).textContent=""}),500);function oe(e,t){var n=ae(t);e&&(n.textContent=e,re(t))}function ae(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var ie=Object.freeze({__proto__:null,unknown:0,mouseUp:1,itemMouseEnter:2,keyDownArrowUp:3,keyDownArrowDown:4,keyDownEscape:5,keyDownEnter:6,keyDownHome:7,keyDownEnd:8,clickItem:9,blurInput:10,changeInput:11,keyDownSpaceButton:12,clickButton:13,blurButton:14,controlledPropUpdatedSelectedItem:15,touchEnd:16}),ce=["refKey","ref"],se=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],le=["onKeyDown","onBlur","onChange","onInput","onChangeText"],ue=["refKey","ref"],de=["onMouseMove","onMouseDown","onClick","onPress","index","item"],pe=function(){var e=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).id=n.props.id||"downshift-"+String(K++),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.input=null,n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var r=setTimeout((function(){n.timeoutIds=n.timeoutIds.filter((function(e){return e!==r})),e()}),t);n.timeoutIds.push(r)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=J(t),n.internalSetState(A({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,r){t=J(t),n.internalSetState(A({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),r)},n.selectItemAtIndex=function(e,t,r){var o=n.items[e];null!=o&&n.selectItem(o,t,r)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var r,o,a={},i="function"==typeof e;return!i&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,A({},n.getStateAndHelpers(),e)),n.setState((function(t){t=n.getState(t);var c=i?e(t):e;c=n.props.stateReducer(t,c),r=c.hasOwnProperty("selectedItem");var s={},l={};return r&&c.selectedItem!==t.selectedItem&&(o=c.selectedItem),c.type=c.type||0,Object.keys(c).forEach((function(e){t[e]!==c[e]&&(a[e]=c[e]),"type"!==e&&(l[e]=c[e],Q(n.props,e)||(s[e]=c[e]))})),i&&c.hasOwnProperty("inputValue")&&n.props.onInputValueChange(c.inputValue,A({},n.getStateAndHelpers(),c)),s}),(function(){V(t)(),Object.keys(a).length>1&&n.props.onStateChange(a,n.getStateAndHelpers()),r&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==o&&n.props.onChange(o,n.getStateAndHelpers()),n.props.onUserAction(a,n.getStateAndHelpers())}))},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var r,o=void 0===e?{}:e,a=o.refKey,i=void 0===a?"ref":a,c=o.ref,s=T(o,ce),l=(void 0===t?{}:t).suppressRefError,u=void 0!==l&&l;n.getRootProps.called=!0,n.getRootProps.refKey=i,n.getRootProps.suppressRefError=u;var d=n.getState().isOpen;return A(((r={})[i]=Y(c,n.rootRef),r.role="combobox",r["aria-expanded"]=d,r["aria-haspopup"]="listbox",r["aria-owns"]=d?n.menuId:null,r["aria-labelledby"]=n.labelId,r),s)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},(function(){var e=t.getItemCount();if(e>0){var n=ee(1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:4})}}))},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},(function(){var e=t.getItemCount();if(e>0){var n=ee(-1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:3})}}))},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,r=t.highlightedIndex;if(n&&null!=r){e.preventDefault();var o=this.items[r],a=this.getItemNodeFromIndex(r);if(null==o||a&&a.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset(A({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=A({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=A({},n.keyDownHandlers,{Home:function(e){var t=this,n=this.getState().isOpen;if(n){e.preventDefault();var r=this.getItemCount();if(!(r<=0)&&n){var o=te(1,0,r,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:7})}}},End:function(e){var t=this,n=this.getState().isOpen;if(n){e.preventDefault();var r=this.getItemCount();if(!(r<=0)&&n){var o=te(-1,r-1,r,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:8})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,r=t.onClick;t.onPress;var o=t.onKeyDown,a=t.onKeyUp,i=t.onBlur,c=T(t,se),s=n.getState().isOpen,l={onClick:G(r,n.buttonHandleClick),onKeyDown:G(o,n.buttonHandleKeyDown),onKeyUp:G(a,n.buttonHandleKeyUp),onBlur:G(i,n.buttonHandleBlur)};return A({type:"button",role:"button","aria-label":s?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},c.disabled?{}:l,c)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=Z(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(M(n),e)},n.buttonHandleClick=function(e){e.preventDefault(),n.props.environment.document.activeElement===n.props.environment.document.body&&e.target.focus(),n.internalSetTimeout((function(){return n.toggleMenu({type:13})}))},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout((function(){n.isMouseDown||null!=n.props.environment.document.activeElement&&n.props.environment.document.activeElement.id===n.inputId||n.props.environment.document.activeElement===t||n.reset({type:14})}))},n.getLabelProps=function(e){return A({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,r=t.onKeyDown,o=t.onBlur,a=t.onChange,i=t.onInput;t.onChangeText;var c,s=T(t,le),l={},u=n.getState(),d=u.inputValue,p=u.isOpen,f=u.highlightedIndex;return s.disabled||((c={}).onChange=G(a,i,n.inputHandleChange),c.onKeyDown=G(r,n.inputHandleKeyDown),c.onBlur=G(o,n.inputHandleBlur),l=c),A({"aria-autocomplete":"list","aria-activedescendant":p&&"number"==typeof f&&f>=0?n.getItemId(f):null,"aria-controls":p?n.menuId:null,"aria-labelledby":n.labelId,autoComplete:"off",value:d,id:n.inputId},l,s)},n.inputHandleKeyDown=function(e){var t=Z(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(M(n),e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout((function(){var e=n.props.environment.document&&!!n.props.environment.document.activeElement&&!!n.props.environment.document.activeElement.dataset&&n.props.environment.document.activeElement.dataset.toggle&&n._rootNode&&n._rootNode.contains(n.props.environment.document.activeElement);n.isMouseDown||e||n.reset({type:10})}))},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var r,o=void 0===e?{}:e,a=o.refKey,i=void 0===a?"ref":a,c=o.ref,s=T(o,ue),l=(void 0===t?{}:t).suppressRefError,u=void 0!==l&&l;return n.getMenuProps.called=!0,n.getMenuProps.refKey=i,n.getMenuProps.suppressRefError=u,A(((r={})[i]=Y(c,n.menuRef),r.role="listbox",r["aria-labelledby"]=s&&s["aria-label"]?null:n.labelId,r.id=n.menuId,r),s)},n.getItemProps=function(e){var t,r=void 0===e?{}:e,o=r.onMouseMove,a=r.onMouseDown,i=r.onClick;r.onPress;var c=r.index,s=r.item,l=void 0===s?void 0:s,u=T(r,de);void 0===c?(n.items.push(l),c=n.items.indexOf(l)):n.items[c]=l;var d=i,p=((t={onMouseMove:G(o,(function(){c!==n.getState().highlightedIndex&&(n.setHighlightedIndex(c,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout((function(){return n.avoidScrolling=!1}),250))})),onMouseDown:G(a,(function(e){e.preventDefault()}))}).onClick=G(d,(function(){n.selectItemAtIndex(c,{type:9})})),t),f=u.disabled?{onMouseDown:p.onMouseDown}:p;return A({id:n.getItemId(c),role:"option","aria-selected":n.getState().highlightedIndex===c},f,u)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=J(e),n.internalSetState((function(t){var r=t.selectedItem;return A({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(r)},e)}),t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=J(e),n.internalSetState((function(t){var r=t.isOpen;return A({isOpen:!r},r&&{highlightedIndex:n.props.defaultHighlightedIndex},e)}),(function(){var r=n.getState(),o=r.isOpen,a=r.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof a&&n.setHighlightedIndex(a,e),V(t)()}))},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=$((function(){var e=n.getState(),t=n.items[e.highlightedIndex],r=n.getItemCount(),o=n.props.getA11yStatusMessage(A({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:t},e));n.previousResultCount=r,oe(o,n.props.environment.document)}),200);var r=n.props,o=r.defaultHighlightedIndex,a=r.initialHighlightedIndex,i=void 0===a?o:a,c=r.defaultIsOpen,s=r.initialIsOpen,l=void 0===s?c:s,u=r.initialInputValue,d=void 0===u?"":u,p=r.initialSelectedItem,f=void 0===p?null:p,h=n.getState({highlightedIndex:i,isOpen:l,inputValue:d,selectedItem:f});return null!=h.selectedItem&&void 0===n.props.initialInputValue&&(h.inputValue=n.props.itemToString(h.selectedItem)),n.state=h,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,D(t,n);var o=r.prototype;return o.internalClearTimeouts=function(){this.timeoutIds.forEach((function(e){clearTimeout(e)})),this.timeoutIds=[]},o.getState=function(e){return void 0===e&&(e=this.state),t=e,n=this.props,Object.keys(t).reduce((function(e,r){return e[r]=Q(n,r)?n[r]:t[r],e}),{});var t,n},o.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},o.getItemNodeFromIndex=function(e){return this.props.environment.document.getElementById(this.getItemId(e))},o.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},o.moveHighlightedIndex=function(e,t){var n=this,r=this.getItemCount(),o=this.getState().highlightedIndex;if(r>0){var a=ee(e,o,r,(function(e){return n.getItemNodeFromIndex(e)}));this.setHighlightedIndex(a,t)}},o.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,r=e.selectedItem,o=e.isOpen,a=this.props.itemToString,i=this.id,c=this.getRootProps,s=this.getToggleButtonProps,l=this.getLabelProps,u=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,h=this.closeMenu,m=this.toggleMenu,g=this.selectItem,b=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,w=this.clearSelection,O=this.clearItems;return{getRootProps:c,getToggleButtonProps:s,getLabelProps:l,getMenuProps:u,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:h,toggleMenu:m,selectItem:g,selectItemAtIndex:b,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:w,clearItems:O,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:a,id:i,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:r}},o.componentDidMount=function(){var e=this,t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!ne(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},r=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},a=function(t){var n=ne(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},i=this.props.environment;i.addEventListener("mousedown",t),i.addEventListener("mouseup",n),i.addEventListener("touchstart",r),i.addEventListener("touchmove",o),i.addEventListener("touchend",a),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),i.removeEventListener("mousedown",t),i.removeEventListener("mouseup",n),i.removeEventListener("touchstart",r),i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a)}},o.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,r=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==r},o.componentDidUpdate=function(e,t){Q(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},o.componentWillUnmount=function(){this.cleanup()},o.render=function(){var e=q(this.props.children,W);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var t=q(e(this.getStateAndHelpers()));return t?this.getRootProps.called||this.props.suppressRefError?t:function(e){return"string"==typeof e.type}(t)?Object(I.cloneElement)(t,this.getRootProps(function(e){return e.props}(t))):void 0:null},r}(I.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:z,itemToString:function(e){return null==e?"":String(e)},onStateChange:W,onInputValueChange:W,onUserAction:W,onChange:W,onSelect:W,onOuterClick:W,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?{}:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:U},e.stateChangeTypes=ie,e}();$((function(e,t){oe(e(),t)}),200),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?I.useLayoutEffect:I.useEffect;var fe={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:U,circularNavigation:!1,environment:"undefined"==typeof window?{}:window};k.a.array.isRequired,k.a.func,k.a.func,k.a.func,k.a.bool,k.a.number,k.a.number,k.a.number,k.a.bool,k.a.bool,k.a.bool,k.a.any,k.a.any,k.a.any,k.a.string,k.a.string,k.a.string,k.a.func,k.a.string,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.shape({addEventListener:k.a.func,removeEventListener:k.a.func,document:k.a.shape({getElementById:k.a.func,activeElement:k.a.any,body:k.a.any})}),B(B({},fe),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.":"":"No results are available.":""}}),k.a.array.isRequired,k.a.func,k.a.func,k.a.func,k.a.bool,k.a.number,k.a.number,k.a.number,k.a.bool,k.a.bool,k.a.bool,k.a.any,k.a.any,k.a.any,k.a.string,k.a.string,k.a.string,k.a.string,k.a.string,k.a.string,k.a.func,k.a.string,k.a.string,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.func,k.a.shape({addEventListener:k.a.func,removeEventListener:k.a.func,document:k.a.shape({getElementById:k.a.func,activeElement:k.a.any,body:k.a.any})}),A({},fe,{getA11yStatusMessage:z,circularNavigation:!0}),k.a.array,k.a.array,k.a.array,k.a.func,k.a.func,k.a.func,k.a.number,k.a.number,k.a.number,k.a.func,k.a.func,k.a.string,k.a.string,k.a.shape({addEventListener:k.a.func,removeEventListener:k.a.func,document:k.a.shape({getElementById:k.a.func,activeElement:k.a.any,body:k.a.any})});var he=function(e){var t=e.checked,n=e.getInputProps,r=e.inputRef,o=e.isDisabled,a=e.onFocus,i=e.onRemoveItem,c=e.placeholder,s=e.tabIndex,l=e.value,d=e.onType;return Object(u.createElement)("input",n({ref:r,className:"wc-block-dropdown-selector__input wc-block-components-dropdown-selector__input",disabled:o,onFocus:a,onKeyDown:function(e){"Backspace"===e.key&&!l&&t.length>0?i(t[t.length-1]):d(e)},placeholder:c,tabIndex:s}))},me=function(e){var t=e.children,n=e.onClick;return Object(u.createElement)("div",{className:"wc-block-dropdown-selector__input-wrapper wc-block-components-dropdown-selector__input-wrapper",onClick:n},t)},ge=function(e){var t=e.checked,n=e.getItemProps,r=e.getMenuProps,o=e.highlightedIndex,a=e.options;return Object(u.createElement)("ul",r({className:"wc-block-dropdown-selector__list wc-block-components-dropdown-selector__list"}),a.map((function(e,r){var a=t.some((function(t){return t.value===e.value}));return Object(u.createElement)("li",n({key:e.value,className:P()("wc-block-dropdown-selector__list-item","wc-block-components-dropdown-selector__list-item",{"is-selected":a,"is-highlighted":o===r}),index:r,item:e.value,"aria-label":a?Object(m.sprintf)(
/* translators: %s is referring to the filter option being removed. */
Object(m.__)("Remove %s filter","woo-gutenberg-products-block"),e.name):null}),e.label)})))},be=n(24),ve=n.n(be),ye=function(e){var t=e.text,n=e.screenReaderText,r=void 0===n?"":n,o=e.element,a=void 0===o?"li":o,i=e.className,s=void 0===i?"":i,l=e.radius,d=void 0===l?"small":l,p=e.children,f=void 0===p?null:p,h=ve()(e,["text","screenReaderText","element","className","radius","children"]),m=a,g=P()(s,"wc-block-components-chip","wc-block-components-chip--radius-"+d),b=Boolean(r&&r!==t);return Object(u.createElement)(m,c()({className:g},h),Object(u.createElement)("span",{"aria-hidden":b,className:"wc-block-components-chip__text"},t),b&&Object(u.createElement)("span",{className:"screen-reader-text"},r),f)};ye.propTypes={text:k.a.node.isRequired,screenReaderText:k.a.string,element:k.a.elementType,className:k.a.string,radius:k.a.oneOf(["none","small","medium","large"])};var we=ye,Oe=function(e){var t=e.ariaLabel,n=void 0===t?"":t,r=e.className,o=void 0===r?"":r,a=e.disabled,i=void 0!==a&&a,s=e.onRemove,l=void 0===s?function(){}:s,d=e.removeOnAnyClick,p=void 0!==d&&d,f=e.text,g=e.screenReaderText,b=void 0===g?"":g,v=ve()(e,["ariaLabel","className","disabled","onRemove","removeOnAnyClick","text","screenReaderText"]),y=p?"span":"button";if(!n){var w=b&&"string"==typeof b?b:f;n="string"!=typeof w?
/* translators: Remove chip. */
Object(m.__)("Remove","woo-gutenberg-products-block"):Object(m.sprintf)(
/* translators: %s text of the chip to remove. */
Object(m.__)('Remove "%s"',"woo-gutenberg-products-block"),w)}var O={"aria-label":n,disabled:i,onClick:l,onKeyDown:function(e){"Backspace"!==e.key&&"Delete"!==e.key||l()}},x=p?O:{},_=p?{"aria-hidden":!0}:O;return Object(u.createElement)(we,c()({},v,x,{className:P()(o,"is-removable"),element:p?"button":v.element,screenReaderText:b,text:f}),Object(u.createElement)(y,c()({className:"wc-block-components-chip__remove"},_),Object(u.createElement)(h.Icon,{icon:"no-alt"})))};Oe.propTypes={text:k.a.node.isRequired,ariaLabel:k.a.string,className:k.a.string,disabled:k.a.bool,onRemove:k.a.func,removeOnAnyClick:k.a.bool,screenReaderText:k.a.string};var xe=Oe,_e=function(e){var t=e.onRemoveItem,n=e.option;return Object(u.createElement)(xe,{className:"wc-block-dropdown-selector__selected-chip wc-block-components-dropdown-selector__selected-chip",removeOnAnyClick:!0,onRemove:function(){t(n.value)},ariaLabel:Object(m.sprintf)(
/* translators: %s is referring to the filter option being removed. */
Object(m.__)("Remove %s filter","woo-gutenberg-products-block"),n.label),text:n.label,radius:"large"})},je=function(e){var t=e.onClick,n=e.onRemoveItem,r=e.option,o=Object(u.useRef)(null);return Object(u.useEffect)((function(){o.current.focus()}),[o]),Object(u.createElement)("div",{className:"wc-block-dropdown-selector__selected-value wc-block-components-dropdown-selector__selected-value"},Object(u.createElement)("button",{ref:o,className:"wc-block-dropdown-selector__selected-value__label wc-block-components-dropdown-selector__selected-value__label",onClick:function(e){e.stopPropagation(),t(r.value)},"aria-label":Object(m.sprintf)(
/* translators: %s attribute value used in the filter. For example: yellow, green, small, large. */
Object(m.__)("Replace current %s filter","woo-gutenberg-products-block"),r.label)},r.label),Object(u.createElement)("button",{className:"wc-block-dropdown-selector__selected-value__remove wc-block-components-dropdown-selector__selected-value__remove",onClick:function(){n(r.value)},onKeyDown:function(e){"Backspace"!==e.key&&"Delete"!==e.key||n(r.value)},"aria-label":Object(m.sprintf)(
/* translators: %s attribute value used in the filter. For example: yellow, green, small, large. */
Object(m.__)("Remove %s filter","woo-gutenberg-products-block"),r.label)},Object(u.createElement)(h.Icon,{icon:"no-alt"})))};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.placeholder,n=void 0===t?"":t,r=e.className,o=e.checked,a=void 0===o?[]:o,i=e.inputLabel,c=void 0===i?"":i,s=e.isDisabled,l=void 0!==s&&s,d=e.isLoading,p=void 0!==d&&d,f=e.multiple,h=void 0!==f&&f,m=e.onChange,g=void 0===m?function(){}:m,b=e.options,v=void 0===b?[]:b,y=e.handleChange,w=void 0===y?function(){}:y,O=Object(u.useRef)(null),x=P()(r,"wc-block-dropdown-selector","wc-block-components-dropdown-selector",{"is-disabled":l,"is-loading":p}),_=Object(u.useCallback)((function(e,t){switch(t.type){case pe.stateChangeTypes.keyDownEnter:case pe.stateChangeTypes.clickItem:return Ee(Ee({},t),{},{highlightedIndex:e.highlightedIndex,isOpen:h,inputValue:""});case pe.stateChangeTypes.blurInput:case pe.stateChangeTypes.mouseUp:return Ee(Ee({},t),{},{inputValue:e.inputValue});default:return t}}),[h]);return Object(u.createElement)(pe,{onChange:g,selectedItem:null,stateReducer:_},(function(e){var t=e.getInputProps,r=e.getItemProps,o=e.getLabelProps,i=e.getMenuProps,s=e.highlightedIndex,d=e.inputValue,p=e.isOpen,f=e.openMenu;return Object(u.createElement)("div",{className:P()(x,{"is-multiple":h,"is-single":!h,"has-checked":a.length>0,"is-open":p})},Object(u.createElement)("label",o({className:"screen-reader-text"}),c),Object(u.createElement)(me,{isOpen:p,onClick:function(){O.current.focus()}},a.map((function(e){var t=function(e){g(e),O.current.focus()};return e&&(h?Object(u.createElement)(_e,{key:e.value,onRemoveItem:t,option:e}):Object(u.createElement)(je,{key:e?e.value:Math.random(),onClick:function(){O.current.focus()},onRemoveItem:t,option:e}))})),Object(u.createElement)(he,{checked:a,getInputProps:t,inputRef:O,isDisabled:l,onFocus:function(){f()},onRemoveItem:function(e){g(e),O.current.focus()},placeholder:a.length>0&&h?null:n,tabIndex:!h&&a.length>0?"-1":"0",value:d,onType:w})),p&&!l&&Object(u.createElement)(ge,{checked:a,getItemProps:r,getMenuProps:i,highlightedIndex:s,options:v.filter((function(e){var t=e.label.toLowerCase();return!d||t.includes(d.toLowerCase())}))}))}))};Se.propTypes={placeholder:k.a.string,checked:k.a.array,className:k.a.string,inputLabel:k.a.string,isDisabled:k.a.bool,isLoading:k.a.bool,limit:k.a.number,onChange:k.a.func,options:k.a.arrayOf(k.a.shape({label:k.a.node.isRequired,value:k.a.oneOfType([k.a.string.isRequired,k.a.number.isRequired])})),search:k.a.func,loadDropdown:k.a.func};var ke=Se,Ce=n(25),Pe=n(13),Te=n.n(Pe),Ae=n(36);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){var t=e.filterAdded,n=e.filterRemoved,r=e.changeCategory,o=t?t.label:null,a=n?n.label:null,i=r?r.label:null;o?Object(Ce.speak)(Object(m.sprintf)(
/* translators: %s product name (for example: 'blue t-shirt', 'red socks', 'green dress'...) */
Object(m.__)("%s product added.","sfn_cart_addons"),o)):a?Object(Ce.speak)(Object(m.sprintf)(
/* translators: %s product name (for example: 'blue t-shirt', 'red socks', 'green dress'...) */
Object(m.__)("%s product removed.","sfn_cart_addons"),a)):i&&Object(Ce.speak)(Object(m.sprintf)(
/* translators: %s category (for example: 't-shirts', 'socks', 'dresses'...) */
Object(m.__)("Changed category to %s.","sfn_cart_addons"),i))},Ne=function(e,t,n){return null!==e[t][n]&&e[t].products.length>0},He=function(e){return e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&#039;","'")},Le=function(e,t,n){n(e.filter((function(e){return!t.some((function(t){return t.value===e.value}))})))},Be=function(e,t){return t.find((function(t){return t.value===e}))},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{value:e.id,label:He(e.name)}}))},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.id}))};return e.map((function(e){return{value:e.id,label:He(e.name),variations:t(e.variations),itIncludesVariations:!1}}))},We=function(e,t,n,r){var a=w()(e);return a[t]=De(De({},a[t]),{},o()({},r,n)),a},Ue=function(e,t,n,r){var o=e?"/wc/store/products":"/wc/store/products/categories",a={per_page:r?10:0,search:null!=n?n:"",exclude:null!=t?t:""};return[Object(Ae.addQueryArgs)(o,De({},a))]},Fe=function(){var e=x()(j.a.mark((function e(t,n,r,o){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ue(t,n,r,o)[0],e.abrupt("return",Te()({path:a}));case 2:case"end":return e.stop()}}),e)})));return function(_x,t,n,r){return e.apply(this,arguments)}}();function $e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=x()(j.a.mark((function e(t){var n,r,o,a,i,c,s,l,u,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setItem,r=void 0===n?function(){}:n,o=t.isProduct,a=void 0===o||o,i=t.exclude,c=void 0===i?"":i,s=t.searchData,l=void 0===s?"":s,u=t.isLargeCatalog,d=void 0!==u&&u,e.next=3,Fe(a,c,l,d).then((function(e){return new Promise((function(t){t(a?Ve(e):Ke(e))}))}));case 3:p=e.sent,r(p);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=Object(u.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(u.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(u.createElement)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})),ze=function(e){var t=e.productsArray,n=e.setProductsArray,r=e.isMultiArray,o=e.order,a=e.setShouldUpdate,i=e.allProducts,c=e.isLargeCatalog,s=Object(u.useState)(i),d=l()(s,2),p=d[0],f=d[1],h=r?t[o].products:t,g=E((function(e){$e({setItem:f,isProduct:!0,exclude:"",searchData:e,isLargeCatalog:c})}),500);function b(){return(b=x()(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Re({filterRemoved:{id:t,label:n}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){Le(i,h,f)}),[i,h,f]);var y=function(e){if(r){var i=We(w()(t),o,e,"products");return n(i),void(Ne(w()(i),o,"products")&&a(!0))}a(!0),n(e)};return Object(u.createElement)(ke,{placeholder:Object(m.__)("Search Products","sfn_cart_addons"),checked:h,inputLabel:Object(m.__)("Search Products","sfn_cart_addons"),multiple:!0,onChange:function(e){if("object"===v()(e))return function(e){var t=w()(h).filter((function(t){return t.value!==e.value}));y(t)}(e),void Re({filterRemoved:e});var t=h.some((function(t){return t.value===e})),n=h.filter((function(t){return t.value!==e}));if(t){var r=Be(e,h);!function(_x,e){b.apply(this,arguments)}(e,r)}else{var o=Be(e,p);n.push(o),n.sort(),Re({filterAdded:o})}y(n),Le(p,n,f),c&&f([])},options:p,handleChange:function(e){if(c&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key){var t=e.target.value;g(t)}}})},qe=function(e){var t=e.setCancelButton,n=e.setDoneButton,r=e.shouldUpdate;return Object(u.createElement)("div",{className:"wc-cart-addons-block__edit-done-link-wrapper"},Object(u.createElement)(h.Button,{variant:"isLink",className:"is-link wc-cart-addons-block__cancel-button",onClick:function(){return t()}},Object(m.__)("Cancel","sfn_cart_addons")),r&&Object(u.createElement)(h.Button,{variant:"isSecondary",className:"is-secondary",onClick:function(){return n()}},Object(m.__)("Done","sfn_cart_addons")))},Xe=function(e){return 0===e.list.length?Object(u.createElement)(u.Fragment,null):Object(u.createElement)("ul",{className:"wc-cart-addons-block-options-display"},e.list.map((function(e){return Object(u.createElement)("li",{key:e.value,className:"label"},e.label)})))},Je=function(e){return Object(u.createElement)("p",{className:"wc-cart-addons-block__help-text"},e.text)},Qe=function(e){return Object(u.createElement)("p",{className:"wc-cart-addons-block__help-text"},Object(u.createElement)("em",null,e.text))},Ze=function(e){var t=e.setIsisEditing,n=e.buttonText,r=e.allProducts,o=e.setAllProducts,a=e.allCategories,i=e.setAllCategories,c=e.isLargeCatalog;return Object(u.createElement)("div",{className:"wc-cart-addons-block__edit-done-link-wrapper"},Object(u.createElement)(h.Button,{variant:"isLink",className:"is-link",onClick:function(){t(!0),c||(o&&r&&0===r.length&&$e({setItem:o}),i&&a&&0===a.length&&$e({setItem:i,isProduct:!1}))}},n))},et=function(e){var t=e.attributes,n=e.allProducts,r=e.isLargeCatalog,o=t.defaultAddons,a=Object(u.useState)(!1),i=l()(a,2),s=i[0],d=i[1],p=Object(u.useState)(!1),f=l()(p,2),g=f[0],b=f[1],v=Object(u.useState)(o),y=l()(v,2),w=y[0],O=y[1];return Object(u.createElement)(h.Panel,{className:"wc-cart-addons-block-panel"},Object(u.createElement)(h.PanelBody,{title:Object(m.__)("Default Upsells","sfn_cart_addons"),initialOpen:!0},Object(u.createElement)(Je,{text:Object(m.__)("These products will be displayed on the cart page if there are no matching products and/or categories in the shopping cart from the settings below.","sfn_cart_addons")}),s?Object(u.createElement)(u.Fragment,null,Object(u.createElement)(ze,{allProducts:n,setShouldUpdate:b,productsArray:w,setProductsArray:O,isLargeCatalog:r}),Object(u.createElement)(qe,{setCancelButton:function(){O(o),d(!1)},setDoneButton:function(){e.setAttributes({defaultAddons:w}),b(!1),d(!1)},shouldUpdate:g})):Object(u.createElement)(u.Fragment,null,o.length>0?Object(u.createElement)(Xe,{list:o}):Object(u.createElement)(u.Fragment,null,Object(u.createElement)(Qe,{text:Object(m.__)("You haven’t added any default upsells yet.","sfn_cart_addons")})),Object(u.createElement)(Ze,c()({},e,{setIsisEditing:d,buttonText:Object(m.__)("Edit default upsells","sfn_cart_addons")})))))},tt=n(19),nt=Object(u.createElement)(tt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(u.createElement)(tt.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),rt=function(e){var t=e.list,n=e.objectKey;return void 0===t||0===t.length?Object(u.createElement)(u.Fragment,null):Object(u.createElement)(u.Fragment,null,t.map((function(e){var t;return null!==e[n]?Object(u.createElement)("ul",{key:e[n].value},Object(u.createElement)("li",null,Object(u.createElement)("p",null,Object(u.createElement)("strong",null,e[n].label),null!==(t=e[n])&&void 0!==t&&t.itIncludesVariations?Object(m.__)(" (Including variations)","sfn_cart_addons"):""),Object(u.createElement)("ul",{className:"wc-cart-addons-block-options-display"},e.products.map((function(e){return Object(u.createElement)("li",{key:e.value},e.label)}))))):null})))};function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){st(e,t,n[t])}))}return e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t){return!t||"object"!==v()(t)&&"function"!=typeof t?ft(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}var vt=n(26),yt=n(15),wt=n.n(yt);var Ot=function(){function e(){ut(this,e),st(this,"refs",{})}return pt(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(xt)}}]),e}();function xt(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function _t(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var jt={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},It=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function Et(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function St(e,t){e.style["".concat(It,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function kt(e,t){e.style["".concat(It,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function Ct(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Pt(e,t,n){return Math.max(e,Math.min(n,t))}function Tt(e){return"px"===e.substr(-2)?parseFloat(e):0}function At(e){var t=window.getComputedStyle(e);return{bottom:Tt(t.marginBottom),left:Tt(t.marginLeft),right:Tt(t.marginRight),top:Tt(t.marginTop)}}function Mt(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function Dt(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function Rt(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Nt(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function Ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:Ht(e.parentNode,t,r)}}function Lt(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function Bt(e){var t=e.lockOffset,n=e.width,r=e.height,o=t,a=t,i="px";if("string"==typeof t){var c=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);wt()(null!==c,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),a=parseFloat(t),i=c[1]}return wt()(isFinite(o)&&isFinite(a),"lockOffset value should be a finite. Given %s",t),"%"===i&&(o=o*n/100,a=a*r/100),{x:o,y:a}}function Kt(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];wt()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=ct(o,2),i=a[0],c=a[1];return[Bt({height:t,lockOffset:i,width:n}),Bt({height:t,lockOffset:c,width:n})]}function Vt(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:Vt(e.parentNode):null}function Wt(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Tt(t.gridColumnGap),y:Tt(t.gridRowGap)}:{x:0,y:0}}var Ut="BUTTON",Ft="INPUT",$t="OPTION",Gt="TEXTAREA",Yt="SELECT";function zt(e){var t,n="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(n),o=e.cloneNode(!0);return(t=o.querySelectorAll(n),function(e){if(Array.isArray(e))return at(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||it(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=r[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),"CANVAS"===e.tagName&&r[t].width>0&&r[t].height>0&&e.getContext("2d").drawImage(r[t],0,0)})),o}function qt(e){return null!=e.sortableHandle}var Xt=function(){function e(t,n){ut(this,e),this.container=t,this.onScrollCallback=n}return pt(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,o=e.maxTranslate,a=e.width,i=e.height,c={x:0,y:0},s={x:1,y:1},l=this.container,u=l.scrollTop,d=l.scrollLeft,p=l.scrollHeight,f=l.scrollWidth,h=0===u,m=p-u-l.clientHeight==0,g=0===d,b=f-d-l.clientWidth==0;n.y>=o.y-i/2&&!m?(c.y=1,s.y=10*Math.abs((o.y-i/2-n.y)/i)):n.x>=o.x-a/2&&!b?(c.x=1,s.x=10*Math.abs((o.x-a/2-n.x)/a)):n.y<=r.y+i/2&&!h?(c.y=-1,s.y=10*Math.abs((n.y-i/2-r.y)/i)):n.x<=r.x+a/2&&!g&&(c.x=-1,s.x=10*Math.abs((n.x-a/2-r.x)/a)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===c.x&&0===c.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:s.x*c.x,top:s.y*c.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),Jt={axis:k.a.oneOf(["x","y","xy"]),contentWindow:k.a.any,disableAutoscroll:k.a.bool,distance:k.a.number,getContainer:k.a.func,getHelperDimensions:k.a.func,helperClass:k.a.string,helperContainer:k.a.oneOfType([k.a.func,"undefined"==typeof HTMLElement?k.a.any:k.a.instanceOf(HTMLElement)]),hideSortableGhost:k.a.bool,keyboardSortingTransitionDuration:k.a.number,lockAxis:k.a.string,lockOffset:k.a.oneOfType([k.a.number,k.a.string,k.a.arrayOf(k.a.oneOfType([k.a.number,k.a.string]))]),lockToContainerEdges:k.a.bool,onSortEnd:k.a.func,onSortMove:k.a.func,onSortOver:k.a.func,onSortStart:k.a.func,pressDelay:k.a.number,pressThreshold:k.a.number,keyCodes:k.a.shape({lift:k.a.arrayOf(k.a.number),drop:k.a.arrayOf(k.a.number),cancel:k.a.arrayOf(k.a.number),up:k.a.arrayOf(k.a.number),down:k.a.arrayOf(k.a.number)}),shouldCancelStart:k.a.func,transitionDuration:k.a.number,updateBeforeSortStart:k.a.func,useDragHandle:k.a.bool,useWindowAsScrollContainer:k.a.bool},Qt={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},Zt={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Qt,shouldCancelStart:function(e){return-1!==[Ft,Gt,Yt,$t,Ut].indexOf(e.target.tagName)||!!Ct(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},en=Object.keys(Jt);function tn(e){wt()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function nn(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var rn=Object(I.createContext)({manager:{}}),on={index:k.a.number.isRequired,collection:k.a.oneOfType([k.a.number,k.a.string]),disabled:k.a.bool},an=Object.keys(on),cn=Object(u.createElement)(tt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(u.createElement)(tt.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),sn=function(e){var t=e.currentSelection,n=e.order,r=e.setSortableArray,o=e.sortableArray,a=e.setShouldUpdate,i=e.isProduct,c=e.objectKey,s=e.allCategories,d=e.allProducts,p=e.isLargeCatalog,f=Object(u.useState)([]),h=l()(f,2),g=h[0],b=h[1],y=i?Object(m.__)("Find a Product","sfn_cart_addons"):Object(m.__)("Find a Category","sfn_cart_addons"),O=i?Object(m.__)("Search Products","sfn_cart_addons"):Object(m.__)("Search Categories","sfn_cart_addons"),x=i?d:s,_=E((function(e){var t=j(o,!0);$e({setItem:b,isProduct:i,exclude:t,searchData:e,isLargeCatalog:p})}),500);Object(u.useEffect)((function(){var e=j(o);Le(x,e,b)}),[x,j,b,o]);var j=Object(u.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.filter((function(e){return null!==e[c]}));return t?n.map((function(e){return e[c]?e[c].value:""})):n.map((function(e){return e[c]?e[c]:""}))}),[c]);return Object(u.createElement)(ke,{placeholder:y,checked:t?[t]:[],inputLabel:O,multiple:!1,onChange:function(e){var t;if("object"===v()(e))return(t=w()(o))[n]={category:null,products:[]},r(t),void Re({filterRemoved:e});var i=Be(e,g);Re({changeCategoryName:i}),function(e){var t=We(w()(o),n,e,c);r(t);var i=Ne(w()(o),n,c),s=j(t);Le(x,s,b),i&&a(!0)}(i),p&&b([])},options:g,handleChange:function(e){if(p&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key){var t=e.target.value;_(t)}}})},ln=function(e){var t,n=e.order,r=e.sortableArray,o=e.setSortableArray,a=e.setShouldUpdate,i=e.isProduct,c=e.allProducts,s=e.allCategories,l=e.isLargeCatalog,d=i?"product":"category",p=r[n]?r[n][d]:"";return Object(u.createElement)("div",null,Object(u.createElement)(sn,{currentSelection:p,order:n,isProduct:i,setSortableArray:o,sortableArray:r,setShouldUpdate:a,objectKey:d,allProducts:c,allCategories:s,isLargeCatalog:l}),p&&(null==p||null===(t=p.variations)||void 0===t?void 0:t.length)>0&&Object(u.createElement)(h.ToggleControl,{className:"wc-cart-addons-blocks-toggle-variations",label:Object(m.__)("Include Variations","sfn_cart_addons"),checked:p.itIncludesVariations,onChange:function(e){!function(e){var t=w()(r);t[n].product.itIncludesVariations=e,o(t),Ne(w()(r),n,d)&&a(!0)}(e)}}),p&&Object(u.createElement)(ze,{productsArray:r,setProductsArray:o,order:n,isMultiArray:!0,setShouldUpdate:a,allProducts:c,allCategories:s,isLargeCatalog:l}))},un=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;ut(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return st(ft(ft(t=ht(this,(e=mt(n)).call.apply(e,[this].concat(o))))),"wrappedInstance",Object(I.createRef)()),t}return bt(n,t),pt(n,[{key:"componentDidMount",value:function(){Object(vt.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return wt()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(I.createElement)(e,ot({ref:t},this.props))}}]),n}(I.Component),st(t,"displayName",Mt("sortableHandle",e)),n}((function(){return Object(u.createElement)(h.Icon,{icon:"menu",className:"wc-cart-addons-block-panel__sort"})})),dn=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;ut(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return st(ft(ft(t=ht(this,(e=mt(n)).call.apply(e,[this].concat(o))))),"wrappedInstance",Object(I.createRef)()),t}return bt(n,t),pt(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,o=Object(vt.findDOMNode)(this);o.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=o,this.ref={node:o},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return wt()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(I.createElement)(e,ot({ref:t},_t(this.props,an)))}}]),n}(I.Component),st(t,"displayName",Mt("sortableElement",e)),st(t,"contextType",rn),st(t,"propTypes",on),st(t,"defaultProps",{collection:0}),n}((function(e){var t=e.idx,n=e.sortableArray,r=e.objectKey,o=e.setSortableArray,a=e.setShouldUpdate,i=e.isProduct,c=e.deleteMatch,s=e.helpText,l=e.allProducts,d=e.allCategories,p=e.isLargeCatalog,f=n[t][r]?"products-selected":"no-product-selected";return Object(u.createElement)("li",{className:"wc-cart-addons-block-panel__list-item"},Object(u.createElement)("div",{className:"sortableElement ".concat(f)},Object(u.createElement)(un,null),Object(u.createElement)(ln,{order:t,sortableArray:n,setSortableArray:o,setShouldUpdate:a,isProduct:i,allProducts:l,allCategories:d,isLargeCatalog:p}),n[t].products.length>0&&Object(u.createElement)(h.Button,{icon:cn,variant:"primary",onClick:function(){return c(t)},className:"wc-cart-addons-block-panel__trash"})),!n[t][r]&&Object(u.createElement)("p",{className:"wc-cart-addons-block__help-text wc-cart-addons-block__cat-match"},s))})),pn=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;ut(this,n),st(ft(ft(t=ht(this,mt(n).call(this,e)))),"state",{}),st(ft(ft(t)),"handleStart",(function(e){var n=t.props,r=n.distance,o=n.shouldCancelStart;if(2!==e.button&&!o(e)){t.touched=!0,t.position=Rt(e);var a=Ct(e.target,(function(e){return null!=e.sortableInfo}));if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var i=t.props.useDragHandle,c=a.sortableInfo,s=c.index,l=c.collection;if(c.disabled)return;if(i&&!Ct(e.target,qt))return;t.manager.active={collection:l,index:s},Nt(e)||"A"!==e.target.tagName||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),st(ft(ft(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),st(ft(ft(t)),"handleMove",(function(e){var n=t.props,r=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var a=Rt(e),i={x:t.position.x-a.x,y:t.position.y-a.y},c=Math.abs(i.x)+Math.abs(i.y);t.delta=i,r||o&&!(c>=o)?r&&c>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),st(ft(ft(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),st(ft(ft(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),st(ft(ft(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=p.sortableInfo.index,r=At(p),o=Wt(t.container),l=t.scrollContainer.getBoundingClientRect(),m=i({index:n,node:p,collection:f});if(t.node=p,t.margin=r,t.gridGap=o,t.width=m.width,t.height=m.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=l,t.index=n,t.newIndex=n,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=Ht(p,t.container),t.initialOffset=Rt(h?lt({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(zt(p)),Et(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),h&&t.helper.focus(),s&&(t.sortableGhost=p,Et(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},h){var g=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,b=g.top,v=g.left,y=g.width,w=b+g.height,O=v+y;t.axis.x&&(t.minTranslate.x=v-t.boundingClientRect.left,t.maxTranslate.x=O-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=b-t.boundingClientRect.top,t.maxTranslate.y=w-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:l.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:l.left+l.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:l.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:l.top+l.height)-t.boundingClientRect.top-t.height/2);c&&c.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,h?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(jt.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),jt.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),u&&u({node:p,index:n,collection:f,isKeySorting:h,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),h&&t.keyMove(0)},o=t.props,a=o.axis,i=o.getHelperDimensions,c=o.helperClass,s=o.hideSortableGhost,l=o.updateBeforeSortStart,u=o.onSortStart,d=o.useWindowAsScrollContainer,p=n.node,f=n.collection,h=t.manager.isKeySorting,m=function(){if("function"==typeof l){t._awaitingUpdateBeforeSortStart=!0;var n=nn((function(){var t=p.sortableInfo.index;return Promise.resolve(l({collection:f,index:t,node:p,isKeySorting:h},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return m&&m.then?m.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),st(ft(ft(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),st(ft(ft(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,o=n.onSortEnd,a=t.manager,i=a.active.collection,c=a.isKeySorting,s=t.manager.getOrderedRefs();t.listenerNode&&(c?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(jt.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),jt.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&Et(t.sortableGhost,{opacity:"",visibility:""});for(var l=0,u=s.length;l<u;l++){var d=s[l],p=d.node;d.edgeOffset=null,d.boundingClientRect=null,St(p,null),kt(p,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({collection:i,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:c,nodes:s},e),t.touched=!1})),st(ft(ft(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=lt({},t.translate),o=0,a=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),o=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),a=t.translate.y-r.y),t.translate=r,St(t.helper,t.translate),t.scrollContainer.scrollLeft+=o,void(t.scrollContainer.scrollTop+=a)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),st(ft(ft(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),st(ft(ft(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,o=r.shouldCancelStart,a=r.keyCodes,i=lt({},Qt,void 0===a?{}:a);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||i.lift.includes(n)&&!o(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),i.lift.includes(n)&&!t.manager.active?t.keyLift(e):i.drop.includes(n)&&t.manager.active?t.keyDrop(e):i.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):i.up.includes(n)?t.keyMove(-1):i.down.includes(n)&&t.keyMove(1))})),st(ft(ft(t)),"keyLift",(function(e){var n=e.target,r=Ct(n,(function(e){return null!=e.sortableInfo})).sortableInfo,o=r.index,a=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:o,collection:a},t.handlePress(e)})),st(ft(ft(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,o=t.newIndex+e,a=t.newIndex;if(!(o<0||o>r)){t.prevIndex=a,t.newIndex=o;var i=Lt(t.newIndex,t.prevIndex,t.index),c=n.find((function(e){return e.node.sortableInfo.index===i})),s=c.node,l=t.containerScrollDelta,u=c.boundingClientRect||Dt(s,l),d=c.translate||{x:0,y:0},p=u.top+d.y-l.top,f=u.left+d.x-l.left,h=a<o,m=h&&t.axis.x?s.offsetWidth-t.width:0,g=h&&t.axis.y?s.offsetHeight-t.height:0;t.handleSortMove({pageX:f+m,pageY:p+g,ignoreTransition:0===e})}})),st(ft(ft(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),st(ft(ft(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),st(ft(ft(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,o=Ct(r,(function(e){return null!=e.sortableInfo}));return o&&o.sortableInfo&&!o.sortableInfo.disabled&&(n?qt(r):r.sortableInfo)}));var r=new Ot;return tn(e),t.manager=r,t.wrappedInstance=Object(I.createRef)(),t.sortableContextValue={manager:r},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return bt(n,t),pt(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Vt(e.container)||e.container,e.autoScroller=new Xt(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return jt[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return jt[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,a=t.transitionDuration,i=t.keyboardSortingTransitionDuration,c=void 0===i?a:i,s=this.manager.isKeySorting,l=e.ignoreTransition,u=Rt(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,o){var p=ct(Kt({height:this.height,lockOffset:r,width:this.width}),2),f=p[0],h=p[1],m={x:this.width/2-f.x,y:this.height/2-f.y},g={x:this.width/2-h.x,y:this.height/2-h.y};d.x=Pt(this.minTranslate.x+m.x,this.maxTranslate.x-g.x,d.x),d.y=Pt(this.minTranslate.y+m.y,this.maxTranslate.y-g.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),s&&c&&!l&&kt(this.helper,c),St(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,o=this.containerScrollDelta,a=this.windowScrollDelta,i=this.manager.getOrderedRefs(),c=this.offsetEdge.left+this.translate.x+o.left,s=this.offsetEdge.top+this.translate.y+o.top,l=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,p=i.length;d<p;d++){var f=i[d].node,h=f.sortableInfo.index,m=f.offsetWidth,g=f.offsetHeight,b={height:this.height>g?g/2:this.height/2,width:this.width>m?m/2:this.width/2},v=l&&h>this.index&&h<=u,y=l&&h<this.index&&h>=u,w={x:0,y:0},O=i[d].edgeOffset;O||(O=Ht(f,this.container),i[d].edgeOffset=O,l&&(i[d].boundingClientRect=Dt(f,o)));var x=d<i.length-1&&i[d+1],_=d>0&&i[d-1];x&&!x.edgeOffset&&(x.edgeOffset=Ht(x.node,this.container),l&&(x.boundingClientRect=Dt(x.node,o))),h!==this.index?(t&&kt(f,t),this.axis.x?this.axis.y?y||h<this.index&&(c+a.left-b.width<=O.left&&s+a.top<=O.top+b.height||s+a.top+b.height<=O.top)?(w.x=this.width+this.marginOffset.x,O.left+w.x>this.containerBoundingRect.width-b.width&&x&&(w.x=x.edgeOffset.left-O.left,w.y=x.edgeOffset.top-O.top),null===this.newIndex&&(this.newIndex=h)):(v||h>this.index&&(c+a.left+b.width>=O.left&&s+a.top+b.height>=O.top||s+a.top+b.height>=O.top+g))&&(w.x=-(this.width+this.marginOffset.x),O.left+w.x<this.containerBoundingRect.left+b.width&&_&&(w.x=_.edgeOffset.left-O.left,w.y=_.edgeOffset.top-O.top),this.newIndex=h):v||h>this.index&&c+a.left+b.width>=O.left?(w.x=-(this.width+this.marginOffset.x),this.newIndex=h):(y||h<this.index&&c+a.left<=O.left+b.width)&&(w.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(v||h>this.index&&s+a.top+b.height>=O.top?(w.y=-(this.height+this.marginOffset.y),this.newIndex=h):(y||h<this.index&&s+a.top<=O.top+b.height)&&(w.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),St(f,w),i[d].translate=w):n&&(this.sortableGhost=f,Et(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),l&&(this.newIndex=u);var j=l?this.prevIndex:u;r&&this.newIndex!==j&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:j,isKeySorting:l,nodes:i,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return wt()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(vt.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(I.createElement)(rn.Provider,{value:this.sortableContextValue},Object(I.createElement)(e,ot({ref:t},_t(this.props,en))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(I.Component),st(t,"displayName",Mt("sortableList",e)),st(t,"defaultProps",Zt),st(t,"propTypes",Jt),n}((function(e){var t;return Object(u.createElement)("ul",null,null===(t=e.sortableArray)||void 0===t?void 0:t.map((function(t,n){var r=n;return t.hasOwnProperty("category")&&t.category&&(r=t.category.value),t.hasOwnProperty("product")&&t.product&&(r=t.product.value),Object(u.createElement)(dn,c()({key:"item-".concat(r),index:n,idx:n},e))})))})),fn=function(e){var t=e.sortableArray,n=e.setSortableArray,r=e.setShouldUpdate,o=e.isProduct?"product":"category";return Object(u.createElement)(pn,c()({onSortEnd:function(e){var a,i,c,s=e.oldIndex,l=e.newIndex,u=(a=w()(t),i=s,c=l,function(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const r=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(r,0,o)}}(a=[...a],i,c),a);Ne(w()(t),s,o)&&r(!0),n(u)},useDragHandle:!0,deleteMatch:function(e){var a=w()(t);a.splice(e,1),Ne(w()(t),e,o)&&r(!0),n(a)}},e))},hn=function(e){var t={category:null,products:[]},n=e.setAttributes,r=e.allProducts,o=e.allCategories,a=e.isLargeCatalog,i=Object(u.useState)(!1),s=l()(i,2),d=s[0],p=s[1],f=Object(u.useState)(w()(e.attributes.categoryMatches)),g=l()(f,2),b=g[0],v=g[1],y=Object(u.useState)(!1),O=l()(y,2),x=O[0],_=O[1];return Object(u.createElement)(h.Panel,{className:"wc-cart-addons-block-panel"},Object(u.createElement)(h.PanelBody,{title:"Category Matches",initialOpen:!0},d?Object(u.createElement)(u.Fragment,null,Object(u.createElement)(Je,{text:Object(m.__)("Press the Add Category Match button to add some category matches. If a product in the shopping cart matches a category defined below, the cart upsells will display the matching products to show. Hit done to return to the review screen. ","sfn_cart_addons")}),Object(u.createElement)(fn,{useDragHandle:!0,sortableArray:b,setSortableArray:v,setShouldUpdate:_,allProducts:r,allCategories:o,isLargeCatalog:a,helpText:Object(m.__)("Select a category for product matches","sfn_cart_addons"),isProduct:!1}),Object(u.createElement)(h.Button,{icon:nt,variant:"primary",onClick:function(){v([].concat(w()(null!=b?b:[]),[t]))},className:"wc-cart-addons-block__add-match"},Object(u.createElement)("span",null,Object(m.__)("Add category matches","sfn_cart_addons"))),Object(u.createElement)(qe,{setCancelButton:function(){v(w()(e.attributes.categoryMatches)),p(!1)},setDoneButton:function(){var e,t=(e=b,"category",w()(e).filter((function(e){return null!==e.category&&void 0!==e.category&&0!==e.products.length})));v(t),n({categoryMatches:t}),_(!1),p(!1)},shouldUpdate:x})):Object(u.createElement)(u.Fragment,null,e.attributes.categoryMatches.length>0?Object(u.createElement)(rt,{list:e.attributes.categoryMatches,objectKey:"category"}):Object(u.createElement)(Qe,{text:Object(m.__)("You haven’t added any category matches yet.","sfn_cart_addons")}),Object(u.createElement)(Ze,c()({},e,{setIsisEditing:p,buttonText:Object(m.__)("Edit category matches","sfn_cart_addons")})))))},mn=function(e){var t={product:null,products:[]},n=e.setAttributes,r=Object(u.useState)(!1),o=l()(r,2),a=o[0],i=o[1],s=Object(u.useState)(w()(e.attributes.productMatches)),d=l()(s,2),p=d[0],f=d[1],g=Object(u.useState)(!1),b=l()(g,2),v=b[0],y=b[1];return Object(u.createElement)(h.Panel,{className:"wc-cart-addons-block-panel"},Object(u.createElement)(h.PanelBody,{title:"Product Matches",initialOpen:!0},a?Object(u.createElement)(u.Fragment,null,Object(u.createElement)(Je,{text:Object(m.__)("Press the Add Product Match button to add some product matches. If a product in the shopping cart matches one of the products defined below, the cart upsells will display the matching products below to show. Hit done to return to the review screen. ","sfn_cart_addons")}),Object(u.createElement)(fn,c()({},e,{listItems:p,useDragHandle:!0,sortableArray:p,setSortableArray:f,setShouldUpdate:y,helpText:Object(m.__)("Select a product for product matches","sfn_cart_addons"),isProduct:!0})),Object(u.createElement)(h.Button,{icon:nt,variant:"primary",onClick:function(){var e=p;f([].concat(w()(null!=e?e:[]),[t]))},className:"wc-cart-addons-block__add-match"},Object(m.__)("Add Product Match","sfn_cart_addons")),Object(u.createElement)(qe,{setCancelButton:function(){f(w()(e.attributes.productMatches)),i(!1)},setDoneButton:function(){var e,t=(e=p,"product",w()(e).filter((function(e){return null!==e.product&&void 0!==e.product&&0!==e.products.length})));f(t),n({productMatches:t}),y(!1),i(!1)},shouldUpdate:v})):Object(u.createElement)(u.Fragment,null,e.attributes.productMatches.length>0?Object(u.createElement)(rt,{list:e.attributes.productMatches,objectKey:"product"}):Object(u.createElement)(Qe,{text:Object(m.__)("You haven’t added any product matches yet.","sfn_cart_addons")}),Object(u.createElement)(Ze,c()({},e,{setIsisEditing:i,buttonText:Object(m.__)("Edit Product Matches","sfn_cart_addons")})))))},gn=function(e){var t=e.attributes,n=e.setAttributes,r=t.columns;return Object(u.createElement)(h.Panel,null,Object(u.createElement)(h.PanelBody,{title:"Layout Options",initialOpen:!0},Object(u.createElement)(h.RangeControl,{label:Object(m.__)("Columns","sfn_cart_addons"),value:r,onChange:function(e){return n({columns:e})},min:1,max:6,help:Object(m.__)("This defines the number of columns that the cart add-ons view will display.","sfn_cart_addons")})))},bn=n(17);function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(a.registerBlockType)("woocommerce/cart-add-ons",yn(yn({},bn),{},{icon:{foreground:"#7f54b3",src:Ye},edit:function(e){var t=Object(u.useState)([]),n=l()(t,2),r=n[0],o=n[1],a=Object(u.useState)([]),i=l()(a,2),s=i[0],h=i[1],m=Object(p.getSetting)("wcBlocksConfig").productCount>100;return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(d.InspectorControls,null,Object(u.createElement)(g,e),Object(u.createElement)(et,c()({allProducts:r,setAllProducts:o,isLargeCatalog:m},e)),Object(u.createElement)(hn,c()({allProducts:r,allCategories:s,setAllProducts:o,setAllCategories:h,isLargeCatalog:m},e)),Object(u.createElement)(mn,c()({allProducts:r,setAllProducts:o,isLargeCatalog:m},e)),Object(u.createElement)(gn,e)),Object(u.createElement)("div",Object(d.useBlockProps)(),Object(u.createElement)(f.a,c()({isEditing:!0},e))))},save:function(e){var t=e.attributes.className;return Object(u.createElement)("div",{className:P()("wc-blocks-cart-addons-wrapper",t)})}}))}]);