!function(c){"use strict";c(function(){c("#freshdesk-tickets").on("click","#open-ticket",function(e){e.preventDefault(),c("#freshdesk-tickets").block({message:null,overlayCSS:{background:"#fff url("+woocommerce_admin_meta_boxes.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:.6}});var o=c("#freshdesk-tickets #order-tickets-fields"),s={action:"wc_freshdesk_process_tickets",order_id:woocommerce_admin_meta_boxes.post_id,security:woocommerce_freshdesk_shop_order_params.security};c(".ticket-field").each(function(){var e=c(this),r=e.attr("name").replace("-","_").replace("ticket_",""),e=e.val();s[r]=e}),c.ajax({type:"POST",url:woocommerce_freshdesk_shop_order_params.ajax_url,cache:!1,dataType:"json",data:s,success:function(e){c("#freshdesk-tickets").unblock();var r,s="";null!==e&&1===e.status?(r='<a href="'+woocommerce_freshdesk_shop_order_params.ticket_url+e.id+'">'+woocommerce_freshdesk_shop_order_params.view_ticket+"</a>",o.empty().prepend('<div class="ticket-message updated inline"><p>'+woocommerce_freshdesk_shop_order_params.success+" "+r+"</p></div>")):(s=woocommerce_freshdesk_shop_order_params.error,null!==e&&null!==e.message&&""!==e.message&&(s=e.message),c(".ticket-error",o).remove(),o.prepend('<div class="ticket-error error inline"><p>'+s+"</p></div>"))},error:function(){c("#freshdesk-tickets").unblock(),c(".ticket-error",o).remove(),o.prepend('<div class="ticket-error error inline"><p>'+woocommerce_freshdesk_shop_order_params.error+"</p></div>")}})})})}(jQuery);