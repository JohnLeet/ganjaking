!function(l,p){l(function(){function c(e,i){var t=e.position(),a=e.parent();a.find(".wc_error_tip").remove(),e.after('<div class="wc_error_tip">'+i+"</div>"),a.find(".wc_error_tip").css("left",t.left+e.width()-e.width()/2-l(".wc_error_tip").width()/2).css("top",t.top+e.height()+4)}function s(e){e.parent().find(".wc_error_tip").fadeOut("100",function(){l(this).remove()})}var a=l(".allow_combination_field"),o=l(".options_group #allow_combination"),r=l("input#maximum_allowed_quantity").val(),i=l("#min_max_settings").prevAll(".options_group:visible:first"),e=("variable"===l("#product-type").val()?a.show():a.hide(),i.addClass("mmq_previous_section"),p.querySelector("#general_product_data")),t=new MutationObserver(function(e){i.removeClass("mmq_previous_section"),(i=l("#min_max_settings").prevAll(".options_group:visible:first")).addClass("mmq_previous_section")}),n=(null!==e&&t.observe(e,{attributes:!0,childList:!0,characterData:!0}),l(p.body).on("woocommerce-product-type-change",function(e,i,t){"variable"===i?a.show():a.hide()}),o.on("change",function(){l(".checkbox.min_max_rules").parents(".woocommerce_variable_attributes").find(".min_max_rules_options").each(function(){var e=l(this).closest(".woocommerce_variation .data").find(".checkbox.min_max_rules");o.is(":checked")?(e.prop("disabled",!0),e.is(":checked")&&(e.prop("checked",!1),e.data("prev-checked",!0)),l(this).hide()):(e.prop("disabled",!1),e.data("prev-checked")&&(e.prop("checked",!0),l(this).show()))})}),l("#woocommerce-product-data").on("woocommerce_variations_loaded woocommerce_variations_added",function(){var e=l(".checkbox.min_max_rules").parents(".woocommerce_variable_attributes").find(".min_max_rules_options"),i=l("input.variation_minimum_allowed_quantity"),t=l("input.variation_maximum_allowed_quantity");e.each(function(){var e=l(this).closest(".woocommerce_variation .data").find(".checkbox.min_max_rules");o.is(":checked")?(e.prop("disabled",!0),e.is(":checked")&&(e.prop("checked",!1),e.data("prev-checked",!0))):(e.prop("disabled",!1),e.data("prev-checked")&&e.prop("checked",!0)),e.is(":checked")&&!e.is(":disabled")?l(this).show():l(this).hide()}),i.each(function(){l(this).on("keyup change focusout focus click",function(){var e=l(this),i=e.val(),t=e.closest(".min_max_rules_options"),a=t.find("input.variation_maximum_allowed_quantity"),t=t.find("input.variation_group_of_quantity");is_valid=n(e,i,t.val(),a)})}),t.each(function(){l(this).data("prev-value",l(this).val()),l(this).on("keyup change focusout focus click",function(){var e=l(this),i=e.val(),t=e.closest(".min_max_rules_options"),a=t.find("input.variation_minimum_allowed_quantity"),t=t.find("input.variation_group_of_quantity"),o=e.data("prev-value");(is_valid=u(e,i,t.val(),a.val(),o))&&e.data("prev-value",e.val())})})}),l(".woocommerce_variations").on("change",".checkbox.min_max_rules",function(){var e=l(this).parents(".woocommerce_variable_attributes").find(".min_max_rules_options");l(this).is(":checked")?e.show():e.hide()}),l("input#minimum_allowed_quantity").on("keyup change focusout focus click",function(){var e=l(this),i=e.val(),t=e.closest(".options_group"),a=t.find("input#maximum_allowed_quantity"),t=t.find("input#group_of_quantity");is_valid=n(e,i,t.val(),a)}),l("input#maximum_allowed_quantity").on("keyup change focusout focus click",function(){var e=l(this),i=e.val(),t=e.closest(".options_group"),a=t.find("input#minimum_allowed_quantity"),t=t.find("input#group_of_quantity");is_valid=u(e,i,t.val(),a.val())}),function(e,i,t,a){var o=!0;return""!==i&&(i=parseInt(i,10),0<(t=parseInt(t,10))&&0<i&&i%t&&(o=!1,i=t*Math.ceil(i/t),"keyup"!==event.type&&"change"!==event.type&&"click"!==event.type&&"focus"!==event.type||!e.is(":focus")?(e.val(i).change(),o=!0):setTimeout(function(){c(e,"Please enter an integer that is a multiple of "+t+".")},5)),i>a.val()&&""!==a.val()&&(a.val(i),r=i),a.prop("min",i),o&&s(e)),o}),u=function(e,i,t,a,o=r){var n=!0;return""!==i&&(i=parseInt(i,10),t=parseInt(t,10),a=parseInt(a,10),0<t&&0<i&&i%t&&(n=!1,i=t*Math.floor(i/t),"keyup"!==event.type&&"change"!==event.type&&"click"!==event.type&&"focus"!==event.type||!e.is(":focus")?(e.val(i=0===i?"":i).change(),n=!0):setTimeout(function(){c(e,"Please enter an integer that is a multiple of "+t+".")},5)),i<a&&n&&("keyup"!==event.type&&"change"!==event.type||!e.is(":focus")?(o<a&&(o=a),e.val(o).change(),i=o,n=!0):setTimeout(function(){c(e,"Please enter an integer higher than "+(a-1)+".")},5)),!n)||(r=i,s(e)),n}})}(jQuery,document,window);
