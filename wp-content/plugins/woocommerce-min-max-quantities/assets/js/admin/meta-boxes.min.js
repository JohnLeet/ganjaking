!function(s,t){s(function(){function u(t,i){var e=t.position(),n=t.parent();n.find(".wc_error_tip").remove(),t.after('<div class="wc_error_tip">'+i+"</div>"),n.find(".wc_error_tip").css("left",e.left+t.width()-t.width()/2-s(".wc_error_tip").width()/2).css("top",e.top+t.height()+4)}function c(t){t.parent().find(".wc_error_tip").fadeOut("100",function(){s(this).remove()})}var n=s(".allow_combination_field"),r=s("input#maximum_allowed_quantity").val(),a=("variable"===s("#product-type").val()?n.show():n.hide(),s(t.body).on("woocommerce-product-type-change",function(t,i,e){"variable"===i?n.show():n.hide()}),s("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){var t=s(".checkbox.min_max_rules").parents(".woocommerce_variable_attributes").find(".min_max_rules_options"),i=s("input.variation_minimum_allowed_quantity"),e=s("input.variation_maximum_allowed_quantity");t.each(function(){s(this).closest(".woocommerce_variation .data").find(".checkbox.min_max_rules").is(":checked")?s(this).show():s(this).hide()}),i.each(function(){s(this).on("keyup change focusout focus click",function(){var t=s(this),i=t.val(),e=t.closest(".min_max_rules_options"),n=e.find("input.variation_maximum_allowed_quantity"),e=e.find("input.variation_group_of_quantity");is_valid=a(t,i,e.val(),n)})}),e.each(function(){s(this).data("prev-value",s(this).val()),s(this).on("keyup change focusout focus click",function(){var t=s(this),i=t.val(),e=t.closest(".min_max_rules_options"),n=e.find("input.variation_minimum_allowed_quantity"),e=e.find("input.variation_group_of_quantity"),a=t.data("prev-value");(is_valid=o(t,i,e.val(),n.val(),a))&&t.data("prev-value",t.val())})})}),s(".woocommerce_variations").on("change",".checkbox.min_max_rules",function(){var t=s(this).parents(".woocommerce_variable_attributes").find(".min_max_rules_options");s(this).is(":checked")?t.show():t.hide()}),s("input#minimum_allowed_quantity").on("keyup change focusout focus click",function(){var t=s(this),i=t.val(),e=t.closest(".options_group"),n=e.find("input#maximum_allowed_quantity"),e=e.find("input#group_of_quantity");is_valid=a(t,i,e.val(),n)}),s("input#maximum_allowed_quantity").on("keyup change focusout focus click",function(){var t=s(this),i=t.val(),e=t.closest(".options_group"),n=e.find("input#minimum_allowed_quantity"),e=e.find("input#group_of_quantity");is_valid=o(t,i,e.val(),n.val())}),function(t,i,e,n){var a=!0;return""!==i&&(i=parseInt(i,10),0<(e=parseInt(e,10))&&0<i&&i%e&&(a=!1,i=e*Math.ceil(i/e),"keyup"!==event.type&&"change"!==event.type&&"click"!==event.type&&"focus"!==event.type||!t.is(":focus")?(t.val(i).change(),a=!0):setTimeout(function(){u(t,"Please enter an integer that is a multiple of "+e+".")},5)),i>n.val()&&""!==n.val()&&(n.val(i),r=i),n.prop("min",i),a&&c(t)),a}),o=function(t,i,e,n,a=r){var o=!0;return""!==i&&(i=parseInt(i,10),e=parseInt(e,10),n=parseInt(n,10),0<e&&0<i&&i%e&&(o=!1,i=e*Math.floor(i/e),"keyup"!==event.type&&"change"!==event.type&&"click"!==event.type&&"focus"!==event.type||!t.is(":focus")?(t.val(i=0===i?"":i).change(),o=!0):setTimeout(function(){u(t,"Please enter an integer that is a multiple of "+e+".")},5)),i<n&&o&&("keyup"!==event.type&&"change"!==event.type||!t.is(":focus")?(a<n&&(a=n),t.val(a).change(),i=a,o=!0):setTimeout(function(){u(t,"Please enter an integer higher than "+(n-1)+".")},5)),!o)||(r=i,c(t)),o}})}(jQuery,document,window);
