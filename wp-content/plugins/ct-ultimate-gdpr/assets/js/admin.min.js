jQuery(document).ready((function(t){var e,n,c,a;(t().wpColorPicker&&t(".ct-color-field").wpColorPicker(),t().datepicker&&t(".ct-datepicker").datepicker({dateFormat:"MM d, yy"}),t("input[name=services-select-all]").on("click",(function(){t(this).prop("checked")?t(this).parent().parent().find("input[type=checkbox]").prop("checked",!0):t(this).parent().parent().find("input[type=checkbox]").prop("checked",!1)})),t("#wpbody-content > div.updated:not(.ct-ultimate-gdpr), #wpbody-content > div.notice:not(.ct-ultimate-gdpr), #wpbody-content > div.error:not(.ct-ultimate-gdpr)").hide(),t("input[name=ct-ultimate-gdpr-cookie-content-language]").on("click",(function(){t.post(ajaxurl,{action:"ct_ultimate_gdpr_cookie_get_option_text",language:t("#cookie_content_language").val()},(function(e){if(e)for(var n in e){var c=e[n];t("#"+n).val(c),t("#ct-ultimate-gdpr-cookie_"+n).val(c),t("#ct-ultimate-gdpr-cookie_"+n+"_ifr").contents().find("body").html(c)}}))})),t(".ct-iconpicker .ct-ip-holder .ct-ip-icon").on("click",(function(){t(".ct-iconpicker .ct-ip-popup").slideToggle()})),t(".ct-iconpicker .ct-ip-popup").on("click","a",(function(e){e.preventDefault();var n=t(this).data("icon"),c=t(".ct-icon-value"),a=t(".ct-ip-icon i");a.attr("class",""),a.addClass(n),c.val(n)})),t(".ct-iconpicker .ct-ip-popup").on("change keyup paste","input.ct-ip-search-input",(function(e){var n=t(".ct-iconpicker .ct-ip-popup ul"),c=t(this).val();_.isEmpty(c)?n.find("li").removeClass("hidden"):(n.find("li").addClass("hidden"),n.find('li a[data-icon*="'+c+'"]').parent("li").removeClass("hidden"))})),t(document).mouseup((function(e){var n=t(".ct-iconpicker"),c=t(".ct-iconpicker .ct-ip-popup");n.is(e.target)||0!==n.has(e.target).length||c.slideUp()})),t('[class*="ultimate-gdpr_page_ct-ultimate-gdpr-"]').length)&&(t('[class*="ultimate-gdpr_page_ct-ultimate-gdpr-"]').find('.form-table input[type="checkbox"]').each((function(){var e=t(this);e.css("display","none");var n='<div class="ct-ultimate-gdpr-checkbox-switch"><span class="on label">'+ct_ultimate_gdpr_admin_translations.enable+'</span><span class="off label">'+ct_ultimate_gdpr_admin_translations.disable+"</span><span class=\"switch\">'+ct_ultimate_gdpr_admin_translations.enable+'</span></div>";t(n).insertAfter(e),e[0].hasAttribute("checked")?e.next().find(".switch").css("left","0").text(ct_ultimate_gdpr_admin_translations.enabled):e.next().find(".switch").css("left","50%").text(ct_ultimate_gdpr_admin_translations.disabled)})),t(".ct-ultimate-gdpr-checkbox-switch .off").on("click",(function(){var e=t(this),n=e.parent().prev();n.prop("checked",!n.prop("checked")),e.next().css("left","50%").text(ct_ultimate_gdpr_admin_translations.disabled)})),t(".ct-ultimate-gdpr-checkbox-switch .on").on("click",(function(){var e=t(this),n=e.parent().prev();n.prop("checked",!n.prop("checked")),e.next().next().css("left","0").text(ct_ultimate_gdpr_admin_translations.enabled)})));(jQuery(".ct-ultimate-gdpr-message").length&&jQuery(".ct-ultimate-gdpr-message").each((function(){if(jQuery(this).hasClass("warning"))var t=" warning";else if(jQuery(this).hasClass("caution"))t=" caution";else t="";var e=jQuery(this),n=e.find("th").text(),c=e.find("td").html();jQuery('<div class="container-fluid"><div class="row ct-ultimate-gdpr-width ct-ultimate-gdpr-msg-clone'+t+' ct-ultimate-gdpr-inner-wrap"><div class="col-12"><strong class="msg-type">'+n+'</strong><p class="msg">'+c+"</p></div></div></div>").insertBefore("table")})),t(".ct-tab-2").css("display","none"),t(".ct-tab-3").css("display","none"),t("#cookie-popup").click((function(){t(this).addClass("nav-tab-active"),t("#cookie-preference").removeClass("nav-tab-active"),t("#cookie-advanced").removeClass("nav-tab-active"),t(".ct-tab-1").css("display","block"),t(".ct-tab-2").css("display","none"),t(".ct-tab-3").css("display","none")})),t("#cookie-preference").click((function(){t(this).addClass("nav-tab-active"),t("#cookie-popup").removeClass("nav-tab-active"),t("#cookie-advanced").removeClass("nav-tab-active"),t(".ct-tab-1").css("display","none"),t(".ct-tab-2").css("display","block"),t(".ct-tab-3").css("display","none")})),t("#cookie-advanced").click((function(){t(this).addClass("nav-tab-active"),t("#cookie-popup").removeClass("nav-tab-active"),t("#cookie-preference").removeClass("nav-tab-active"),t(".ct-tab-1").css("display","none"),t(".ct-tab-2").css("display","none"),t(".ct-tab-3").css("display","block")})),t("#age-popup").click((function(){t(this).addClass("nav-tab-active"),t("#age-preference").removeClass("nav-tab-active"),t("#age-advanced").removeClass("nav-tab-active"),t(".ct-tab-1").css("display","block"),t(".ct-tab-2").css("display","none"),t(".ct-tab-3").css("display","none")})),t("#age-preference").click((function(){t(this).addClass("nav-tab-active"),t("#age-popup").removeClass("nav-tab-active"),t("#age-advanced").removeClass("nav-tab-active"),t(".ct-tab-1").css("display","none"),t(".ct-tab-2").css("display","block"),t(".ct-tab-3").css("display","none")})),t(".ultimate-gdpr_page_ct-ultimate-gdpr-cookie").length&&(t(".ct-tab-3 .section-1").prepend("<thead></thead>"),t(".ct-tab-3 .section-1 tbody tr:first-child()").appendTo(".ct-tab-3 .section-1 thead"),t(".ct-tab-3 .section-1 tbody tr:first-child()").appendTo(".ct-tab-3 .section-1 thead"),t(".ct-tab-3 .section-1 tbody tr:first-child()").appendTo(".ct-tab-3 .section-1 thead")),t(".btn.btn-link").on("click",(function(t){t.preventDefault()})),t(".ct-ultimate-gdpr-wrap.ct-tab-3 .form-table.section-3 th").length)&&((e=t(".ct-ultimate-gdpr-wrap.ct-tab-3 .form-table.section-3 th")).next().slideUp(),e.on("click",(function(){e.next().slideUp(),e.removeClass("ct-acc-active"),t(this).addClass("ct-acc-active"),t(this).next().is(":visible")?t(this).next().slideUp():t(this).next().slideDown()})));t(".ct-ultimate-gdpr-wrap.ct-tab-3 .form-table.section-7 th").length&&((e=t(".ct-ultimate-gdpr-wrap.ct-tab-3 .form-table.section-7 th")).next().slideUp(),e.on("click",(function(){e.next().slideUp(),e.removeClass("ct-acc-active"),t(this).addClass("ct-acc-active"),t(this).next().is(":visible")?t(this).next().slideUp():t(this).next().slideDown()})));t(".ultimate-gdpr_page_ct-ultimate-gdpr-services #accordion .card:nth-child(2) .card-header").addClass("active"),t(".btn-link").on("click",(function(){t(this).hasClass("collapsed")?(t(this).parent().parent().addClass("active"),t(".btn-link").not(this).parent().parent().removeClass("active")):t(this).parent().parent().removeClass("active")})),t("input[name=ct-ultimate-gdpr-check-cookies]").on("click",(function(e){var i=t("#ct-ultimate-gdpr-cookies-scanner");function s(e){var n;c=[],a=[],n=e.length,t(".ct-ultimate-gdpr-cookies-scanner-content__scanTotal").text(n),t(".ct-ultimate-gdpr-cookies-scanner__Pages").text(n),t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed").addClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__failed").text(0),t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed-urls").addClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed-urls .urls ul").html(""),t(".cookies-scanner-content__response-notice-0").removeClass("hidden"),t(".cookies-scanner-content__response-notice-1").addClass("hidden"),t(".cookies-scanner-content__response-notice-continue").addClass("hidden"),t(".cookies-scanner-content__response-notice-ended").addClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__show-failed").addClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__retry").addClass("hidden"),r(""),o(e,0,[])}function o(e,n,i){!function(e,n){var c=e[n].label.substring(0,15)+"..."+e[n].label.substring(e[n].label.length-15);t(".ct-ultimate-gdpr-cookies-scanner-content__scanned").text(n+1),t(".ct-ultimate-gdpr-cookies-scanner-content__currentUrl").text(c)}(e,n),c[n]=t.post(ajaxurl,{action:"ct_ultimate_gdpr_cookie_scan_cookies",url:e[n].url},(function(t){})).fail((function(t){})).always((function(s){var l,d;t(".cookies-scanner-content__response-notice-0").addClass("hidden"),t(".cookies-scanner-content__response-notice-1").removeClass("hidden"),t(".cookies-scanner-content__response-notice-2").removeClass("hidden"),t(".cookies-scanner-content__response-notice-continue").removeClass("hidden"),0==s.success?(i.push(e[n]),a=i,l=i.length,d=e[n].label,t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed").removeClass("hidden"),t("span.ct-ultimate-gdpr-cookies-scanner-content__failed").text(l),t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed-urls .urls ul").append("<li><small>"+d+"</small></li>"),r(s.message,!1)):r(s.message,!0),++n<e.length?void 0!==c[n]&&c[n].aborted||o(e,n,i):(i.length||(t(".ct-ultimate-gdpr-cookies-scanner__Close").trigger("click"),window.location.replace(window.location.href+"&notice=scanner-success")),t(".cookies-scanner-content__response-notice-continue").addClass("hidden"),t(".cookies-scanner-content__response-notice-ended").removeClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__show-failed").removeClass("hidden"),t(".ct-ultimate-gdpr-cookies-scanner-content__retry").removeClass("hidden"))}))}function l(){try{for(var t in n.onreadystatechange=null,n.abort(),c)c.aborted=!0,c[t].onreadystatechange=null,c[t].abort()}catch(t){console.log("Not aborted: "+t)}}function r(e,n){t(".cookies-scanner-content__details-bottom .cookies-scanner-content__response").html(e),t(".cookies-scanner-content__details-bottom .cookies-scanner-content__response").removeClass("warning success"),n?t(".cookies-scanner-content__details-bottom .cookies-scanner-content__response").addClass("success"):t(".cookies-scanner-content__details-bottom .cookies-scanner-content__response").addClass("warning")}i.show(),e.preventDefault(),n=t.post(ajaxurl,{action:"ct_ultimate_gdpr_cookie_prepare_scan_cookies"},s),t(document).on("click",".ct-ultimate-gdpr-cookies-scanner__Close",(function(){i.hide(),l(),t(this).off("click")})),t(document).on("click",".ct-ultimate-gdpr-cookies-scanner-content__show-failed",(function(e){e.preventDefault(),t(".ct-ultimate-gdpr-cookies-scanner-content__scan.failed-urls").toggleClass("hidden")})),t(document).on("click",".ct-ultimate-gdpr-cookies-scanner-content__retry",(function(e){e.preventDefault(),confirm(t("#ct-ultimate-gdpr-cookies-scanner-content__retry-message").text())&&(l(),s(a))}))})),t(".ct-ultimate-gdpr-wrap a.nav-tab").on("click",(function(){t(".ct-ultimate-gdpr-InputForTab").attr("value",t(this).attr("id"))}));var i,s=t(".ct-ultimate-gdpr-InputForTab");function o(){var e=t("#cookie_single_popup").siblings();if(e.find().prevObject.length>0){var n=t(e[0]).children();"Enabled"===n[2].innerText&&(t(".list-before-individual + div").css("display","none"),t(".list-before-group + div").css("display","block")),"Disabled"===n[2].innerText&&(t(".list-before-individual + div").css("display","block"),t(".list-before-group + div").css("display","none"))}}s.length>0&&($tabValue=s.attr("value"),t("#"+$tabValue).trigger("click")),tippy(".ct-ultimate-gdpr-hint",{allowTitleHTML:!0,placement:"bottom",trigger:"click",hideOnClick:!0,arrow:!0,distance:0,animateFill:!1,animation:"fade"}),i=jQuery("#cookie_single_popup").parent(),o(),i.on("click",".ct-ultimate-gdpr-checkbox-switch",(function(){"checked"===i.find("input").attr("checked")&&o()}))}));
