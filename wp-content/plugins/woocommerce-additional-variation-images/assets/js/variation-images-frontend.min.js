jQuery(document).ready(function(o){"use strict";var n=o(wc_additional_variation_images_local.gallery_images_class).html(),t=o(wc_additional_variation_images_local.main_images_class).html();o.wc_additional_variation_images_frontend={getAjaxURL:function(a){return wc_additional_variation_images_local.ajax_url.toString().replace("%%endpoint%%","wc_additional_variation_images_"+a)},isCloudZoom:function(){return o("a.woocommerce-main-image").hasClass("cloud-zoom")},runLightBox:function(a){o("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t),o.wc_additional_variation_images_frontend.isCloudZoom()?(o(".cloud-zoom").each(function(){o(this).data("zoom").destroy()}),o(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()):o.isFunction(o.fn.prettyPhoto)&&o(wc_additional_variation_images_local.lightbox_images).prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),o("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),a&&a()},reset:function(a){if(1==wc_additional_variation_images_local.custom_reset_swap){o("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset",["",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t])}else o(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){o(this).html(n).hide().fadeIn(100,function(){o.wc_additional_variation_images_frontend.runLightBox()})});o("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.initProductGallery(),a&&a()},imageSwap:function(a,i){if(1==wc_additional_variation_images_local.custom_swap)o("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]);else if(wc_additional_variation_images_local.bwc)o(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){o(this).html(a.gallery_images).hide().fadeIn(100,function(){o.wc_additional_variation_images_frontend.runLightBox()})});else{var _=o(wc_additional_variation_images_local.main_images_class).parent();o(wc_additional_variation_images_local.main_images_class).remove(),_.prepend(a.main_images)}o("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.initProductGallery(),i&&i()},imageSwapOriginal:function(a){if(1==wc_additional_variation_images_local.custom_original_swap){o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_callback",["",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t])}else o(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){o(this).html(n).hide().fadeIn(100,function(){o.wc_additional_variation_images_frontend.runLightBox()})});o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.initProductGallery(),a&&a()},hideGallery:function(){o(wc_additional_variation_images_local.gallery_images_class).hide().css("visibility","hidden")},showGallery:function(){o(wc_additional_variation_images_local.gallery_images_class).css("visibility","visible").fadeIn("fast")},initProductGallery:function(){o(".woocommerce-product-gallery").each(function(){o(this).wc_product_gallery()})},getImages:function(a){return o.ajax({type:"POST",data:a,url:o.wc_additional_variation_images_frontend.getAjaxURL("get_images")})},init:function(){wc_additional_variation_images_local.bwc||o("form.variations_form").on("reset_image",function(a,i){o("form.variations_form").trigger("wc_additional_variation_images_frontend_reset_variation"),o(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var _={security:wc_additional_variation_images_local.ajaxImageSwapNonce,post_id:o("form.variations_form").data("product_id")};o.when(o.wc_additional_variation_images_frontend.getImages(_)).then(function(a){a?(o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.imageSwap(a)):(o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.imageSwapOriginal()),o(wc_additional_variation_images_local.gallery_images_class).unblock()})}),o("form.variations_form").on("show_variation",function(a,i){o("form.variations_form").trigger("wc_additional_variation_images_frontend_before_show_variation"),o(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var _={security:wc_additional_variation_images_local.ajaxImageSwapNonce,variation_id:i.variation_id,post_id:o("form.variations_form").data("product_id")};o.when(o.wc_additional_variation_images_frontend.getImages(_)).then(function(a){a?(o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.imageSwap(a)):(o("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t]),o.wc_additional_variation_images_frontend.imageSwapOriginal()),o(wc_additional_variation_images_local.gallery_images_class).unblock()})}),o("form.variations_form").on("click",".reset_variations",function(){o.wc_additional_variation_images_frontend.reset()}),o("form.variations_form").on("reset_image",function(){o.wc_additional_variation_images_frontend.reset()}),o("#variations_clear").on("click",function(){o.wc_additional_variation_images_frontend.reset()}),o(".swatch-anchor").on("click",function(){o(this).parent(".select-option").hasClass("selected")&&o.wc_additional_variation_images_frontend.reset()}),o("form.variations_form").trigger("wc_additional_variation_images_frontend_init",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,n,t])}},o.wc_additional_variation_images_frontend.init()});
