jQuery(document).ready(function(t){"use strict";var l=t(wc_additional_variation_images_local.gallery_images_class).html(),e=t(wc_additional_variation_images_local.main_images_class).html();t.wc_additional_variation_images_frontend={getAjaxURL:function(a){return wc_additional_variation_images_local.ajax_url.toString().replace("%%endpoint%%","wc_additional_variation_images_"+a)},isCloudZoom:function(){return t("a.woocommerce-main-image").hasClass("cloud-zoom")},runLightBox:function(a){t("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e),t.wc_additional_variation_images_frontend.isCloudZoom()?(t(".cloud-zoom").each(function(){t(this).data("zoom").destroy()}),t(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()):t.isFunction(t.fn.prettyPhoto)&&t(wc_additional_variation_images_local.lightbox_images).prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),t("form.variations_form").trigger("wc_additional_variation_images_frontend_lightbox_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),a&&a()},reset:function(a){if(1==wc_additional_variation_images_local.custom_reset_swap){t("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset",["",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e])}else t(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){t(this).html(l).hide().fadeIn(100,function(){t.wc_additional_variation_images_frontend.runLightBox()})});t("form.variations_form").trigger("wc_additional_variation_images_frontend_on_reset_done",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.initProductGallery(),a&&a()},imageSwap:function(a,i){if(1==wc_additional_variation_images_local.custom_swap)t("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]);else if(wc_additional_variation_images_local.bwc)t(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){t(this).html(a.gallery_images).hide().fadeIn(100,function(){t.wc_additional_variation_images_frontend.runLightBox()})});else{var _=t(wc_additional_variation_images_local.main_images_class),o=_.parent(),n=_.height();_.remove(),o.prepend(a.main_images),t(wc_additional_variation_images_local.main_images_class).height(n)}t("form.variations_form").trigger("wc_additional_variation_images_frontend_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.initProductGallery(),setTimeout(function(){t(wc_additional_variation_images_local.main_images_class).height("auto")},250),i&&i()},imageSwapOriginal:function(a){if(1==wc_additional_variation_images_local.custom_original_swap){t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_callback",["",wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e])}else t(wc_additional_variation_images_local.gallery_images_class).fadeOut(50,function(){t(this).html(l).hide().fadeIn(100,function(){t.wc_additional_variation_images_frontend.runLightBox()})});t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_default_image_swap_done_callback",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.initProductGallery(),a&&a()},hideGallery:function(){t(wc_additional_variation_images_local.gallery_images_class).hide().css("visibility","hidden")},showGallery:function(){t(wc_additional_variation_images_local.gallery_images_class).css("visibility","visible").fadeIn("fast")},initProductGallery:function(){t(".woocommerce-product-gallery").each(function(){t(this).wc_product_gallery()})},getImages:function(a){return t.ajax({type:"POST",data:a,url:t.wc_additional_variation_images_frontend.getAjaxURL("get_images")})},init:function(){wc_additional_variation_images_local.initial_reset=!0,wc_additional_variation_images_local.bwc||t("form.variations_form").on("reset_image",function(a,i){if(wc_additional_variation_images_local.initial_reset)wc_additional_variation_images_local.initial_reset=!1;else{t("form.variations_form").trigger("wc_additional_variation_images_frontend_reset_variation"),t(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var _={security:wc_additional_variation_images_local.ajaxImageSwapNonce,post_id:t("form.variations_form").data("product_id")};t.when(t.wc_additional_variation_images_frontend.getImages(_)).then(function(a){a?(t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.imageSwap(a)):(t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.imageSwapOriginal()),t(wc_additional_variation_images_local.gallery_images_class).unblock()})}}),t("form.variations_form").on("show_variation",function(a,i){t("form.variations_form").trigger("wc_additional_variation_images_frontend_before_show_variation"),t(wc_additional_variation_images_local.gallery_images_class).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var _={security:wc_additional_variation_images_local.ajaxImageSwapNonce,variation_id:i.variation_id,post_id:t("form.variations_form").data("product_id")};t.when(t.wc_additional_variation_images_frontend.getImages(_)).then(function(a){a?(t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.imageSwap(a)):(t("form.variations_form").trigger("wc_additional_variation_images_frontend_ajax_response_callback",[a,wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e]),t.wc_additional_variation_images_frontend.imageSwapOriginal()),t(wc_additional_variation_images_local.gallery_images_class).unblock()})}),t("form.variations_form").on("click",".reset_variations",function(){t.wc_additional_variation_images_frontend.reset()}),t("form.variations_form").on("reset_image",function(){t.wc_additional_variation_images_frontend.reset()}),t("#variations_clear").on("click",function(){t.wc_additional_variation_images_frontend.reset()}),t(".swatch-anchor").on("click",function(){t(this).parent(".select-option").hasClass("selected")&&t.wc_additional_variation_images_frontend.reset()}),t("form.variations_form").trigger("wc_additional_variation_images_frontend_init",[wc_additional_variation_images_local.gallery_images_class,wc_additional_variation_images_local.main_images_class,l,e])}},t.wc_additional_variation_images_frontend.init()});
