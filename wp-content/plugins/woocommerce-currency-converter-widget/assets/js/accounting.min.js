/*!
 * accounting.js v0.3.2, copyright 2011 Joss Crowcroft, MIT license, http://josscrowcroft.github.com/accounting.js
 */
!function(n){function p(n){return""===n||n&&n.charCodeAt&&n.substr}function f(n){return e?e(n):"[object Array]"===t.call(n)}function l(n){return"[object Object]"===t.call(n)}function m(n,r){var e,n=n||{};for(e in r=r||{})r.hasOwnProperty(e)&&null==n[e]&&(n[e]=r[e]);return n}function d(n,r,e){var t,o,a=[];if(n){if(i&&n.map===i)return n.map(r,e);for(t=0,o=n.length;t<o;t++)a[t]=r.call(e,n[t],t,n)}return a}function g(n,r){return n=Math.round(Math.abs(n)),isNaN(n)?r:n}function h(n){var r=y.settings.currency.format;return p(n="function"==typeof n?n():n)&&n.match("%v")?{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n}:n&&n.pos&&n.pos.match("%v")?n:p(r)?y.settings.currency.format={pos:r,neg:r.replace("%v","-%v"),zero:r}:r}var r,y={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},i=Array.prototype.map,e=Array.isArray,t=Object.prototype.toString,b=y.unformat=y.parse=function(n,r){var e;return f(n)?d(n,function(n){return b(n,r)}):"number"==typeof(n=n||0)?n:(r=r||".",e=RegExp("[^0-9-"+r+"]",["g"]),e=parseFloat((""+n).replace(/\((.*)\)/,"-$1").replace(e,"").replace(r,".")),isNaN(e)?0:e)},c=y.toFixed=function(n,r){var r=g(r,y.settings.number.precision),e=Math.pow(10,r);return(Math.round(y.unformat(n)*e)/e).toFixed(r)},v=y.formatNumber=function(n,r,e,t){var o,a,i,u;return f(n)?d(n,function(n){return v(n,r,e,t)}):(n=b(n),a=g((o=m(l(r)?r:{precision:r,thousand:e,decimal:t},y.settings.number)).precision),(n<0?"-":"")+((u=3<(i=parseInt(c(Math.abs(n||0),a),10)+"").length?i.length%3:0)?i.substr(0,u)+o.thousand:"")+i.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(a?o.decimal+c(Math.abs(n),a).split(".")[1]:""))},s=y.formatMoney=function(n,r,e,t,o,a){var i,u;return f(n)?d(n,function(n){return s(n,r,e,t,o,a)}):(n=b(n),u=h((i=m(l(r)?r:{symbol:r,precision:e,thousand:t,decimal:o,format:a},y.settings.currency)).format),(0<n?u.pos:n<0?u.neg:u.zero).replace("%s",i.symbol).replace("%v",v(Math.abs(n),g(i.precision),i.thousand,i.decimal)))};y.formatColumn=function(n,r,e,t,o,a){var i,u,c,s;return n?(i=m(l(r)?r:{symbol:r,precision:e,thousand:t,decimal:o,format:a},y.settings.currency),u=h(i.format),c=u.pos.indexOf("%s")<u.pos.indexOf("%v"),s=0,n=d(n,function(n){return f(n)?y.formatColumn(n,i):((n=(0<(n=b(n))?u.pos:n<0?u.neg:u.zero).replace("%s",i.symbol).replace("%v",v(Math.abs(n),g(i.precision),i.thousand,i.decimal))).length>s&&(s=n.length),n)}),d(n,function(n){return p(n)&&n.length<s?c?n.replace(i.symbol,i.symbol+Array(s-n.length+1).join(" ")):Array(s-n.length+1).join(" ")+n:n})):[]},"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=y:exports).accounting=y:"function"==typeof define&&define.amd?define([],function(){return y}):(y.noConflict=(r=n.accounting,function(){return n.accounting=r,y.noConflict=void 0,y}),n.accounting=y)}(this);